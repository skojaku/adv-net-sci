<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sadamori Kojaku">
<meta name="dcterms.date" content="2025-08-17">

<title>Core Concepts – Advanced Topics in Network Science</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../m03-robustness/02-coding.html" rel="next">
<link href="../m02-small-world/04-appendix.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-0348920b7671f696dc9078d39bff215e.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-e6dc204ec8b52f55243daf2cac742210.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "|"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="module" src="https://cdn.jsdelivr.net/npm/@marimo-team/islands@0.14.17/dist/main.js"></script>
<link href="https://cdn.jsdelivr.net/npm/@marimo-team/islands@0.14.17/dist/style.css" rel="stylesheet" crossorigin="anonymous">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;500;700&amp;family=Lora&amp;family=PT+Sans:wght@400;700&amp;display=swap" rel="stylesheet">
<script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css" integrity="sha384-wcIxkf4k558AjM3Yz3BBFQUbk/zgIYC2R0QpeeYb+TwlBVMrlgLqwRjRtGZiK7ww" crossorigin="anonymous">
</head><body class="nav-sidebar docked nav-fixed slimcontent quarto-light"><marimo-filename hidden=""></marimo-filename>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css">

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../assets/custom.css">




<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../logo.jpg" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Advanced Topics in Network Science</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-course" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Course</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-course">    
        <li>
    <a class="dropdown-item" href="../course/welcome.html">
 <span class="dropdown-text">Welcome</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../course/about.html">
 <span class="dropdown-text">About</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../course/discord.html">
 <span class="dropdown-text">Discord</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../course/minidora-usage.html">
 <span class="dropdown-text">Minidora</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../course/setup.html">
 <span class="dropdown-text">Setup</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-intro" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Intro</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-intro">    
        <li>
    <a class="dropdown-item" href="../intro/why-networks.html">
 <span class="dropdown-text">Why Networks?</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-foundations" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Foundations</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-foundations">    
        <li class="dropdown-header">─── M01: Euler Path ───</li>
        <li>
    <a class="dropdown-item" href="../m01-euler_tour/01-concepts.html">
 <span class="dropdown-text">Concepts</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../m01-euler_tour/02-coding.html">
 <span class="dropdown-text">Coding</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../m01-euler_tour/03-exercises.html">
 <span class="dropdown-text">Exercises</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../m01-euler_tour/04-advanced.html">
 <span class="dropdown-text">Advanced</span></a>
  </li>  
        <li class="dropdown-header">─── M02: Small World ───</li>
        <li>
    <a class="dropdown-item" href="../m02-small-world/01-concepts.html">
 <span class="dropdown-text">Concepts</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../m02-small-world/02-coding.html">
 <span class="dropdown-text">Coding</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../m02-small-world/03-exercises.html">
 <span class="dropdown-text">Exercises</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../m02-small-world/04-appendix.html">
 <span class="dropdown-text">Appendix</span></a>
  </li>  
        <li class="dropdown-header">─── M03: Robustness ───</li>
        <li>
    <a class="dropdown-item" href="../m03-robustness/01-concepts.html">
 <span class="dropdown-text">Concepts</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../m03-robustness/02-coding.html">
 <span class="dropdown-text">Coding</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../m03-robustness/03-exercises.html">
 <span class="dropdown-text">Exercises</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../m03-robustness/04-appendix.html">
 <span class="dropdown-text">Appendix</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-core-topics" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Core Topics</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-core-topics">    
        <li class="dropdown-header">─── M04: Friendship Paradox ───</li>
        <li>
    <a class="dropdown-item" href="../m04-node-degree/01-concepts.html">
 <span class="dropdown-text">Concepts</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../m04-node-degree/02-coding.html">
 <span class="dropdown-text">Coding</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../m04-node-degree/03-exercises.html">
 <span class="dropdown-text">Exercises</span></a>
  </li>  
        <li class="dropdown-header">─── M05: Clustering ───</li>
        <li>
    <a class="dropdown-item" href="../m05-clustering/01-concepts.html">
 <span class="dropdown-text">Concepts</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../m05-clustering/02-coding.html">
 <span class="dropdown-text">Coding</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../m05-clustering/03-exercises.html">
 <span class="dropdown-text">Exercises</span></a>
  </li>  
        <li class="dropdown-header">─── M06: Centrality ───</li>
        <li>
    <a class="dropdown-item" href="../m06-centrality/01-concepts.html">
 <span class="dropdown-text">Concepts</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../m06-centrality/02-coding.html">
 <span class="dropdown-text">Coding</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../m06-centrality/03-exercises.html">
 <span class="dropdown-text">Exercises</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-advanced-topics" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Advanced Topics</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-advanced-topics">    
        <li class="dropdown-header">─── M07: Random Walks ───</li>
        <li>
    <a class="dropdown-item" href="../m07-random-walks/01-concepts.html">
 <span class="dropdown-text">Concepts</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../m07-random-walks/02-coding.html">
 <span class="dropdown-text">Coding</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../m07-random-walks/03-exercises.html">
 <span class="dropdown-text">Exercises</span></a>
  </li>  
        <li class="dropdown-header">─── M08: Embedding ───</li>
        <li>
    <a class="dropdown-item" href="../m08-embedding/01-concepts.html">
 <span class="dropdown-text">Concepts</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../m08-embedding/02-coding.html">
 <span class="dropdown-text">Coding</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../m08-embedding/03-exercises.html">
 <span class="dropdown-text">Exercises</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../m08-embedding/04-appendix.html">
 <span class="dropdown-text">Appendix</span></a>
  </li>  
        <li class="dropdown-header">─── M09: Graph Neural Networks ───</li>
        <li>
    <a class="dropdown-item" href="../m09-graph-neural-networks/01-concepts.html">
 <span class="dropdown-text">Concepts</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../m09-graph-neural-networks/02-coding.html">
 <span class="dropdown-text">Coding</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../m09-graph-neural-networks/03-exercises.html">
 <span class="dropdown-text">Exercises</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../m09-graph-neural-networks/04-appendix.html">
 <span class="dropdown-text">Appendix</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../m03-robustness/01-concepts.html">M03: Robustness</a></li><li class="breadcrumb-item"><a href="../m03-robustness/01-concepts.html">Core Concepts</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Course Information</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course/welcome.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course/about.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About us</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course/discord.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discord</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course/minidora-usage.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Using Minidora</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course/setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Setup</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course/how-to-submit-assignment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">How to submit assignment</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">Introduction</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../intro/why-networks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Networks</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">M01: Euler Path</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m01-euler_tour/01-concepts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A Stroll, Seven Bridges, and a Mathematical Revolution</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m01-euler_tour/02-coding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Coding Networks in Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m01-euler_tour/03-exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercises</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m01-euler_tour/04-advanced.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Advanced: Sparse Matrices for Large-Scale Networks</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">M02: Small World</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m02-small-world/01-concepts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Core Concepts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m02-small-world/02-coding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Efficient Network Representation and Computing Paths</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m02-small-world/03-exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercises and Assignments</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m02-small-world/04-appendix.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Appendix - Brief Introduction to igraph</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">M03: Robustness</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m03-robustness/01-concepts.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Core Concepts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m03-robustness/02-coding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Coding - Network Robustness Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m03-robustness/03-exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercises and Assignments</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m03-robustness/04-appendix.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercises and Assignments</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false">
 <span class="menu-text">M04: Friendship Paradox</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m04-node-degree/01-concepts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Core Concepts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m04-node-degree/02-coding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Visualizing Degree Distributions in Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m04-node-degree/03-exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercises</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false">
 <span class="menu-text">M05: Clustering</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m05-clustering/01-concepts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Core Concepts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m05-clustering/02-coding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Clustering Algorithms and Implementation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m05-clustering/03-exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercises and Assignments</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="false">
 <span class="menu-text">M06: Centrality</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m06-centrality/01-concepts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Centrality Concepts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m06-centrality/02-coding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Coding - Centrality</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m06-centrality/03-exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercises &amp; Assignments</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false">
 <span class="menu-text">M07: Random Walks</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m07-random-walks/01-concepts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Random Walks Concepts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m07-random-walks/02-coding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Coding - Random Walks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m07-random-walks/03-exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Advanced Topics in Network Science</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="false">
 <span class="menu-text">M08: Embedding</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m08-embedding/01-concepts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Advanced Topics in Network Science</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m08-embedding/02-coding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Advanced Topics in Network Science</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m08-embedding/03-exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Advanced Topics in Network Science</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m08-embedding/04-appendix.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Advanced Topics in Network Science</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="false">
 <span class="menu-text">M09: Graph Neural Networks</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m09-graph-neural-networks/01-concepts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Advanced Topics in Network Science</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m09-graph-neural-networks/02-coding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Advanced Topics in Network Science</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m09-graph-neural-networks/03-exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Advanced Topics in Network Science</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../m09-graph-neural-networks/04-appendix.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Advanced Topics in Network Science</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../m03-robustness/01-concepts.html">M03: Robustness</a></li><li class="breadcrumb-item"><a href="../m03-robustness/01-concepts.html">Core Concepts</a></li></ol></nav>
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Core Concepts</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Sadamori Kojaku </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 17, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="what-to-learn-in-this-module" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="what-to-learn-in-this-module"><span class="header-section-number">1</span> What to learn in this module</h2>
<p>In this module, we will explore network robustness through the lens of infrastructure design. Starting from the historical challenge of building cost-effective power grids, we will learn:</p>
<ul>
<li>How minimum spanning trees provide optimal cost-efficiency for network connectivity</li>
<li>Why real-world networks have redundancies beyond minimum connectivity requirements</li>
<li>How networks respond to random failures versus targeted attacks</li>
<li>Quantitative measures of network robustness and percolation theory</li>
<li>Design principles for balancing cost efficiency with resilience</li>
</ul>
<p><strong>Keywords</strong>: minimum spanning tree, Kruskal’s algorithm, Prim’s algorithm, network redundancy, random failures, targeted attacks, connectivity loss, R-index, percolation, robustness paradox</p>
</section>
<section id="pen-and-paper-exercise-from-mst-to-robust-grid-design" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="pen-and-paper-exercise-from-mst-to-robust-grid-design"><span class="header-section-number">2</span> Pen-and-Paper Exercise: From MST to Robust Grid Design</h2>
<ul>
<li>✍️ <a href="./pen-and-paper/exercise.pdf">Pen and Paper Exercise</a>: Starting with a minimum spanning tree for cost efficiency, design a power grid network that maintains connectivity even when key components fail.</li>
</ul>
</section>
<section id="network-design-challenges" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="network-design-challenges"><span class="header-section-number">3</span> Network Design Challenges</h2>
<p><a href="https://skojaku.github.io/adv-net-sci/assets/vis/network-robustness.html">🚀 Interactive Demo</a></p>
</section>
<section id="power-grid-design-challenge" class="level2 page-columns page-full" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="power-grid-design-challenge"><span class="header-section-number">4</span> Power Grid Design Challenge</h2>
<p>In the aftermath of World War I, the newly formed Czechoslovakia faced massive reconstruction challenges. Cities and towns across <a href="https://en.wikipedia.org/wiki/Moravia">Moravia</a> needed electricity, but the young nation had limited resources. Every resources spent on unnecessary infrastructure was a resource not available for hospitals, schools, or economic recovery. Engineers at the West Moravian Power Company faced a critical question: How do you connect every town and village to the electrical grid while using the minimum length of cable?</p>

<div class="no-row-height column-margin column-container"><div class="">
<p><strong>Otakar Borůvka</strong> (1899-1995) was a Czech mathematician who is best known for his work on the minimum spanning tree problem.</p>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ee/Otakar_Boruvka_1981.jpg/500px-Otakar_Boruvka_1981.jpg" class="img-fluid"></p>
</div></div><p>The problem reached mathematician Otakar Borůvka through his friend at the power company. Borůvka’s 1926 solution gave us the first systematic approach to what we now call <strong>the minimum spanning tree problem</strong>: finding the cheapest way to connect all locations in a network.</p>
<section id="minimum-spanning-tree" class="level4">
<h4 class="anchored" data-anchor-id="minimum-spanning-tree">Minimum Spanning Tree</h4>
<p>A <strong>minimum spanning tree (MST)</strong> of a weighted network is a tree that:</p>
<ul>
<li><strong>Spans</strong> all nodes (connects every location in the network)</li>
<li>Is a <strong>tree</strong> (connected with no cycles - no redundant loops)</li>
<li>Has <strong>minimum total weight</strong> among all possible spanning trees</li>
</ul>
<p>Otakar Borůvka delivered the first algorithm to solve this problem: <strong>Borůvka’s algorithm</strong>. But it is not the only algorithm to find the minimum spanning tree. In fact, there are several algorithms. We will cover two algorithms: <strong>Kruskal’s algorithm</strong> and <strong>Prim’s algorithm</strong>, which are easier to understand and implement.</p>
</section>
<section id="finding-the-minimum-spanning-tree" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="finding-the-minimum-spanning-tree">Finding the Minimum Spanning Tree</h3>

<div class="no-row-height column-margin column-container"><div class="">
<iframe width="250" height="150" src="https://www.youtube.com/embed/8i2XsxU-VL4?si=UGZH5hgy09Jhsjru" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen="">
</iframe>
</div></div><section id="kruskals-algorithm" class="level4">
<h4 class="anchored" data-anchor-id="kruskals-algorithm">Kruskal’s Algorithm</h4>
<p><strong>Kruskal’s algorithm</strong> embodies a remarkably simple yet powerful intuition: always choose the cheapest available option, but never create wasteful loops. While sounds heuristic, this algorithm in fact leads to the global optimial solution!</p>
<p>The algorithm works by first sorting every possible connection from cheapest to most expensive like arranging all the cable segments by cost. Then, it examines each connection in order, asking a crucial question: “If I add this cable, will it create a redundant loop?” If the answer is no, the cable joins the growing network. If adding it would create a cycle—meaning the two locations are already connected through some other path—the algorithm skips it as wasteful. This process continues until every location is connected, guaranteeing both minimum cost and complete coverage.</p>
</section>
<section id="prims-algorithm" class="level4">
<h4 class="anchored" data-anchor-id="prims-algorithm">Prim’s Algorithm</h4>
<p><strong>Prim’s algorithm</strong> takes a fundamentally different approach, embodying the intuition of organic growth from a single starting point. Picture an engineer beginning at the central power plant and asking: “What’s the cheapest way to connect one more location to our existing grid?” This local growth strategy builds the network incrementally, always expanding from what’s already been constructed.</p>
<p>The algorithm begins by selecting any location as its starting point, often the power plant in our analogy. From this initial seed, it repeatedly identifies the cheapest connection that would bring a new, unconnected location into the growing network. Unlike Kruskal’s global view, Prim’s algorithm maintains a clear distinction between locations already in the network and those still waiting to be connected. At each step, it finds the minimum-cost bridge between these two groups, gradually expanding the connected region until it encompasses every location.</p>
<p>This local expansion strategy mirrors how many real-world infrastructure projects actually develop. Engineers often start from existing facilities and expand outward, always seeking the most cost-effective way to serve additional areas. Prim’s algorithm formalizes this natural growth process.</p>
<marimo-island data-app-id="main" data-cell-id="Hbol" data-reactive="true">
    <marimo-cell-output>
    <marimo-mime-renderer data-mime="&quot;application/vnd.marimo+error&quot;" data-data="[{&quot;msg&quot;: &quot;An ancestor raised an exception (ModuleNotFoundError): &quot;, &quot;exception_type&quot;: &quot;Ancestor raised&quot;, &quot;raising_cell&quot;: &quot;SFPL&quot;, &quot;type&quot;: &quot;exception&quot;}]"></marimo-mime-renderer>
    </marimo-cell-output>
    <marimo-cell-code hidden="">mo.vstack(%0A%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20unique_weights%2C%0A%20%20%20%20%20%20%20%20time_step%2C%0A%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22**Instructions**%3A%20Move%20the%20slider%20to%20see%20how%20each%20algorithm%20builds%20the%20MST%20step%20by%20step.%22%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%5D%0A)</marimo-cell-code>
</marimo-island>
<marimo-island data-app-id="main" data-cell-id="MJUe" data-reactive="true">
    <marimo-cell-output>
    <marimo-mime-renderer data-mime="&quot;application/vnd.marimo+error&quot;" data-data="[{&quot;msg&quot;: &quot;An ancestor raised an exception (ModuleNotFoundError): &quot;, &quot;exception_type&quot;: &quot;Ancestor raised&quot;, &quot;raising_cell&quot;: &quot;SFPL&quot;, &quot;type&quot;: &quot;exception&quot;}]"></marimo-mime-renderer>
    </marimo-cell-output>
    <marimo-cell-code hidden="">fig</marimo-cell-code>
</marimo-island>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Two algorithms find the same minimum spanning tree when all connection costs are different. If there are connections with the same cost, there are multiple minimum spanning trees of the same cost, and which tree to find depends on the algorithm. In particular, Prim’s algorithm finds different trees when starting from different locations.</p>
</div>
</div>
</section>
</section>
</section>
<section id="why-minimum-spanning-tree-is-not-enough" class="level2 page-columns page-full" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="why-minimum-spanning-tree-is-not-enough"><span class="header-section-number">5</span> Why Minimum Spanning Tree is Not Enough</h2>
<p>Minimum spanning tree is an efficient way to connect all locations in a network with the minimum total cost. However, such a network is vulnerable to failures, e.g., the network can be disconnected when a single node fails, in particular those close to the center of the network. This is why our power grid has a lot of redundancies beyond the minimum spanning tree, for the sake of resilience against failures.</p>
<div id="fig-us-powe-grid" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-us-powe-grid-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://www.geni.org/globalenergy/library/national_energy_grid/united-states-of-america/graphics/UnitedStatesPowerGrid.jpg" class="img-fluid figure-img" style="width:50.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-us-powe-grid-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: This is the power grid of the United States.
</figcaption>
</figure>
</div>
<section id="measuring-network-damage" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="measuring-network-damage">Measuring Network Damage</h3>
<p>Not every failure is equal. Some failures are more damaging than others. For example, removing somee nodes in a grid network can be catastrophic, while removing other nodes can be more tolerable.</p>
<p>While there can be many metrics to quantify network damage, we will focus on a purely topological metric: the fraction of nodes remaining in the largest connected component after removal.</p>
<p><span class="math display">
\text{Connectivity} = \frac{\text{Size of largest component after removal}}{\text{Original network size}}
</span></p>
<div id="fig-single-node-failure" class="quarto-float quarto-figure quarto-figure-center anchored" alt="The impact of removing a single node varies based on which node is removed.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-single-node-failure-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="../figs/single-node-failure.jpg" id="fig-single-node-failure" class="img-fluid figure-img" alt="The impact of removing a single node varies based on which node is removed.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-single-node-failure-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2
</figcaption>
</figure>
</div>
<p>The <strong>robustness profile</strong> plots connectivity against the fraction of nodes removed, revealing how networks fragment. Crucially, the shape of this profile depends entirely on the <strong>order</strong> in which nodes are removed - random removal creates one pattern, while strategic targeting creates dramatically different patterns.</p>
<div id="fig-multiple-node-failure" class="quarto-float quarto-figure quarto-figure-center anchored" alt="Robustness profile of a network for a sequential failure of nodes.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-multiple-node-failure-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="../figs/robustness-profile.jpg" id="fig-multiple-node-failure" class="img-fluid figure-img" alt="Robustness profile of a network for a sequential failure of nodes.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-multiple-node-failure-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3
</figcaption>
</figure>
</div>
<p>To compare networks with a single metric, we use the <strong>R-index</strong> - the area under this curve:</p>
<p><span class="math display">
R = \frac{1}{N} \sum_{k=1}^{N-1} y_k
</span></p>
<p>The robustness index is a measure of how robust a network is to under a sequential failure of nodes. The higher the R-index, the more robust the network is.</p>
<p>Networks can exhibit different robustness profiles under different attack strategies. One form of an attack is a <strong>random failure</strong>, where nodes are removed randomly. Another form of an attack is a <strong>targeted attack</strong>, where nodes are removed strategically.</p>
<p>Random failures are like earthquakes or equipment malfunctions; they strike unpredictably. In power grids, generators might fail due to technical problems. In computer networks, servers might crash randomly.</p>
<p>Even if a network survives random failures beautifully, it might crumble under <strong>targeted attacks</strong>. Adversaries strategically choose which nodes to attack for maximum damage. The most intuitive strategy targets <strong>high-degree nodes</strong> (hubs) first, i.e., like targeting the busiest airports to disrupt air travel.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p>The asymmetry between random failures and targeted attacks is one of the most counterintuitive discoveries in network science. A network that seems robust can have hidden vulnerabilities that smart adversaries can exploit.</p>
</div></div></section>
</section>
<section id="theoretical-framework-for-network-robustness" class="level2 page-columns page-full" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="theoretical-framework-for-network-robustness"><span class="header-section-number">6</span> Theoretical Framework for Network Robustness</h2>
<p>To understand these patterns mathematically, we can view network attacks as the <strong>reverse process of percolation</strong>. <strong>Percolation theory</strong> studies phase transitions in connectivity by asking: as we randomly add nodes to a grid, when does a giant connected component emerge? Network robustness asks the opposite: as we remove nodes, when does the giant component disappear?</p>

<div class="no-row-height column-margin column-container"><div class="">
<p>Percolation theory originated in physics to understand how liquids flow through porous materials. The same mathematics explains how networks fragment under node removal - a beautiful example of how physics concepts illuminate network behavior.</p>
</div></div><marimo-island data-app-id="main" data-cell-id="vblA" data-reactive="true">
    <marimo-cell-output>
    <marimo-mime-renderer data-mime="&quot;application/vnd.marimo+error&quot;" data-data="[{&quot;msg&quot;: &quot;An ancestor raised an exception (ModuleNotFoundError): &quot;, &quot;exception_type&quot;: &quot;Ancestor raised&quot;, &quot;raising_cell&quot;: &quot;SFPL&quot;, &quot;type&quot;: &quot;exception&quot;}]"></marimo-mime-renderer>
    </marimo-cell-output>
    <marimo-cell-code hidden="">p_slider</marimo-cell-code>
</marimo-island>
<marimo-island data-app-id="main" data-cell-id="bkHC" data-reactive="true">
    <marimo-cell-output>
    <marimo-mime-renderer data-mime="&quot;application/vnd.marimo+error&quot;" data-data="[{&quot;msg&quot;: &quot;An ancestor raised an exception (ModuleNotFoundError): &quot;, &quot;exception_type&quot;: &quot;Ancestor raised&quot;, &quot;raising_cell&quot;: &quot;SFPL&quot;, &quot;type&quot;: &quot;exception&quot;}]"></marimo-mime-renderer>
    </marimo-cell-output>
    <marimo-cell-code hidden="">percolation_visualization()</marimo-cell-code>
</marimo-island>

<div class="no-row-height column-margin column-container"><div class="">
<p><strong>Percolation vs.&nbsp;Robustness: Two Sides of the Same Coin</strong></p>
<p>Percolation theory asks: <em>“Starting from isolation, how many nodes must we connect to form a giant component?”</em> - increasing connectivity from <span class="math inline">p = 0</span> to <span class="math inline">p = 1</span>.</p>
<p>Robustness analysis asks: <em>“Starting from full connectivity, how many nodes must we remove to fragment the network?”</em> - decreasing connectivity from <span class="math inline">p = 1</span> to <span class="math inline">p = 0</span>.</p>
<p>These are mathematically equivalent processes, just viewed in opposite directions along the same connectivity parameter.</p>
</div></div><section id="the-phase-transition" class="level3">
<h3 class="anchored" data-anchor-id="the-phase-transition">The Phase Transition</h3>
<p>Imagine a grid where each square randomly becomes a “puddle” with probability <span class="math inline">p</span>. As <span class="math inline">p</span> increases, something dramatic happens - suddenly, a giant puddle spanning the entire grid appears! This <strong>phase transition</strong> occurs at a critical probability <span class="math inline">p_c</span>. Crucially, the exact timing doesn’t matter; only the fraction of nodes present or removed determines connectivity.</p>
<marimo-island data-app-id="main" data-cell-id="lEQa" data-reactive="true">
    <marimo-cell-output>
    <marimo-mime-renderer data-mime="&quot;application/vnd.marimo+error&quot;" data-data="[{&quot;msg&quot;: &quot;An ancestor raised an exception (ModuleNotFoundError): &quot;, &quot;exception_type&quot;: &quot;Ancestor raised&quot;, &quot;raising_cell&quot;: &quot;SFPL&quot;, &quot;type&quot;: &quot;exception&quot;}]"></marimo-mime-renderer>
    </marimo-cell-output>
    <marimo-cell-code hidden="">p_slider</marimo-cell-code>
</marimo-island>
<marimo-island data-app-id="main" data-cell-id="PKri" data-reactive="true">
    <marimo-cell-output>
    <marimo-mime-renderer data-mime="&quot;application/vnd.marimo+error&quot;" data-data="[{&quot;msg&quot;: &quot;An ancestor raised an exception (ModuleNotFoundError): &quot;, &quot;exception_type&quot;: &quot;Ancestor raised&quot;, &quot;raising_cell&quot;: &quot;SFPL&quot;, &quot;type&quot;: &quot;exception&quot;}]"></marimo-mime-renderer>
    </marimo-cell-output>
    <marimo-cell-code hidden="">phase_transition_plot()</marimo-cell-code>
</marimo-island>
</section>
<section id="the-molloy-reed-criterion" class="level3">
<h3 class="anchored" data-anchor-id="the-molloy-reed-criterion">The Molloy-Reed Criterion</h3>
<p>For networks with arbitrary degree distributions, the <strong>Molloy-Reed criterion</strong> determines whether a <strong>giant component</strong> exists - that is, whether the network contains a single large connected component that includes most of the nodes:</p>
<p><span class="math display">
\kappa = \frac{\langle k^2 \rangle}{\langle k \rangle} &gt; 2
</span></p>
<p>where <span class="math inline">\langle k \rangle</span> is the average degree and <span class="math inline">\langle k^2 \rangle</span> is the average of squared degrees. The ratio <span class="math inline">\kappa</span> measures <strong>degree heterogeneity</strong> - networks with hubs have high <span class="math inline">\kappa</span>, while degree homogeneous networks have low <span class="math inline">\kappa</span>. When <span class="math inline">\kappa &gt; 2</span>, a giant component forms that dominates the network connectivity. See the Appendix for the proof of the Molloy-Reed criterion.</p>
<p>The Molloy-Reed criterion is a powerful tool to predict the existence of a giant component in a network and allows us to find the critical fraction of nodes that must be <strong>removed</strong> to break the network. This critial fraction depends on the strategy of the attack, along with the degree distribution. For simplicity, let us restrict ourselves into the random failures. For the random failure case, the critical fraction is given by:</p>
<p><span class="math display">
f_c = 1 - \frac{1}{\kappa - 1}
</span></p>
<p>The value of <span class="math inline">\kappa</span> depends on the degree distribution, and below, we showcase two examples of degree distributions.</p>
<section id="degree-homogeneous-network" class="level4">
<h4 class="anchored" data-anchor-id="degree-homogeneous-network">Degree homogeneous network</h4>
<p>In case of a degree homogeneous network like a random network considered in the exercise above, the critical fraction is given by:</p>
<p><span class="math display">
f_c = 1 - \frac{1}{\langle k \rangle}
</span></p>
<p>given that <span class="math inline">\langle k^2 \rangle = \langle k \rangle^2</span> and thus <span class="math inline">\kappa = \langle k \rangle</span>. This suggests that the threshold is determined by the average degree <span class="math inline">\langle k \rangle</span>. A large <span class="math inline">\langle k \rangle</span> results in a larger <span class="math inline">f_c</span>, meaning that the network is more robust against random failures.</p>
</section>
<section id="degree-heterogeneous-network" class="level4">
<h4 class="anchored" data-anchor-id="degree-heterogeneous-network">Degree heterogeneous network</h4>
<p>Most real-world networks are degree heterogeneous, i.e., the degree distribution <span class="math inline">P(k) \sim k^{-\gamma}</span> follows a power law (called <em>scale-free</em> network). The power-law degree distribution has infinite second moment, i.e., <span class="math inline">\langle k^2 \rangle = \infty</span> and thus <span class="math inline">f_c = 1.0</span>, which means that all nodes must be removed to break the network into disconnected components. This is the case where the number of nodes is infinite (i.e., so that a node has a very large degree for the degree distribution to be a valid power law). When restricting the maximum degree to be finite, the critical fraction is given by:</p>
<p><span class="math display">
f_c =
\begin{cases}
1 - \dfrac{1}{\frac{\gamma-2}{3-\gamma} k_{\text{min}} ^{\gamma-2} k_{\text{max}}^{3-\gamma} -1} &amp; \text{if } 2 &lt; \gamma &lt; 3 \\
1 - \dfrac{1}{\frac{\gamma-2}{\gamma-3} k_{\text{min}} - 1} &amp; \text{if } \gamma &gt; 3 \\
\end{cases}
</span></p>
<p>where <span class="math inline">k_{\text{min}}</span> and <span class="math inline">k_{\text{max}}</span> are the minimum and maximum degree, respectively. The variable <span class="math inline">\gamma</span> is the exponent of the power law degree distribution, controlling the degree heterogeneity, where a lower <span class="math inline">\gamma</span> results in a more degree heterogeneous network.</p>
<ul>
<li><p>For regime <span class="math inline">2 &lt; \gamma &lt; 3</span>, the critical threshold <span class="math inline">f_c</span> is determined by the extreme values of the degree distribution, <span class="math inline">k_{\text{min}}</span> and <span class="math inline">k_{\text{max}}</span>. And <span class="math inline">f_c \rightarrow 1</span> when the maximum degree <span class="math inline">k_{\text{max}} \in [k_{\text{min}}, N-1]</span> increases. Notably, in this regime, the maximum degree <span class="math inline">k_{\text{max}}</span> increases as the network size <span class="math inline">N</span> increases, and this makes <span class="math inline">f_c \rightarrow 1</span>.</p></li>
<li><p>For regime <span class="math inline">\gamma &gt; 3</span>, the critical threshold <span class="math inline">f_c</span> is influenced by the minimum degree <span class="math inline">k_{\text{min}}</span>. In contrast to <span class="math inline">k_{\text{max}}</span>, <span class="math inline">k_{\text{min}}</span> remains constant as the network size <span class="math inline">N</span> grows. Consequently, the network disintegrates when a finite fraction of its nodes are removed.</p></li>
</ul>
<marimo-island data-app-id="main" data-cell-id="Xref" data-reactive="true">
    <marimo-cell-output>
    <marimo-mime-renderer data-mime="&quot;application/vnd.marimo+error&quot;" data-data="[{&quot;msg&quot;: &quot;An ancestor raised an exception (ModuleNotFoundError): &quot;, &quot;exception_type&quot;: &quot;Ancestor raised&quot;, &quot;raising_cell&quot;: &quot;SFPL&quot;, &quot;type&quot;: &quot;exception&quot;}]"></marimo-mime-renderer>
    </marimo-cell-output>
    <marimo-cell-code hidden="">chart_fc</marimo-cell-code>
</marimo-island>
</section>
</section>
<section id="robustness-under-attack" class="level3">
<h3 class="anchored" data-anchor-id="robustness-under-attack">Robustness Under Attack</h3>
<p>While scale-free networks show remarkable robustness against random failures, they exhibit a fundamental vulnerability to targeted attacks that deliberately target high-degree nodes (hubs). This asymmetry reveals the “Achilles’ heel” property of complex networks, where the same structural features that provide robustness against random failures create critical vulnerabilities to strategic attacks.</p>
<p>Rather than removing nodes randomly, an adversary with knowledge of the network structure can systematically remove the highest-degree nodes first, followed by the next highest-degree nodes, and so on. Under this targeted hub removal strategy, scale-free networks fragment rapidly and dramatically. The critical threshold for attacks, <span class="math inline">f_c^{\text{attack}}</span>, is dramatically lower than for random failures. While random failures require <span class="math inline">f_c^{\text{random}} \approx 1</span> (nearly all nodes must be removed), targeted attacks need only <span class="math inline">f_c^{\text{attack}} \ll 1</span> (a small fraction of hubs) to fragment the network.</p>
<p>To understand how networks fragment under targeted attacks, we must consider two key effects that occur when the highest-degree nodes are systematically removed. First, the removal of hub nodes changes the maximum degree of the remaining network from <span class="math inline">k_{\max}</span> to a new lower value <span class="math inline">k'_{\max}</span>. Second, since these removed hubs had many connections, their elimination also removes many links from the network, effectively changing the degree distribution of the surviving nodes.</p>
<p>The mathematical analysis of this process relies on mapping the attack problem back to the random failure framework through careful accounting of these structural changes. When we remove an <span class="math inline">f</span> fraction of the highest-degree nodes in a scale-free network, the new maximum degree becomes <span class="math inline">k'_{\max} = k_{\min} f^{1/(1-\gamma)}</span>, where the power-law exponent <span class="math inline">\gamma</span> determines how rapidly the degree sequence declines.</p>
<p>For scale-free networks with degree exponent <span class="math inline">\gamma</span>, the critical attack threshold <span class="math inline">f_c</span> satisfies:</p>
<p><span class="math display">
f_c^{\frac{2-\gamma}{1-\gamma}} = \frac{2 + 2^{-\gamma}}{3-\gamma} k_{\min} \left(f_c^{\frac{3-\gamma}{1-\gamma}} - 1\right)
</span></p>
<p>The fractional exponents <span class="math inline">(2-\gamma)/(1-\gamma)</span> and <span class="math inline">(3-\gamma)/(1-\gamma)</span> arise from the power-law degree distribution and determine how quickly the network fragments as hubs are removed. For networks with <span class="math inline">\gamma &lt; 3</span> (highly heterogeneous degree distributions), these exponents are negative, leading to extremely small values of <span class="math inline">f_c</span>, i.e., meaning just a tiny fraction of hub removal can destroy network connectivity.</p>
<p>This vulnerability has profound real-world implications across multiple domains. Power grids invest heavily in protecting major substations and transmission hubs because their failure could cascade throughout the system. Internet infrastructure includes hub redundancy and protection protocols to maintain connectivity when major routing nodes are compromised. Transportation networks maintain backup routes and alternative pathways when major airports or train stations fail. Even biological systems have evolved protective mechanisms for critical proteins that serve as hubs in cellular networks.</p>
<p>The robustness paradox demonstrates that no single network structure can be optimal against all types of failures. There’s always a fundamental trade-off between efficiency, which naturally favors hub-based architectures for optimal resource distribution, and security, which requires redundancy and distributed connectivity to prevent catastrophic failures from targeted attacks.</p>
</section>
</section>
<section id="design-principles-for-robust-networks" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="design-principles-for-robust-networks"><span class="header-section-number">7</span> Design Principles for Robust Networks</h2>
<p>How do we design networks that resist both random failures and targeted attacks? Key principles include:</p>
<ol type="1">
<li><strong>Balanced Degree Distribution</strong>: Avoid both extreme homogeneity and extreme hub concentration</li>
<li><strong>Multiple Redundant Pathways</strong>: Ensure removing any single node doesn’t isolate large portions</li>
<li><strong>Strategic Hub Protection</strong>: In hub-based networks, invest heavily in protecting critical nodes</li>
<li><strong>Hierarchical Design</strong>: Combine local clusters with hub connections and redundant backbones</li>
<li><strong>Adaptive Responses</strong>: Design systems that can reconfigure when attacks are detected</li>
</ol>
<p>These strategies reflect lessons learned from our historical power grid challenge: moving beyond the minimum spanning tree to create networks that balance efficiency with resilience.</p>
<!--
========================================
Code for the interactive visualizations
========================================
-->
<marimo-island data-app-id="main" data-cell-id="SFPL" data-reactive="true">
    <marimo-cell-output>
    <marimo-mime-renderer data-mime="&quot;application/vnd.marimo+error&quot;" data-data="[{&quot;msg&quot;: &quot;No module named 'matplotlib'&quot;, &quot;exception_type&quot;: &quot;ModuleNotFoundError&quot;, &quot;raising_cell&quot;: null, &quot;type&quot;: &quot;exception&quot;}]"></marimo-mime-renderer>
    </marimo-cell-output>
    <marimo-cell-code hidden="">import%20marimo%20as%20mo%0Aimport%20matplotlib.pyplot%20as%20plt%0Aimport%20pandas%20as%20pd%0Aimport%20numpy%20as%20np%0Afrom%20scipy.ndimage%20import%20label%0Afrom%20matplotlib.colors%20import%20ListedColormap%0Afrom%20scipy.sparse%20import%20csr_matrix%0Afrom%20scipy.sparse.csgraph%20import%20connected_components%0A</marimo-cell-code>
</marimo-island>
<marimo-island data-app-id="main" data-cell-id="BYtC" data-reactive="true">
    <marimo-cell-output>
    <marimo-mime-renderer data-mime="&quot;application/vnd.marimo+error&quot;" data-data="[{&quot;msg&quot;: &quot;An ancestor raised an exception (ModuleNotFoundError): &quot;, &quot;exception_type&quot;: &quot;Ancestor raised&quot;, &quot;raising_cell&quot;: &quot;SFPL&quot;, &quot;type&quot;: &quot;exception&quot;}]"></marimo-mime-renderer>
    </marimo-cell-output>
    <marimo-cell-code hidden="">%23%20Control%20for%20edge%20weight%20uniqueness%0Aunique_weights%20%3D%20mo.ui.checkbox(%0A%20%20%20%20label%3D%22Use%20unique%20edge%20weights%20(when%20unchecked%2C%20some%20edges%20have%20same%20weight)%22%2C%0A%20%20%20%20value%3DTrue%2C%0A)%0A%0A%23%20Time%20step%20slider%20-%20fixed%20to%20accommodate%20MST%20(max%206%20edges%20for%207%20nodes)%0Atime_step%20%3D%20mo.ui.slider(%0A%20%20%20%20start%3D0%2C%0A%20%20%20%20stop%3D6%2C%20%20%23%20Fixed%20max%20for%20power%20grid%20(7%20nodes%20%3D%206%20MST%20edges)%0A%20%20%20%20step%3D1%2C%0A%20%20%20%20value%3D6%2C%20%20%23%20Start%20at%20final%20state%0A%20%20%20%20label%3D%22Algorithm%20Time%20Step%20(0%3Dstart%2C%206%3Dcomplete%20MST)%22%2C%0A)</marimo-cell-code>
</marimo-island>
<marimo-island data-app-id="main" data-cell-id="RGSE" data-reactive="true">
    <marimo-cell-output>
    <marimo-mime-renderer data-mime="&quot;application/vnd.marimo+error&quot;" data-data="[{&quot;msg&quot;: &quot;An ancestor raised an exception (ModuleNotFoundError): &quot;, &quot;exception_type&quot;: &quot;Ancestor raised&quot;, &quot;raising_cell&quot;: &quot;SFPL&quot;, &quot;type&quot;: &quot;exception&quot;}]"></marimo-mime-renderer>
    </marimo-cell-output>
    <marimo-cell-code hidden="">def%20create_power_grid_graph(use_unique_weights%3DTrue)%3A%0A%20%20%20%20%22%22%22Create%20power%20grid%20graph%20with%20nodes%20and%20edges%22%22%22%0A%0A%20%20%20%20%23%20Define%20nodes%20with%20positions%0A%20%20%20%20nodes%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22A%22%3A%20(0%2C%201)%2C%0A%20%20%20%20%20%20%20%20%22B%22%3A%20(1%2C%202)%2C%0A%20%20%20%20%20%20%20%20%22C%22%3A%20(1%2C%200)%2C%0A%20%20%20%20%20%20%20%20%22D%22%3A%20(2%2C%202.5)%2C%0A%20%20%20%20%20%20%20%20%22E%22%3A%20(2%2C%201.5)%2C%0A%20%20%20%20%20%20%20%20%22F%22%3A%20(2%2C%200.5)%2C%0A%20%20%20%20%20%20%20%20%22G%22%3A%20(2%2C%20-0.5)%2C%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20use_unique_weights%3A%0A%20%20%20%20%20%20%20%20%23%20All%20weights%20are%20unique%0A%20%20%20%20%20%20%20%20edges%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22A%22%2C%20%22B%22%2C%208)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22A%22%2C%20%22C%22%2C%2012)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22B%22%2C%20%22D%22%2C%205)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22B%22%2C%20%22E%22%2C%207)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22C%22%2C%20%22F%22%2C%206)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22C%22%2C%20%22G%22%2C%204)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22D%22%2C%20%22E%22%2C%203)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22E%22%2C%20%22F%22%2C%209)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22F%22%2C%20%22G%22%2C%202)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22D%22%2C%20%22C%22%2C%2011)%2C%0A%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%23%20Some%20weights%20are%20the%20same%20-%20multiple%20MSTs%20possible%0A%20%20%20%20%20%20%20%20edges%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22A%22%2C%20%22B%22%2C%208)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22A%22%2C%20%22C%22%2C%2012)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22B%22%2C%20%22D%22%2C%205)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22B%22%2C%20%22E%22%2C%207)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22C%22%2C%20%22F%22%2C%206)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22C%22%2C%20%22G%22%2C%204)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22D%22%2C%20%22E%22%2C%203)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22E%22%2C%20%22F%22%2C%2011)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22F%22%2C%20%22G%22%2C%202)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22D%22%2C%20%22C%22%2C%2011)%2C%0A%20%20%20%20%20%20%20%20%5D%0A%0A%20%20%20%20return%20nodes%2C%20edges%0A%0A%0A%23%20Create%20the%20graph%20based%20on%20current%20setting%0Anodes%2C%20edges%20%3D%20create_power_grid_graph(unique_weights.value)%0A%0Adef%20kruskal_algorithm(nodes_dict%2C%20edges_list)%3A%0A%20%20%20%20%22%22%22Kruskal's%20algorithm%20implementation%20without%20networkx%22%22%22%0A%0A%20%20%20%20%23%20Step%201%3A%20Sort%20edges%20by%20weight%20(global%20perspective)%0A%20%20%20%20sorted_edges%20%3D%20sorted(edges_list%2C%20key%3Dlambda%20x%3A%20x%5B2%5D)%0A%0A%20%20%20%20%23%20Initialize%20Union-Find%20data%20structure%0A%20%20%20%20parent%20%3D%20%7B%7D%0A%20%20%20%20rank%20%3D%20%7B%7D%0A%0A%20%20%20%20%23%20Initialize%20all%20nodes%20in%20Union-Find%0A%20%20%20%20for%20node%20in%20nodes_dict%3A%0A%20%20%20%20%20%20%20%20parent%5Bnode%5D%20%3D%20node%0A%20%20%20%20%20%20%20%20rank%5Bnode%5D%20%3D%200%0A%0A%20%20%20%20def%20find(x)%3A%0A%20%20%20%20%20%20%20%20if%20parent%5Bx%5D%20!%3D%20x%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20parent%5Bx%5D%20%3D%20find(parent%5Bx%5D)%0A%20%20%20%20%20%20%20%20return%20parent%5Bx%5D%0A%0A%20%20%20%20def%20union(x%2C%20y)%3A%0A%20%20%20%20%20%20%20%20px%2C%20py%20%3D%20find(x)%2C%20find(y)%0A%20%20%20%20%20%20%20%20if%20px%20%3D%3D%20py%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20False%0A%20%20%20%20%20%20%20%20if%20rank%5Bpx%5D%20%3C%20rank%5Bpy%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20px%2C%20py%20%3D%20py%2C%20px%0A%20%20%20%20%20%20%20%20parent%5Bpy%5D%20%3D%20px%0A%20%20%20%20%20%20%20%20if%20rank%5Bpx%5D%20%3D%3D%20rank%5Bpy%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20rank%5Bpx%5D%20%2B%3D%201%0A%20%20%20%20%20%20%20%20return%20True%0A%0A%20%20%20%20mst_edges%20%3D%20%5B%5D%0A%20%20%20%20steps%20%3D%20%5B%5D%0A%0A%20%20%20%20for%20u%2C%20v%2C%20weight%20in%20sorted_edges%3A%0A%20%20%20%20%20%20%20%20if%20union(u%2C%20v)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20mst_edges.append((u%2C%20v%2C%20weight))%0A%20%20%20%20%20%20%20%20%20%20%20%20steps.append(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22edge%22%3A%20(u%2C%20v)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22weight%22%3A%20weight%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22action%22%3A%20%22added%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22reason%22%3A%20f%22Connects%20%7Bu%7D%20and%20%7Bv%7D%20without%20creating%20cycle%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%0A%20%20%20%20%20%20%20%20%23%20Continue%20until%20we%20have%20a%20spanning%20tree%20OR%20all%20edges%20are%20processed%0A%20%20%20%20%20%20%20%20if%20len(mst_edges)%20%3D%3D%20len(nodes_dict)%20-%201%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20break%0A%0A%20%20%20%20return%20mst_edges%2C%20steps%0A%0A%0Adef%20prim_algorithm(nodes_dict%2C%20edges_list%2C%20start_node%3D%22A%22)%3A%0A%20%20%20%20%22%22%22Prim's%20algorithm%20implementation%20without%20networkx%22%22%22%0A%0A%20%20%20%20%23%20Create%20adjacency%20list%0A%20%20%20%20adj%20%3D%20%7Bnode%3A%20%5B%5D%20for%20node%20in%20nodes_dict%7D%0A%20%20%20%20for%20u%2C%20v%2C%20weight%20in%20edges_list%3A%0A%20%20%20%20%20%20%20%20adj%5Bu%5D.append((v%2C%20weight))%0A%20%20%20%20%20%20%20%20adj%5Bv%5D.append((u%2C%20weight))%0A%0A%20%20%20%20visited%20%3D%20%7Bstart_node%7D%0A%20%20%20%20mst_edges%20%3D%20%5B%5D%0A%20%20%20%20steps%20%3D%20%5B%5D%0A%0A%20%20%20%20steps.append(%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22node%22%3A%20start_node%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22action%22%3A%20%22start%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22reason%22%3A%20f%22Starting%20from%20%7Bstart_node%7D%22%2C%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20)%0A%0A%20%20%20%20while%20len(visited)%20%3C%20len(nodes_dict)%3A%0A%20%20%20%20%20%20%20%20min_weight%20%3D%20float(%22inf%22)%0A%20%20%20%20%20%20%20%20min_edge%20%3D%20None%0A%0A%20%20%20%20%20%20%20%20%23%20Find%20cheapest%20edge%20from%20visited%20to%20unvisited%20nodes%0A%20%20%20%20%20%20%20%20for%20node%20in%20visited%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20neighbor%2C%20weight%20in%20adj%5Bnode%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20neighbor%20not%20in%20visited%20and%20weight%20%3C%20min_weight%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20min_weight%20%3D%20weight%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20min_edge%20%3D%20(node%2C%20neighbor%2C%20weight)%0A%0A%20%20%20%20%20%20%20%20if%20min_edge%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20u%2C%20v%2C%20weight%20%3D%20min_edge%0A%20%20%20%20%20%20%20%20%20%20%20%20visited.add(v)%0A%20%20%20%20%20%20%20%20%20%20%20%20mst_edges.append((u%2C%20v%2C%20weight))%0A%20%20%20%20%20%20%20%20%20%20%20%20steps.append(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22edge%22%3A%20(u%2C%20v)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22weight%22%3A%20weight%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22action%22%3A%20%22added%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22reason%22%3A%20f%22Cheapest%20connection%20from%20visited%20set%20to%20%7Bv%7D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%0A%20%20%20%20return%20mst_edges%2C%20steps%0A%0A%0A%23%20Run%20both%20algorithms%0Akruskal_mst%2C%20kruskal_steps%20%3D%20kruskal_algorithm(nodes%2C%20edges)%0Aprim_mst%2C%20prim_steps%20%3D%20prim_algorithm(nodes%2C%20edges)%0A%0A%23%20Calculate%20total%20weights%0Akruskal_weight%20%3D%20sum(w%20for%20_%2C%20_%2C%20w%20in%20kruskal_mst)%0Aprim_weight%20%3D%20sum(w%20for%20_%2C%20_%2C%20w%20in%20prim_mst)%0A%0A%23%20Display%20algorithm%20results%20with%20current%20step%20information%0Aweight_match%20%3D%20%22%E2%9C%85%20Same%22%20if%20kruskal_weight%20%3D%3D%20prim_weight%20else%20%22%E2%9D%8C%20Different%22%0A%0A%23%20Get%20current%20step%20information%0Acurrent_step%20%3D%20time_step.value%0Amax_steps%20%3D%20len(%5Bs%20for%20s%20in%20kruskal_steps%20if%20s%5B%22action%22%5D%20%3D%3D%20%22added%22%5D)</marimo-cell-code>
</marimo-island>
<marimo-island data-app-id="main" data-cell-id="Kclp" data-reactive="true">
    <marimo-cell-output>
    <marimo-mime-renderer data-mime="&quot;application/vnd.marimo+error&quot;" data-data="[{&quot;msg&quot;: &quot;An ancestor raised an exception (ModuleNotFoundError): &quot;, &quot;exception_type&quot;: &quot;Ancestor raised&quot;, &quot;raising_cell&quot;: &quot;SFPL&quot;, &quot;type&quot;: &quot;exception&quot;}]"></marimo-mime-renderer>
    </marimo-cell-output>
    <marimo-cell-code hidden="">def%20visualize_both_algorithms()%3A%0A%20%20%20%20%22%22%22Create%20side-by-side%20visualization%20of%20both%20algorithms%20with%20time%20step%20control%22%22%22%0A%0A%20%20%20%20fig%2C%20(ax1%2C%20ax2)%20%3D%20plt.subplots(1%2C%202%2C%20figsize%3D(16%2C%208))%0A%0A%20%20%20%20%23%20Get%20edges%20to%20show%20up%20to%20current%20time%20step%20for%20each%20algorithm%0A%20%20%20%20current_step%20%3D%20time_step.value%0A%0A%20%20%20%20%23%20For%20Kruskal%3A%20edges%20added%20in%20order%20they%20appear%20in%20steps%0A%20%20%20%20kruskal_edges_to_show%20%3D%20%5B%5D%0A%20%20%20%20for%20i%2C%20step%20in%20enumerate(kruskal_steps)%3A%0A%20%20%20%20%20%20%20%20if%20i%20%3E%3D%20current_step%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20break%0A%20%20%20%20%20%20%20%20if%20step%5B%22action%22%5D%20%3D%3D%20%22added%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20u%2C%20v%20%3D%20step%5B%22edge%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20weight%20%3D%20step%5B%22weight%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20kruskal_edges_to_show.append((u%2C%20v%2C%20weight))%0A%0A%20%20%20%20%23%20For%20Prim%3A%20edges%20added%20in%20order%20they%20appear%20in%20steps%0A%20%20%20%20prim_edges_to_show%20%3D%20%5B%5D%0A%20%20%20%20for%20i%2C%20step%20in%20enumerate(prim_steps%5B1%3A%5D%2C%201)%3A%20%20%23%20Skip%20the%20'start'%20step%0A%20%20%20%20%20%20%20%20if%20i%20%3E%20current_step%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20break%0A%20%20%20%20%20%20%20%20if%20step%5B%22action%22%5D%20%3D%3D%20%22added%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20u%2C%20v%20%3D%20step%5B%22edge%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20weight%20%3D%20step%5B%22weight%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20prim_edges_to_show.append((u%2C%20v%2C%20weight))%0A%0A%20%20%20%20algorithms%20%3D%20%5B%0A%20%20%20%20%20%20%20%20(ax1%2C%20%22Kruskal's%20Algorithm%22%2C%20kruskal_edges_to_show)%2C%0A%20%20%20%20%20%20%20%20(ax2%2C%20%22Prim's%20Algorithm%22%2C%20prim_edges_to_show)%2C%0A%20%20%20%20%5D%0A%0A%20%20%20%20for%20ax%2C%20title%2C%20edges_to_show%20in%20algorithms%3A%0A%20%20%20%20%20%20%20%20ax.clear()%0A%20%20%20%20%20%20%20%20ax.set_facecolor(%22white%22)%0A%0A%20%20%20%20%20%20%20%20%23%20Draw%20all%20possible%20edges%20-%20dashed%20for%20unconnected%0A%20%20%20%20%20%20%20%20mst_edge_set%20%3D%20set((u%2C%20v)%20for%20u%2C%20v%2C%20_%20in%20edges_to_show)%20%7C%20set(%0A%20%20%20%20%20%20%20%20%20%20%20%20(v%2C%20u)%20for%20u%2C%20v%2C%20_%20in%20edges_to_show%0A%20%20%20%20%20%20%20%20)%0A%0A%20%20%20%20%20%20%20%20for%20u%2C%20v%2C%20weight%20in%20edges%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20x1%2C%20y1%20%3D%20nodes%5Bu%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20x2%2C%20y2%20%3D%20nodes%5Bv%5D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(u%2C%20v)%20in%20mst_edge_set%20or%20(v%2C%20u)%20in%20mst_edge_set%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20MST%20edge%20-%20solid%20black%20line%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ax.plot(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5Bx1%2C%20x2%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5By1%2C%20y2%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22black%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20linewidth%3D3%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20solid_capstyle%3D%22round%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Non-MST%20edge%20-%20dashed%20grey%20line%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ax.plot(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5Bx1%2C%20x2%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5By1%2C%20y2%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22grey%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20linewidth%3D2%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20linestyle%3D%22--%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alpha%3D0.7%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Add%20edge%20weight%20labels%20with%20larger%20font%0A%20%20%20%20%20%20%20%20%20%20%20%20mid_x%2C%20mid_y%20%3D%20(x1%20%2B%20x2)%20%2F%202%2C%20(y1%20%2B%20y2)%20%2F%202%0A%20%20%20%20%20%20%20%20%20%20%20%20ax.text(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mid_x%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mid_y%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20str(weight)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fontsize%3D20%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bbox%3Ddict(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20boxstyle%3D%22round%2Cpad%3D0.2%22%2C%20facecolor%3D%22white%22%2C%20alpha%3D0.9%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ha%3D%22center%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20va%3D%22center%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fontweight%3D%22bold%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%0A%20%20%20%20%20%20%20%20%23%20Draw%20nodes%20-%20color%20based%20on%20connection%20status%0A%20%20%20%20%20%20%20%20connected_nodes%20%3D%20set()%0A%20%20%20%20%20%20%20%20if%20%22Prim%22%20in%20title%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20For%20Prim%2C%20start%20with%20node%20A%20always%20connected%0A%20%20%20%20%20%20%20%20%20%20%20%20connected_nodes.add(%22A%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20u%2C%20v%2C%20_%20in%20edges_to_show%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20connected_nodes.add(u)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20connected_nodes.add(v)%0A%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20For%20Kruskal%2C%20find%20all%20nodes%20in%20connected%20components%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20edges_to_show%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Build%20Union-Find%20to%20determine%20connected%20components%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20parent%20%3D%20%7Bnode%3A%20node%20for%20node%20in%20nodes%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20def%20find_root(x)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20parent%5Bx%5D%20!%3D%20x%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20parent%5Bx%5D%20%3D%20find_root(parent%5Bx%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20parent%5Bx%5D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20def%20union_nodes(x%2C%20y)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20px%2C%20py%20%3D%20find_root(x)%2C%20find_root(y)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20px%20!%3D%20py%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20parent%5Bpy%5D%20%3D%20px%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Apply%20edges%20to%20build%20connected%20components%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20u%2C%20v%2C%20_%20in%20edges_to_show%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20union_nodes(u%2C%20v)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Find%20all%20nodes%20connected%20to%20any%20component%20that%20has%20edges%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20connected_roots%20%3D%20set()%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20u%2C%20v%2C%20_%20in%20edges_to_show%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20connected_roots.add(find_root(u))%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20connected_roots.add(find_root(v))%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20node%20in%20nodes%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20find_root(node)%20in%20connected_roots%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20connected_nodes.add(node)%0A%0A%20%20%20%20%20%20%20%20for%20node%2C%20(x%2C%20y)%20in%20nodes.items()%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20color%20%3D%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%23f5cbcc%22%20if%20node%20in%20connected_nodes%20else%20%22%23d0e2f3%22%0A%20%20%20%20%20%20%20%20%20%20%20%20)%20%20%23%20light%20red%20%3A%20light%20blue%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Draw%20larger%20circle%20with%20black%20border%0A%20%20%20%20%20%20%20%20%20%20%20%20circle%20%3D%20plt.Circle((x%2C%20y)%2C%200.15%2C%20color%3Dcolor%2C%20zorder%3D5)%0A%20%20%20%20%20%20%20%20%20%20%20%20ax.add_patch(circle)%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Add%20black%20border%0A%20%20%20%20%20%20%20%20%20%20%20%20border_circle%20%3D%20plt.Circle(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(x%2C%20y)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200.15%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fill%3DFalse%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20edgecolor%3D%22black%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20linewidth%3D2%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20zorder%3D6%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20ax.add_patch(border_circle)%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Larger%20text%0A%20%20%20%20%20%20%20%20%20%20%20%20ax.text(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20node%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ha%3D%22center%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20va%3D%22center%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fontsize%3D20%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fontweight%3D%22bold%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20zorder%3D7%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%0A%20%20%20%20%20%20%20%20%23%20Clean%20title%0A%20%20%20%20%20%20%20%20ax.set_title(title%2C%20fontsize%3D22%2C%20fontweight%3D%22bold%22%2C%20pad%3D20)%0A%20%20%20%20%20%20%20%20ax.set_aspect(%22equal%22)%0A%20%20%20%20%20%20%20%20ax.axis(%22off%22)%0A%0A%20%20%20%20%20%20%20%20%23%20Set%20axis%20limits%20with%20padding%0A%20%20%20%20%20%20%20%20x_coords%20%3D%20%5Bx%20for%20x%2C%20y%20in%20nodes.values()%5D%0A%20%20%20%20%20%20%20%20y_coords%20%3D%20%5By%20for%20x%2C%20y%20in%20nodes.values()%5D%0A%20%20%20%20%20%20%20%20ax.set_xlim(min(x_coords)%20-%200.3%2C%20max(x_coords)%20%2B%200.3)%0A%20%20%20%20%20%20%20%20ax.set_ylim(min(y_coords)%20-%200.3%2C%20max(y_coords)%20%2B%200.3)%0A%0A%20%20%20%20plt.tight_layout()%0A%20%20%20%20return%20fig%0A%0A%0A%23%20Create%20and%20display%20the%20visualization%0Afig%20%3D%20visualize_both_algorithms()</marimo-cell-code>
</marimo-island>
<!---
Code for the percolation visualization
--->
<marimo-island data-app-id="main" data-cell-id="emfo" data-reactive="true">
    <marimo-cell-output>
    <marimo-mime-renderer data-mime="&quot;application/vnd.marimo+error&quot;" data-data="[{&quot;msg&quot;: &quot;An ancestor raised an exception (ModuleNotFoundError): &quot;, &quot;exception_type&quot;: &quot;Ancestor raised&quot;, &quot;raising_cell&quot;: &quot;SFPL&quot;, &quot;type&quot;: &quot;exception&quot;}]"></marimo-mime-renderer>
    </marimo-cell-output>
    <marimo-cell-code hidden="">%23%20Create%20a%20slider%20to%20control%20the%20puddle%20probability%0Ap_slider%20%3D%20mo.ui.slider(%0A%20%20%20%20start%3D0.0%2C%0A%20%20%20%20stop%3D1.0%2C%0A%20%20%20%20step%3D0.01%2C%0A%20%20%20%20value%3D0.5%2C%0A%20%20%20%20label%3D%22Puddle%20Probability%20(p)%22%0A)</marimo-cell-code>
</marimo-island>
<marimo-island data-app-id="main" data-cell-id="Hstk" data-reactive="true">
    <marimo-cell-output>
    <marimo-mime-renderer data-mime="&quot;application/vnd.marimo+error&quot;" data-data="[{&quot;msg&quot;: &quot;An ancestor raised an exception (ModuleNotFoundError): &quot;, &quot;exception_type&quot;: &quot;Ancestor raised&quot;, &quot;raising_cell&quot;: &quot;SFPL&quot;, &quot;type&quot;: &quot;exception&quot;}]"></marimo-mime-renderer>
    </marimo-cell-output>
    <marimo-cell-code hidden="">np.random.seed(42)%20%20%23%20For%20reproducible%20results%20during%20demo%0A%23%20Grid%20parameters%0Agrid_size%20%3D%2050%0AS%20%3D%20np.random.random((grid_size%2C%20grid_size))%0A%0Adef%20percolation_visualization()%3A%0A%0A%20%20%20%20%23%20Generate%20the%20percolation%20grid%20based%20on%20slider%20value%0A%20%20%20%20np.random.seed(42)%20%20%23%20For%20reproducible%20results%20during%20demo%0A%20%20%20%20grid%20%3D%20S%20%3C%20p_slider.value%0A%0A%20%20%20%20%23%20Find%20connected%20components%20(puddles%20that%20touch%20each%20other)%0A%20%20%20%20labeled_array%2C%20num_features%20%3D%20label(grid)%0A%0A%20%20%20%20%23%20Find%20the%20largest%20connected%20component%0A%20%20%20%20if%20num_features%20%3E%200%3A%0A%20%20%20%20%20%20%20%20sizes%20%3D%20%5B(labeled_array%20%3D%3D%20i).sum()%20for%20i%20in%20range(1%2C%20num_features%20%2B%201)%5D%0A%20%20%20%20%20%20%20%20largest_size%20%3D%20max(sizes)%0A%20%20%20%20%20%20%20%20largest_fraction%20%3D%20largest_size%20%2F%20(grid_size%20*%20grid_size)%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20largest_size%20%3D%200%0A%20%20%20%20%20%20%20%20largest_fraction%20%3D%200.0%0A%0A%20%20%20%20%23%20Create%20visualization%0A%20%20%20%20plt.figure(figsize%3D(8%2C%208))%0A%0A%20%20%20%20%23%20Create%20a%20display%20grid%20that%20shows%20largest%20component%20in%20red%0A%20%20%20%20display_grid%20%3D%20np.zeros_like(grid%2C%20dtype%3Dint)%0A%0A%20%20%20%20%23%20Find%20the%20largest%20component%0A%20%20%20%20if%20num_features%20%3E%200%3A%0A%20%20%20%20%20%20%20%20%23%20Find%20which%20label%20corresponds%20to%20the%20largest%20component%0A%20%20%20%20%20%20%20%20largest_label%20%3D%20np.argmax(sizes)%20%2B%201%20%20%23%20%2B1%20because%20labels%20start%20from%201%0A%0A%20%20%20%20%20%20%20%20%23%20Set%20display%20values%3A%200%3Dwhite%2C%201%3Dblue%20(small%20components)%2C%202%3Dred%20(largest%20component)%0A%20%20%20%20%20%20%20%20display_grid%5Bgrid%5D%20%3D%201%20%20%23%20All%20puddles%20start%20as%20blue%0A%20%20%20%20%20%20%20%20display_grid%5Blabeled_array%20%3D%3D%20largest_label%5D%20%3D%202%20%20%23%20Largest%20component%20in%20red%0A%0A%20%20%20%20%23%20Create%20custom%20colormap%3A%20white%20for%20empty%2C%20blue%20for%20small%20components%2C%20red%20for%20largest%0A%20%20%20%20colors%20%3D%20%5B'white'%2C%20'%234472C4'%2C%20'%23E74C3C'%5D%20%20%23%20white%2C%20blue%2C%20red%0A%20%20%20%20cmap%20%3D%20ListedColormap(colors)%0A%0A%20%20%20%20%23%20Plot%20the%20grid%0A%20%20%20%20ax%20%3D%20plt.imshow(display_grid%2C%20cmap%3Dcmap%2C%20interpolation%3D'nearest')%0A%0A%20%20%20%20%23%20Styling%0A%20%20%20%20plt.title(f'Percolation%20Grid%20(p%20%3D%20%7Bp_slider.value%3A.2f%7D)%5Cn'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20f'Largest%20Component%20(Red)%3A%20%7Blargest_size%7D%20squares%20'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20f'(%7Blargest_fraction%3A.1%25%7D%20of%20grid)'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20fontsize%3D14%2C%20pad%3D20)%0A%20%20%20%20plt.xlabel('Grid%20Position')%0A%20%20%20%20plt.ylabel('Grid%20Position')%0A%0A%20%20%20%20%23%20Add%20grid%20lines%20for%20clarity%0A%20%20%20%20plt.xticks(np.arange(-0.5%2C%20grid_size%2C%2010)%2C%20minor%3DTrue)%0A%20%20%20%20plt.yticks(np.arange(-0.5%2C%20grid_size%2C%2010)%2C%20minor%3DTrue)%0A%20%20%20%20plt.grid(which%3D'minor'%2C%20color%3D'gray'%2C%20linestyle%3D'-'%2C%20alpha%3D0.3)%0A%20%20%20%20plt.tick_params(which%3D'minor'%2C%20size%3D0)%0A%0A%20%20%20%20%23%20Add%20a%20legend%0A%20%20%20%20from%20matplotlib.patches%20import%20Patch%0A%20%20%20%20legend_elements%20%3D%20%5B%0A%20%20%20%20%20%20%20%20Patch(facecolor%3D'white'%2C%20edgecolor%3D'black'%2C%20label%3D'Empty')%2C%0A%20%20%20%20%20%20%20%20Patch(facecolor%3D'%234472C4'%2C%20label%3D'Small%20Components')%2C%0A%20%20%20%20%20%20%20%20Patch(facecolor%3D'%23E74C3C'%2C%20label%3D'Largest%20Component')%0A%20%20%20%20%5D%0A%20%20%20%20plt.legend(handles%3Dlegend_elements%2C%20loc%3D'upper%20right'%2C%20bbox_to_anchor%3D(1.15%2C%201))%0A%0A%20%20%20%20%23%20Return%20the%20plot%0A%20%20%20%20return%20ax</marimo-cell-code>
</marimo-island>
<marimo-island data-app-id="main" data-cell-id="nWHF" data-reactive="true">
    <marimo-cell-output>
    <marimo-mime-renderer data-mime="&quot;application/vnd.marimo+error&quot;" data-data="[{&quot;msg&quot;: &quot;An ancestor raised an exception (ModuleNotFoundError): &quot;, &quot;exception_type&quot;: &quot;Ancestor raised&quot;, &quot;raising_cell&quot;: &quot;SFPL&quot;, &quot;type&quot;: &quot;exception&quot;}]"></marimo-mime-renderer>
    </marimo-cell-output>
    <marimo-cell-code hidden="">%23%20Generate%20data%20for%20the%20phase%20transition%20plot%0Aprob_values%20%3D%20np.linspace(0%2C%201%2C%20100)%0Acomponent_fractions%20%3D%20%5B%5D%0A%0A%23grid_size_phase%20%3D%2050%20%20%23%20Use%20smaller%20grid%20for%20faster%20computation%0A%0A%23%20Calculate%20largest%20component%20size%20for%20different%20probabilities%0Anp.random.seed(42)%20%20%23%20Fixed%20seed%20for%20consistent%20results%0A%23S%20%3D%20np.random.random((grid_size_phase%2C%20grid_size_phase))%0Afor%20prob%20in%20prob_values%3A%0A%20%20%20%20%23%20Generate%20random%20grid%0A%20%20%20%20phase_grid%20%3D%20S%20%3C%20prob%0A%0A%20%20%20%20%23%20Find%20connected%20components%0A%20%20%20%20labeled_phase%2C%20num_phase%20%3D%20label(phase_grid)%0A%0A%20%20%20%20if%20num_phase%20%3E%200%3A%0A%20%20%20%20%20%20%20%20phase_sizes%20%3D%20%5B(labeled_phase%20%3D%3D%20i).sum()%20for%20i%20in%20range(1%2C%20num_phase%20%2B%201)%5D%0A%20%20%20%20%20%20%20%20largest_phase%20%3D%20max(phase_sizes)%20%2F%20(grid_size%20*%20grid_size)%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20largest_phase%20%3D%200.0%0A%0A%20%20%20%20component_fractions.append(largest_phase)</marimo-cell-code>
</marimo-island>
<marimo-island data-app-id="main" data-cell-id="iLit" data-reactive="true">
    <marimo-cell-output>
    <marimo-mime-renderer data-mime="&quot;application/vnd.marimo+error&quot;" data-data="[{&quot;msg&quot;: &quot;An ancestor raised an exception (ModuleNotFoundError): &quot;, &quot;exception_type&quot;: &quot;Ancestor raised&quot;, &quot;raising_cell&quot;: &quot;SFPL&quot;, &quot;type&quot;: &quot;exception&quot;}]"></marimo-mime-renderer>
    </marimo-cell-output>
    <marimo-cell-code hidden="">def%20phase_transition_plot()%3A%0A%20%20%20%20%23%20Create%20the%20phase%20transition%20plot%0A%20%20%20%20plt.figure(figsize%3D(8%2C%206))%0A%0A%20%20%20%20%23%20Plot%20the%20phase%20transition%20curve%0A%20%20%20%20plt.plot(prob_values%2C%20component_fractions%2C%20'b-'%2C%20linewidth%3D2%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20label%3D'Largest%20Component%20Size')%0A%0A%20%20%20%20%23%20Highlight%20current%20probability%0A%20%20%20%20current_idx%20%3D%20int(p_slider.value%20*%2099)%20%20%23%20Convert%20to%20index%0A%20%20%20%20plt.plot(p_slider.value%2C%20component_fractions%5Bcurrent_idx%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20'ro'%2C%20markersize%3D10%2C%20label%3Df'Current%20p%20%3D%20%7Bp_slider.value%3A.2f%7D')%0A%0A%20%20%20%20%23%20Mark%20approximate%20critical%20point%20(for%202D%20lattice%2C%20pc%20%E2%89%88%200.593)%0A%20%20%20%20critical_p%20%3D%200.593%0A%20%20%20%20plt.axvline(x%3Dcritical_p%2C%20color%3D'gray'%2C%20linestyle%3D'--'%2C%20alpha%3D0.7%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20label%3Df'Critical%20point%20(p_c%20%E2%89%88%20%7Bcritical_p%7D)')%0A%0A%20%20%20%20%23%20Styling%0A%20%20%20%20plt.xlabel('Probability%20(p)'%2C%20fontsize%3D12)%0A%20%20%20%20plt.ylabel('Fraction%20of%20Grid%20in%20Largest%20Component'%2C%20fontsize%3D12)%0A%20%20%20%20plt.title('Percolation%20Phase%20Transition'%2C%20fontsize%3D14)%0A%20%20%20%20plt.grid(True%2C%20alpha%3D0.3)%0A%20%20%20%20plt.legend(frameon%3DFalse)%0A%20%20%20%20plt.xlim(0%2C%201)%0A%20%20%20%20plt.ylim(0%2C%201)%0A%0A%20%20%20%20%23%20Add%20phase%20labels%0A%20%20%20%20plt.text(0.2%2C%200.2%2C%20'Disconnected%5CnPhase'%2C%20fontsize%3D15%2C%20ha%3D'center'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20bbox%3Ddict(boxstyle%3D'round'%2C%20facecolor%3D'lightblue'%2C%20alpha%3D0.7))%0A%20%20%20%20plt.text(0.8%2C%200.2%2C%20'Connected%5CnPhase'%2C%20fontsize%3D15%2C%20ha%3D'center'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20bbox%3Ddict(boxstyle%3D'round'%2C%20facecolor%3D'%23f5cbcc'%2C%20alpha%3D0.7))%0A%0A%20%20%20%20return%20plt.gca()</marimo-cell-code>
</marimo-island>
<!--
Code for the f_c plot
-->
<marimo-island data-app-id="main" data-cell-id="ZHCJ" data-reactive="true">
    <marimo-cell-output>
    <span></span>
    </marimo-cell-output>
    <marimo-cell-code hidden="">def%20compute_fc_powerlaw(gamma%2C%20k_min%2C%20k_max)%3A%0A%20%20%20%20%22%22%22%0A%20%20%20%20Compute%20the%20critical%20fraction%20f_c%20for%20a%20power-law%20degree%20distribution.%0A%0A%20%20%20%20Parameters%0A%20%20%20%20----------%0A%20%20%20%20gamma%20%3A%20float%0A%20%20%20%20%20%20%20%20Exponent%20of%20the%20power-law%20degree%20distribution.%0A%20%20%20%20k_min%20%3A%20float%0A%20%20%20%20%20%20%20%20Minimum%20degree%20in%20the%20network.%0A%20%20%20%20k_max%20%3A%20float%0A%20%20%20%20%20%20%20%20Maximum%20degree%20in%20the%20network.%0A%0A%20%20%20%20Returns%0A%20%20%20%20-------%0A%20%20%20%20f_c%20%3A%20float%0A%20%20%20%20%20%20%20%20Critical%20fraction%20of%20nodes%20that%20must%20be%20removed%20to%20break%20the%20network.%0A%20%20%20%20%22%22%22%0A%20%20%20%20if%20gamma%20%3E%203%3A%0A%20%20%20%20%20%20%20%20denom%20%3D%20(gamma%20-%202)%20%2F%20(gamma%20-%203)%20*%20k_min%20-%201%0A%20%20%20%20%20%20%20%20if%20denom%20%3D%3D%200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%201.0%0A%20%20%20%20%20%20%20%20f_c%20%3D%201%20-%201%20%2F%20denom%0A%20%20%20%20elif%202%20%3C%20gamma%20%3C%203%3A%0A%20%20%20%20%20%20%20%20denom%20%3D%20(gamma%20-%202)%20%2F%20(3-gamma)%20*%20(k_min%20**%20(gamma%20-%202))%20*%20(k_max%20**%20(3%20-%20gamma))%20-%201%0A%20%20%20%20%20%20%20%20if%20denom%20%3D%3D%200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%201.0%0A%20%20%20%20%20%20%20%20f_c%20%3D%201%20-%201%20%2F%20denom%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20raise%20ValueError(%22gamma%20must%20be%20%3E%202%20for%20a%20giant%20component%20to%20exist.%22)%0A%20%20%20%20return%20f_c</marimo-cell-code>
</marimo-island>
<marimo-island data-app-id="main" data-cell-id="ROlb" data-reactive="true">
    <marimo-cell-output>
    <marimo-mime-renderer data-mime="&quot;application/vnd.marimo+error&quot;" data-data="[{&quot;msg&quot;: &quot;An ancestor raised an exception (ModuleNotFoundError): &quot;, &quot;exception_type&quot;: &quot;Ancestor raised&quot;, &quot;raising_cell&quot;: &quot;SFPL&quot;, &quot;type&quot;: &quot;exception&quot;}]"></marimo-mime-renderer>
    </marimo-cell-output>
    <marimo-cell-code hidden="">import%20altair%20as%20alt%0A%0Akmax_values%20%3D%20np.arange(50%2C%201000%2C%2020)%0Agammas%20%3D%20%5B2.1%2C%202.5%2C%202.9%5D%0Agamma_labels%20%3D%20%7B2.1%3A%20%22gamma%20%3D%202.1%22%2C%202.5%3A%20%22gamma%20%3D%202.5%22%2C%202.9%3A%20%22gamma%20%3D%202.9%22%7D%0Acolors%20%3D%20%7B2.1%3A%20%22red%22%2C%202.5%3A%20%22blue%22%2C%202.9%3A%20%22orange%22%7D%0Alinestyles%20%3D%20%7B2.1%3A%20%22solid%22%2C%202.5%3A%20%22dashed%22%2C%202.9%3A%20%22dashed%22%7D%0A%0A%23%20Prepare%20data%20for%20Altair%0Adata%20%3D%20%5B%5D%0Afor%20gamma%20in%20gammas%3A%0A%20%20%20%20for%20kmax%20in%20kmax_values%3A%0A%20%20%20%20%20%20%20%20fc%20%3D%20compute_fc_powerlaw(gamma%2C%201%2C%20kmax)%0A%20%20%20%20%20%20%20%20data.append(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Maximum%20degree%22%3A%20kmax%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Critical%20fraction%22%3A%20fc%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22gamma%22%3A%20gamma_labels%5Bgamma%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22color%22%3A%20colors%5Bgamma%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22linestyle%22%3A%20linestyles%5Bgamma%5D%0A%20%20%20%20%20%20%20%20%7D)%0A%0Adf%20%3D%20pd.DataFrame(data)%0A%0A%23%20Altair%20plot%0A%0A%23%20Find%20the%20minimum%20y%20value%20(critical%20fraction)%20in%20the%20data%0Amin_fc%20%3D%20df%5B%22Critical%20fraction%22%5D.min()%0A%0Achart_fc%20%3D%20alt.Chart(df).mark_line().encode(%0A%20%20%20%20x%3Dalt.X(%0A%20%20%20%20%20%20%20%20%22Maximum%20degree%3AQ%22%2C%0A%20%20%20%20%20%20%20%20title%3D%22Maximum%20degree%22%2C%0A%20%20%20%20%20%20%20%20axis%3Dalt.Axis(titleFontSize%3D18%2C%20labelFontSize%3D14)%0A%20%20%20%20)%2C%0A%20%20%20%20y%3Dalt.Y(%0A%20%20%20%20%20%20%20%20%22Critical%20fraction%3AQ%22%2C%0A%20%20%20%20%20%20%20%20title%3D%22%24f_c%24%22%2C%0A%20%20%20%20%20%20%20%20scale%3Dalt.Scale(domain%3D%5Bmin_fc%2C%201.0%5D)%2C%0A%20%20%20%20%20%20%20%20axis%3Dalt.Axis(titleFontSize%3D18%2C%20labelFontSize%3D14)%0A%20%20%20%20)%2C%0A%20%20%20%20color%3Dalt.Color(%0A%20%20%20%20%20%20%20%20%22gamma%3AN%22%2C%0A%20%20%20%20%20%20%20%20scale%3Dalt.Scale(domain%3Dlist(gamma_labels.values())%2C%20range%3D%5Bcolors%5Bg%5D%20for%20g%20in%20gammas%5D)%2C%0A%20%20%20%20%20%20%20%20legend%3Dalt.Legend(title%3D%22gamma%22%2C%20titleFontSize%3D16%2C%20labelFontSize%3D14)%0A%20%20%20%20)%2C%0A%20%20%20%20strokeDash%3Dalt.StrokeDash(%0A%20%20%20%20%20%20%20%20%22gamma%3AN%22%2C%0A%20%20%20%20%20%20%20%20scale%3Dalt.Scale(domain%3Dlist(gamma_labels.values())%2C%20range%3D%5B%5B%5D%2C%20%5B5%2C5%5D%2C%20%5B5%2C5%5D%5D)%2C%0A%20%20%20%20%20%20%20%20legend%3DNone%0A%20%20%20%20)%0A).properties(%0A%20%20%20%20width%3D300%2C%0A%20%20%20%20height%3D300%2C%0A%20%20%20%20title%3Dalt.TitleParams(%0A%20%20%20%20%20%20%20%20text%3D%22Critical%20Fraction%20(k_min%20%3D%201)%22%2C%0A%20%20%20%20%20%20%20%20fontSize%3D20%0A%20%20%20%20)%0A)</marimo-cell-code>
</marimo-island>
</section>
<section id="references" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="references"><span class="header-section-number">8</span> References</h2>
<ol type="1">
<li><p><strong>Borůvka, O.</strong> (1926). O jistém problému minimálním [About a certain minimal problem]. <em>Práce Moravské Přírodovědecké Společnosti</em>, 3, 37-58. [Original work on minimum spanning trees]</p></li>
<li><p><strong>Molloy, M., &amp; Reed, B.</strong> (1995). A critical point for random graphs with a given degree sequence. <em>Random Structures &amp; Algorithms</em>, 6(2-3), 161-180. [Molloy-Reed criterion]</p></li>
<li><p><strong>Albert, R., Jeong, H., &amp; Barabási, A. L.</strong> (2000). Error and attack tolerance of complex networks. <em>Nature</em>, 406(6794), 378-382. [Seminal paper on network robustness and the “Achilles’ heel” property]</p></li>
<li><p><strong>Cohen, R., Erez, K., ben-Avraham, D., &amp; Havlin, S.</strong> (2000). Resilience of the Internet to random breakdowns. <em>Physical Review Letters</em>, 85(21), 4626-4629. [Mathematical framework for random failures]</p></li>
<li><p><strong>Cohen, R., Erez, K., ben-Avraham, D., &amp; Havlin, S.</strong> (2001). Breakdown of the Internet under intentional attack. <em>Physical Review Letters</em>, 86(16), 3682-3685. [Mathematical analysis of targeted attacks]</p></li>
<li><p><strong>Callaway, D. S., Newman, M. E., Strogatz, S. H., &amp; Watts, D. J.</strong> (2000). Network robustness and fragility: Percolation on random graphs. <em>Physical Review Letters</em>, 85(25), 5468-5471. [Percolation theory approach to network robustness]</p></li>
<li><p><strong>Cohen, R., &amp; Havlin, S.</strong> (2010). <em>Complex Networks: Structure, Robustness and Function</em>. Cambridge University Press. [Comprehensive treatment of network robustness theory]</p></li>
<li><p><strong>Newman, M. E. J.</strong> (2018). <em>Networks</em>. Oxford University Press. [Modern textbook covering network robustness and percolation]</p></li>
</ol>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/skojaku\.github\.io\/adv-net-sci\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../m02-small-world/04-appendix.html" class="pagination-link" aria-label="Appendix - Brief Introduction to igraph">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Appendix - Brief Introduction to igraph</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../m03-robustness/02-coding.html" class="pagination-link" aria-label="Coding - Network Robustness Analysis">
        <span class="nav-page-text">Coding - Network Robustness Analysis</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb1" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Core Concepts"</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="an">filters:</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co">  - marimo-team/marimo</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">## What to learn in this module</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>In this module, we will explore network robustness through the lens of infrastructure design. Starting from the historical challenge of building cost-effective power grids, we will learn:</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>How minimum spanning trees provide optimal cost-efficiency for network connectivity</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Why real-world networks have redundancies beyond minimum connectivity requirements</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>How networks respond to random failures versus targeted attacks</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Quantitative measures of network robustness and percolation theory</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Design principles for balancing cost efficiency with resilience</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>**Keywords**: minimum spanning tree, Kruskal's algorithm, Prim's algorithm, network redundancy, random failures, targeted attacks, connectivity loss, R-index, percolation, robustness paradox</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="fu">## Pen-and-Paper Exercise: From MST to Robust Grid Design</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>✍️ <span class="co">[</span><span class="ot">Pen and Paper Exercise</span><span class="co">](./pen-and-paper/exercise.pdf)</span>: Starting with a minimum spanning tree for cost efficiency, design a power grid network that maintains connectivity even when key components fail.</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="fu">## Network Design Challenges</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">🚀 Interactive Demo</span><span class="co">](https://skojaku.github.io/adv-net-sci/assets/vis/network-robustness.html)</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="fu">## Power Grid Design Challenge</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>In the aftermath of World War I, the newly formed Czechoslovakia faced massive reconstruction challenges. Cities and towns across <span class="co">[</span><span class="ot">Moravia</span><span class="co">](https://en.wikipedia.org/wiki/Moravia)</span> needed electricity, but the young nation had limited resources. Every resources spent on unnecessary infrastructure was a resource not available for hospitals, schools, or economic recovery. Engineers at the West Moravian Power Company faced a critical question: How do you connect every town and village to the electrical grid while using the minimum length of cable?</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>::: {.column-margin}</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>**Otakar Borůvka** (1899-1995) was a Czech mathematician who is best known for his work on the minimum spanning tree problem.</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="al">![](https://upload.wikimedia.org/wikipedia/commons/thumb/e/ee/Otakar_Boruvka_1981.jpg/500px-Otakar_Boruvka_1981.jpg)</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>The problem reached mathematician Otakar Borůvka through his friend at the power company. Borůvka's 1926 solution gave us the first systematic approach to what we now call **the minimum spanning tree problem**: finding the cheapest way to connect all locations in a network.</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Minimum Spanning Tree</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>A **minimum spanning tree (MST)** of a weighted network is a tree that:</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Spans** all nodes (connects every location in the network)</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Is a **tree** (connected with no cycles - no redundant loops)</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Has **minimum total weight** among all possible spanning trees</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>Otakar Borůvka delivered the first algorithm to solve this problem: **Borůvka's algorithm**. But it is not the only algorithm to find the minimum spanning tree.</span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>In fact, there are several algorithms. We will cover two algorithms: **Kruskal's algorithm** and **Prim's algorithm**, which are easier to understand and implement.</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a><span class="fu">### Finding the Minimum Spanning Tree</span></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>::: {.column-margin}</span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">iframe</span><span class="ot"> width</span><span class="op">=</span><span class="st">"250"</span><span class="ot"> height</span><span class="op">=</span><span class="st">"150"</span><span class="ot"> src</span><span class="op">=</span><span class="st">"https://www.youtube.com/embed/8i2XsxU-VL4?si=UGZH5hgy09Jhsjru"</span><span class="ot"> title</span><span class="op">=</span><span class="st">"YouTube video player"</span><span class="ot"> frameborder</span><span class="op">=</span><span class="st">"0"</span><span class="ot"> allow</span><span class="op">=</span><span class="st">"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"</span><span class="ot"> referrerpolicy</span><span class="op">=</span><span class="st">"strict-origin-when-cross-origin"</span><span class="ot"> allowfullscreen</span><span class="dt">&gt;&lt;/</span><span class="kw">iframe</span><span class="dt">&gt;</span></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Kruskal's Algorithm</span></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a>**Kruskal's algorithm** embodies a remarkably simple yet powerful intuition: always choose the cheapest available option, but never create wasteful loops. While sounds heuristic, this algorithm in fact leads to the global optimial solution!</span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>The algorithm works by first sorting every possible connection from cheapest to most expensive like arranging all the cable segments by cost. Then, it examines each connection in order, asking a crucial question: "If I add this cable, will it create a redundant loop?" If the answer is no, the cable joins the growing network. If adding it would create a cycle---meaning the two locations are already connected through some other path---the algorithm skips it as wasteful. This process continues until every location is connected, guaranteeing both minimum cost and complete coverage.</span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Prim's Algorithm</span></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>**Prim's algorithm** takes a fundamentally different approach, embodying the intuition of organic growth from a single starting point. Picture an engineer beginning at the central power plant and asking: "What's the cheapest way to connect one more location to our existing grid?" This local growth strategy builds the network incrementally, always expanding from what's already been constructed.</span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a>The algorithm begins by selecting any location as its starting point, often the power plant in our analogy. From this initial seed, it repeatedly identifies the cheapest connection that would bring a new, unconnected location into the growing network. Unlike Kruskal's global view, Prim's algorithm maintains a clear distinction between locations already in the network and those still waiting to be connected. At each step, it finds the minimum-cost bridge between these two groups, gradually expanding the connected region until it encompasses every location.</span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a>This local expansion strategy mirrors how many real-world infrastructure projects actually develop. Engineers often start from existing facilities and expand outward, always seeking the most cost-effective way to serve additional areas. Prim's algorithm formalizes this natural growth process.</span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a><span class="in">```python {.marimo}</span></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a>mo.vstack(</span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a>    [</span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a>        unique_weights,</span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a>        time_step,</span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a>        mo.md(</span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a>            <span class="st">"**Instructions**: Move the slider to see how each algorithm builds the MST step by step."</span></span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a><span class="in">```python {.marimo}</span></span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a>fig</span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a>::: {.callout-note}</span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a>Two algorithms find the same minimum spanning tree when all connection costs are different. If there are connections with the same cost, there are multiple minimum spanning trees of the same cost, and which tree to find depends on the algorithm. In particular, Prim's algorithm finds different trees when starting from different locations.</span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true" tabindex="-1"></a><span class="fu">## Why Minimum Spanning Tree is Not Enough</span></span>
<span id="cb1-101"><a href="#cb1-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-102"><a href="#cb1-102" aria-hidden="true" tabindex="-1"></a>Minimum spanning tree is an efficient way to connect all locations in a network with the minimum total cost. However, such a network is vulnerable to failures, e.g., the network can be disconnected when a single node fails, in particular those close to the center of the network. This is why our power grid has a lot of redundancies beyond the minimum spanning tree, for the sake of resilience against failures.</span>
<span id="cb1-103"><a href="#cb1-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-104"><a href="#cb1-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-105"><a href="#cb1-105" aria-hidden="true" tabindex="-1"></a>::: {#fig-us-powe-grid}</span>
<span id="cb1-106"><a href="#cb1-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-107"><a href="#cb1-107" aria-hidden="true" tabindex="-1"></a><span class="al">![](https://www.geni.org/globalenergy/library/national_energy_grid/united-states-of-america/graphics/UnitedStatesPowerGrid.jpg)</span>{width=50%}</span>
<span id="cb1-108"><a href="#cb1-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-109"><a href="#cb1-109" aria-hidden="true" tabindex="-1"></a>This is the power grid of the United States.</span>
<span id="cb1-110"><a href="#cb1-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-111"><a href="#cb1-111" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-112"><a href="#cb1-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-113"><a href="#cb1-113" aria-hidden="true" tabindex="-1"></a><span class="fu">### Measuring Network Damage</span></span>
<span id="cb1-114"><a href="#cb1-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-115"><a href="#cb1-115" aria-hidden="true" tabindex="-1"></a>Not every failure is equal. Some failures are more damaging than others. For example, removing somee nodes in a grid network can be catastrophic, while removing other nodes can be more tolerable.</span>
<span id="cb1-116"><a href="#cb1-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-117"><a href="#cb1-117" aria-hidden="true" tabindex="-1"></a>While there can be many metrics to quantify network damage, we will focus on a purely topological metric: the fraction of nodes remaining in the largest connected component after removal.</span>
<span id="cb1-118"><a href="#cb1-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-119"><a href="#cb1-119" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb1-120"><a href="#cb1-120" aria-hidden="true" tabindex="-1"></a>\text{Connectivity} = \frac{\text{Size of largest component after removal}}{\text{Original network size}}</span>
<span id="cb1-121"><a href="#cb1-121" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb1-122"><a href="#cb1-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-123"><a href="#cb1-123" aria-hidden="true" tabindex="-1"></a><span class="al">![](../figs/single-node-failure.jpg)</span>{#fig-single-node-failure fig-alt="The impact of removing a single node varies based on which node is removed."}</span>
<span id="cb1-124"><a href="#cb1-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-125"><a href="#cb1-125" aria-hidden="true" tabindex="-1"></a>The **robustness profile** plots connectivity against the fraction of nodes removed, revealing how networks fragment. Crucially, the shape of this profile depends entirely on the **order** in which nodes are removed - random removal creates one pattern, while strategic targeting creates dramatically different patterns.</span>
<span id="cb1-126"><a href="#cb1-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-127"><a href="#cb1-127" aria-hidden="true" tabindex="-1"></a><span class="al">![](../figs/robustness-profile.jpg)</span>{#fig-multiple-node-failure fig-alt="Robustness profile of a network for a sequential failure of nodes."}</span>
<span id="cb1-128"><a href="#cb1-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-129"><a href="#cb1-129" aria-hidden="true" tabindex="-1"></a>To compare networks with a single metric, we use the **R-index** - the area under this curve:</span>
<span id="cb1-130"><a href="#cb1-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-131"><a href="#cb1-131" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb1-132"><a href="#cb1-132" aria-hidden="true" tabindex="-1"></a>R = \frac{1}{N} \sum_{k=1}^{N-1} y_k</span>
<span id="cb1-133"><a href="#cb1-133" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb1-134"><a href="#cb1-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-135"><a href="#cb1-135" aria-hidden="true" tabindex="-1"></a>The robustness index is a measure of how robust a network is to under a sequential failure of nodes. The higher the R-index, the more robust the network is.</span>
<span id="cb1-136"><a href="#cb1-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-137"><a href="#cb1-137" aria-hidden="true" tabindex="-1"></a>Networks can exhibit different robustness profiles under different attack strategies. One form of an attack is a **random failure**, where nodes are removed randomly. Another form of an attack is a **targeted attack**, where nodes are removed strategically.</span>
<span id="cb1-138"><a href="#cb1-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-139"><a href="#cb1-139" aria-hidden="true" tabindex="-1"></a>Random failures are like earthquakes or equipment malfunctions; they strike unpredictably. In power grids, generators might fail due to technical problems. In computer networks, servers might crash randomly.</span>
<span id="cb1-140"><a href="#cb1-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-141"><a href="#cb1-141" aria-hidden="true" tabindex="-1"></a>Even if a network survives random failures beautifully, it might crumble under **targeted attacks**. Adversaries strategically choose which nodes to attack for maximum damage. The most intuitive strategy targets **high-degree nodes** (hubs) first, i.e., like targeting the busiest airports to disrupt air travel.</span>
<span id="cb1-142"><a href="#cb1-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-143"><a href="#cb1-143" aria-hidden="true" tabindex="-1"></a>::: {.column-margin}</span>
<span id="cb1-144"><a href="#cb1-144" aria-hidden="true" tabindex="-1"></a>The asymmetry between random failures and targeted attacks is one of the most counterintuitive discoveries in network science. A network that seems robust can have hidden vulnerabilities that smart adversaries can exploit.</span>
<span id="cb1-145"><a href="#cb1-145" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-146"><a href="#cb1-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-147"><a href="#cb1-147" aria-hidden="true" tabindex="-1"></a><span class="fu">## Theoretical Framework for Network Robustness</span></span>
<span id="cb1-148"><a href="#cb1-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-149"><a href="#cb1-149" aria-hidden="true" tabindex="-1"></a>To understand these patterns mathematically, we can view network attacks as the **reverse process of percolation**. **Percolation theory** studies phase transitions in connectivity by asking: as we randomly add nodes to a grid, when does a giant connected component emerge? Network robustness asks the opposite: as we remove nodes, when does the giant component disappear?</span>
<span id="cb1-150"><a href="#cb1-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-151"><a href="#cb1-151" aria-hidden="true" tabindex="-1"></a>::: {.column-margin}</span>
<span id="cb1-152"><a href="#cb1-152" aria-hidden="true" tabindex="-1"></a>Percolation theory originated in physics to understand how liquids flow through porous materials. The same mathematics explains how networks fragment under node removal - a beautiful example of how physics concepts illuminate network behavior.</span>
<span id="cb1-153"><a href="#cb1-153" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-154"><a href="#cb1-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-155"><a href="#cb1-155" aria-hidden="true" tabindex="-1"></a><span class="in">```python {.marimo}</span></span>
<span id="cb1-156"><a href="#cb1-156" aria-hidden="true" tabindex="-1"></a>p_slider</span>
<span id="cb1-157"><a href="#cb1-157" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-158"><a href="#cb1-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-159"><a href="#cb1-159" aria-hidden="true" tabindex="-1"></a><span class="in">```python {.marimo}</span></span>
<span id="cb1-160"><a href="#cb1-160" aria-hidden="true" tabindex="-1"></a>percolation_visualization()</span>
<span id="cb1-161"><a href="#cb1-161" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-162"><a href="#cb1-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-163"><a href="#cb1-163" aria-hidden="true" tabindex="-1"></a>::: {.column-margin}</span>
<span id="cb1-164"><a href="#cb1-164" aria-hidden="true" tabindex="-1"></a>**Percolation vs. Robustness: Two Sides of the Same Coin**</span>
<span id="cb1-165"><a href="#cb1-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-166"><a href="#cb1-166" aria-hidden="true" tabindex="-1"></a>Percolation theory asks: *"Starting from isolation, how many nodes must we connect to form a giant component?"* - increasing connectivity from $p = 0$ to $p = 1$.</span>
<span id="cb1-167"><a href="#cb1-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-168"><a href="#cb1-168" aria-hidden="true" tabindex="-1"></a>Robustness analysis asks: *"Starting from full connectivity, how many nodes must we remove to fragment the network?"* - decreasing connectivity from $p = 1$ to $p = 0$.</span>
<span id="cb1-169"><a href="#cb1-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-170"><a href="#cb1-170" aria-hidden="true" tabindex="-1"></a>These are mathematically equivalent processes, just viewed in opposite directions along the same connectivity parameter.</span>
<span id="cb1-171"><a href="#cb1-171" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-172"><a href="#cb1-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-173"><a href="#cb1-173" aria-hidden="true" tabindex="-1"></a><span class="fu">### The Phase Transition</span></span>
<span id="cb1-174"><a href="#cb1-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-175"><a href="#cb1-175" aria-hidden="true" tabindex="-1"></a>Imagine a grid where each square randomly becomes a "puddle" with probability $p$. As $p$ increases, something dramatic happens - suddenly, a giant puddle spanning the entire grid appears! This **phase transition** occurs at a critical probability $p_c$. Crucially, the exact timing doesn't matter; only the fraction of nodes present or removed determines connectivity.</span>
<span id="cb1-176"><a href="#cb1-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-177"><a href="#cb1-177" aria-hidden="true" tabindex="-1"></a><span class="in">```python {.marimo}</span></span>
<span id="cb1-178"><a href="#cb1-178" aria-hidden="true" tabindex="-1"></a>p_slider</span>
<span id="cb1-179"><a href="#cb1-179" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-180"><a href="#cb1-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-181"><a href="#cb1-181" aria-hidden="true" tabindex="-1"></a><span class="in">```python {.marimo}</span></span>
<span id="cb1-182"><a href="#cb1-182" aria-hidden="true" tabindex="-1"></a>phase_transition_plot()</span>
<span id="cb1-183"><a href="#cb1-183" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-184"><a href="#cb1-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-185"><a href="#cb1-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-186"><a href="#cb1-186" aria-hidden="true" tabindex="-1"></a><span class="fu">### The Molloy-Reed Criterion</span></span>
<span id="cb1-187"><a href="#cb1-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-188"><a href="#cb1-188" aria-hidden="true" tabindex="-1"></a>For networks with arbitrary degree distributions, the **Molloy-Reed criterion** determines whether a **giant component** exists - that is, whether the network contains a single large connected component that includes most of the nodes:</span>
<span id="cb1-189"><a href="#cb1-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-190"><a href="#cb1-190" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb1-191"><a href="#cb1-191" aria-hidden="true" tabindex="-1"></a>\kappa = \frac{\langle k^2 \rangle}{\langle k \rangle} &gt; 2</span>
<span id="cb1-192"><a href="#cb1-192" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb1-193"><a href="#cb1-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-194"><a href="#cb1-194" aria-hidden="true" tabindex="-1"></a>where $\langle k \rangle$ is the average degree and $\langle k^2 \rangle$ is the average of squared degrees. The ratio $\kappa$ measures **degree heterogeneity** - networks with hubs have high $\kappa$, while degree homogeneous networks have low $\kappa$. When $\kappa &gt; 2$, a giant component forms that dominates the network connectivity. See the Appendix for the proof of the Molloy-Reed criterion.</span>
<span id="cb1-195"><a href="#cb1-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-196"><a href="#cb1-196" aria-hidden="true" tabindex="-1"></a>The Molloy-Reed criterion is a powerful tool to predict the existence of a giant component in a network and allows us to find the critical fraction of nodes that must be **removed** to break the network. This critial fraction depends on the strategy of the attack, along with the degree distribution. For simplicity, let us restrict ourselves into the random failures. For the random failure case, the critical fraction is given by:</span>
<span id="cb1-197"><a href="#cb1-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-198"><a href="#cb1-198" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb1-199"><a href="#cb1-199" aria-hidden="true" tabindex="-1"></a>f_c = 1 - \frac{1}{\kappa - 1}</span>
<span id="cb1-200"><a href="#cb1-200" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb1-201"><a href="#cb1-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-202"><a href="#cb1-202" aria-hidden="true" tabindex="-1"></a>The value of $\kappa$ depends on the degree distribution, and below, we showcase two examples of degree distributions.</span>
<span id="cb1-203"><a href="#cb1-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-204"><a href="#cb1-204" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Degree homogeneous network</span></span>
<span id="cb1-205"><a href="#cb1-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-206"><a href="#cb1-206" aria-hidden="true" tabindex="-1"></a>In case of a degree homogeneous network like a random network considered in the exercise above, the critical fraction is given by:</span>
<span id="cb1-207"><a href="#cb1-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-208"><a href="#cb1-208" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb1-209"><a href="#cb1-209" aria-hidden="true" tabindex="-1"></a>f_c = 1 - \frac{1}{\langle k \rangle}</span>
<span id="cb1-210"><a href="#cb1-210" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb1-211"><a href="#cb1-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-212"><a href="#cb1-212" aria-hidden="true" tabindex="-1"></a>given that $\langle k^2 \rangle = \langle k \rangle^2$ and thus $\kappa = \langle k \rangle$. This suggests that the threshold is determined by the average degree $\langle k \rangle$. A large $\langle k \rangle$ results in a larger $f_c$, meaning that the network is more robust against random failures.</span>
<span id="cb1-213"><a href="#cb1-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-214"><a href="#cb1-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-215"><a href="#cb1-215" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Degree heterogeneous network</span></span>
<span id="cb1-216"><a href="#cb1-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-217"><a href="#cb1-217" aria-hidden="true" tabindex="-1"></a>Most real-world networks are degree heterogeneous, i.e., the degree distribution $P(k) \sim k^{-\gamma}$ follows a power law (called *scale-free* network).</span>
<span id="cb1-218"><a href="#cb1-218" aria-hidden="true" tabindex="-1"></a>The power-law degree distribution has infinite second moment, i.e., $\langle k^2 \rangle = \infty$ and thus $f_c = 1.0$, which means that all nodes must be removed to break the network into disconnected components.</span>
<span id="cb1-219"><a href="#cb1-219" aria-hidden="true" tabindex="-1"></a>This is the case where the number of nodes is infinite (i.e., so that a node has a very large degree for the degree distribution to be a valid power law). When restricting the maximum degree to be finite, the critical fraction is given by:</span>
<span id="cb1-220"><a href="#cb1-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-221"><a href="#cb1-221" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb1-222"><a href="#cb1-222" aria-hidden="true" tabindex="-1"></a>f_c =</span>
<span id="cb1-223"><a href="#cb1-223" aria-hidden="true" tabindex="-1"></a>\begin{cases}</span>
<span id="cb1-224"><a href="#cb1-224" aria-hidden="true" tabindex="-1"></a>1 - \dfrac{1}{\frac{\gamma-2}{3-\gamma} k_{\text{min}} ^{\gamma-2} k_{\text{max}}^{3-\gamma} -1} &amp; \text{if } 2 &lt; \gamma &lt; 3 <span class="sc">\\</span></span>
<span id="cb1-225"><a href="#cb1-225" aria-hidden="true" tabindex="-1"></a>1 - \dfrac{1}{\frac{\gamma-2}{\gamma-3} k_{\text{min}} - 1} &amp; \text{if } \gamma &gt; 3 <span class="sc">\\</span></span>
<span id="cb1-226"><a href="#cb1-226" aria-hidden="true" tabindex="-1"></a>\end{cases}</span>
<span id="cb1-227"><a href="#cb1-227" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb1-228"><a href="#cb1-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-229"><a href="#cb1-229" aria-hidden="true" tabindex="-1"></a>where $k_{\text{min}}$ and $k_{\text{max}}$ are the minimum and maximum degree, respectively.</span>
<span id="cb1-230"><a href="#cb1-230" aria-hidden="true" tabindex="-1"></a>The variable $\gamma$ is the exponent of the power law degree distribution, controlling the degree heterogeneity, where a lower $\gamma$ results in a more degree heterogeneous network.</span>
<span id="cb1-231"><a href="#cb1-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-232"><a href="#cb1-232" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>For regime $2 &lt; \gamma &lt; 3$, the critical threshold $f_c$ is determined by the extreme values of the degree distribution, $k_{\text{min}}$ and $k_{\text{max}}$.</span>
<span id="cb1-233"><a href="#cb1-233" aria-hidden="true" tabindex="-1"></a>And $f_c \rightarrow 1$ when the maximum degree $k_{\text{max}} \in [k_{\text{min}}, N-1]$ increases.</span>
<span id="cb1-234"><a href="#cb1-234" aria-hidden="true" tabindex="-1"></a>Notably, in this regime, the maximum degree $k_{\text{max}}$ increases as the network size $N$ increases, and this makes $f_c \rightarrow 1$.</span>
<span id="cb1-235"><a href="#cb1-235" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-236"><a href="#cb1-236" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>For regime $\gamma &gt; 3$, the critical threshold $f_c$ is influenced by the minimum degree $k_{\text{min}}$. In contrast to $k_{\text{max}}$, $k_{\text{min}}$ remains constant as the network size $N$ grows. Consequently, the network disintegrates when a finite fraction of its nodes are removed.</span>
<span id="cb1-237"><a href="#cb1-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-238"><a href="#cb1-238" aria-hidden="true" tabindex="-1"></a><span class="in">```python {.marimo}</span></span>
<span id="cb1-239"><a href="#cb1-239" aria-hidden="true" tabindex="-1"></a>chart_fc</span>
<span id="cb1-240"><a href="#cb1-240" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-241"><a href="#cb1-241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-242"><a href="#cb1-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-243"><a href="#cb1-243" aria-hidden="true" tabindex="-1"></a><span class="fu">### Robustness Under Attack</span></span>
<span id="cb1-244"><a href="#cb1-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-245"><a href="#cb1-245" aria-hidden="true" tabindex="-1"></a>While scale-free networks show remarkable robustness against random failures, they exhibit a fundamental vulnerability to targeted attacks that deliberately target high-degree nodes (hubs). This asymmetry reveals the "Achilles' heel" property of complex networks, where the same structural features that provide robustness against random failures create critical vulnerabilities to strategic attacks.</span>
<span id="cb1-246"><a href="#cb1-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-247"><a href="#cb1-247" aria-hidden="true" tabindex="-1"></a>Rather than removing nodes randomly, an adversary with knowledge of the network structure can systematically remove the highest-degree nodes first, followed by the next highest-degree nodes, and so on. Under this targeted hub removal strategy, scale-free networks fragment rapidly and dramatically. The critical threshold for attacks, $f_c^{\text{attack}}$, is dramatically lower than for random failures. While random failures require $f_c^{\text{random}} \approx 1$ (nearly all nodes must be removed), targeted attacks need only $f_c^{\text{attack}} \ll 1$ (a small fraction of hubs) to fragment the network.</span>
<span id="cb1-248"><a href="#cb1-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-249"><a href="#cb1-249" aria-hidden="true" tabindex="-1"></a>To understand how networks fragment under targeted attacks, we must consider two key effects that occur when the highest-degree nodes are systematically removed. First, the removal of hub nodes changes the maximum degree of the remaining network from $k_{\max}$ to a new lower value $k'_{\max}$. Second, since these removed hubs had many connections, their elimination also removes many links from the network, effectively changing the degree distribution of the surviving nodes.</span>
<span id="cb1-250"><a href="#cb1-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-251"><a href="#cb1-251" aria-hidden="true" tabindex="-1"></a>The mathematical analysis of this process relies on mapping the attack problem back to the random failure framework through careful accounting of these structural changes. When we remove an $f$ fraction of the highest-degree nodes in a scale-free network, the new maximum degree becomes $k'_{\max} = k_{\min} f^{1/(1-\gamma)}$, where the power-law exponent $\gamma$ determines how rapidly the degree sequence declines.</span>
<span id="cb1-252"><a href="#cb1-252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-253"><a href="#cb1-253" aria-hidden="true" tabindex="-1"></a>For scale-free networks with degree exponent $\gamma$, the critical attack threshold $f_c$ satisfies:</span>
<span id="cb1-254"><a href="#cb1-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-255"><a href="#cb1-255" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb1-256"><a href="#cb1-256" aria-hidden="true" tabindex="-1"></a>f_c^{\frac{2-\gamma}{1-\gamma}} = \frac{2 + 2^{-\gamma}}{3-\gamma} k_{\min} \left(f_c^{\frac{3-\gamma}{1-\gamma}} - 1\right)</span>
<span id="cb1-257"><a href="#cb1-257" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb1-258"><a href="#cb1-258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-259"><a href="#cb1-259" aria-hidden="true" tabindex="-1"></a>The fractional exponents $(2-\gamma)/(1-\gamma)$ and $(3-\gamma)/(1-\gamma)$ arise from the power-law degree distribution and determine how quickly the network fragments as hubs are removed. For networks with $\gamma &lt; 3$ (highly heterogeneous degree distributions), these exponents are negative, leading to extremely small values of $f_c$, i.e., meaning just a tiny fraction of hub removal can destroy network connectivity.</span>
<span id="cb1-260"><a href="#cb1-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-261"><a href="#cb1-261" aria-hidden="true" tabindex="-1"></a>This vulnerability has profound real-world implications across multiple domains. Power grids invest heavily in protecting major substations and transmission hubs because their failure could cascade throughout the system. Internet infrastructure includes hub redundancy and protection protocols to maintain connectivity when major routing nodes are compromised. Transportation networks maintain backup routes and alternative pathways when major airports or train stations fail. Even biological systems have evolved protective mechanisms for critical proteins that serve as hubs in cellular networks.</span>
<span id="cb1-262"><a href="#cb1-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-263"><a href="#cb1-263" aria-hidden="true" tabindex="-1"></a>The robustness paradox demonstrates that no single network structure can be optimal against all types of failures. There's always a fundamental trade-off between efficiency, which naturally favors hub-based architectures for optimal resource distribution, and security, which requires redundancy and distributed connectivity to prevent catastrophic failures from targeted attacks.</span>
<span id="cb1-264"><a href="#cb1-264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-265"><a href="#cb1-265" aria-hidden="true" tabindex="-1"></a><span class="fu">## Design Principles for Robust Networks</span></span>
<span id="cb1-266"><a href="#cb1-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-267"><a href="#cb1-267" aria-hidden="true" tabindex="-1"></a>How do we design networks that resist both random failures and targeted attacks? Key principles include:</span>
<span id="cb1-268"><a href="#cb1-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-269"><a href="#cb1-269" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>**Balanced Degree Distribution**: Avoid both extreme homogeneity and extreme hub concentration</span>
<span id="cb1-270"><a href="#cb1-270" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>**Multiple Redundant Pathways**: Ensure removing any single node doesn't isolate large portions</span>
<span id="cb1-271"><a href="#cb1-271" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>**Strategic Hub Protection**: In hub-based networks, invest heavily in protecting critical nodes</span>
<span id="cb1-272"><a href="#cb1-272" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>**Hierarchical Design**: Combine local clusters with hub connections and redundant backbones</span>
<span id="cb1-273"><a href="#cb1-273" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span>**Adaptive Responses**: Design systems that can reconfigure when attacks are detected</span>
<span id="cb1-274"><a href="#cb1-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-275"><a href="#cb1-275" aria-hidden="true" tabindex="-1"></a>These strategies reflect lessons learned from our historical power grid challenge: moving beyond the minimum spanning tree to create networks that balance efficiency with resilience.</span>
<span id="cb1-276"><a href="#cb1-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-277"><a href="#cb1-277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-278"><a href="#cb1-278" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!--</span></span>
<span id="cb1-279"><a href="#cb1-279" aria-hidden="true" tabindex="-1"></a><span class="co">========================================</span></span>
<span id="cb1-280"><a href="#cb1-280" aria-hidden="true" tabindex="-1"></a><span class="co">Code for the interactive visualizations</span></span>
<span id="cb1-281"><a href="#cb1-281" aria-hidden="true" tabindex="-1"></a><span class="co">========================================</span></span>
<span id="cb1-282"><a href="#cb1-282" aria-hidden="true" tabindex="-1"></a><span class="co">--&gt;</span></span>
<span id="cb1-283"><a href="#cb1-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-284"><a href="#cb1-284" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-285"><a href="#cb1-285" aria-hidden="true" tabindex="-1"></a><span class="in">```python {.marimo}</span></span>
<span id="cb1-286"><a href="#cb1-286" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> marimo <span class="im">as</span> mo</span>
<span id="cb1-287"><a href="#cb1-287" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-288"><a href="#cb1-288" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-289"><a href="#cb1-289" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-290"><a href="#cb1-290" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.ndimage <span class="im">import</span> label</span>
<span id="cb1-291"><a href="#cb1-291" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> matplotlib.colors <span class="im">import</span> ListedColormap</span>
<span id="cb1-292"><a href="#cb1-292" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.sparse <span class="im">import</span> csr_matrix</span>
<span id="cb1-293"><a href="#cb1-293" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.sparse.csgraph <span class="im">import</span> connected_components</span>
<span id="cb1-294"><a href="#cb1-294" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-295"><a href="#cb1-295" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-296"><a href="#cb1-296" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-297"><a href="#cb1-297" aria-hidden="true" tabindex="-1"></a><span class="in">```python {.marimo}</span></span>
<span id="cb1-298"><a href="#cb1-298" aria-hidden="true" tabindex="-1"></a><span class="co"># Control for edge weight uniqueness</span></span>
<span id="cb1-299"><a href="#cb1-299" aria-hidden="true" tabindex="-1"></a>unique_weights <span class="op">=</span> mo.ui.checkbox(</span>
<span id="cb1-300"><a href="#cb1-300" aria-hidden="true" tabindex="-1"></a>    label<span class="op">=</span><span class="st">"Use unique edge weights (when unchecked, some edges have same weight)"</span>,</span>
<span id="cb1-301"><a href="#cb1-301" aria-hidden="true" tabindex="-1"></a>    value<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb1-302"><a href="#cb1-302" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-303"><a href="#cb1-303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-304"><a href="#cb1-304" aria-hidden="true" tabindex="-1"></a><span class="co"># Time step slider - fixed to accommodate MST (max 6 edges for 7 nodes)</span></span>
<span id="cb1-305"><a href="#cb1-305" aria-hidden="true" tabindex="-1"></a>time_step <span class="op">=</span> mo.ui.slider(</span>
<span id="cb1-306"><a href="#cb1-306" aria-hidden="true" tabindex="-1"></a>    start<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb1-307"><a href="#cb1-307" aria-hidden="true" tabindex="-1"></a>    stop<span class="op">=</span><span class="dv">6</span>,  <span class="co"># Fixed max for power grid (7 nodes = 6 MST edges)</span></span>
<span id="cb1-308"><a href="#cb1-308" aria-hidden="true" tabindex="-1"></a>    step<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb1-309"><a href="#cb1-309" aria-hidden="true" tabindex="-1"></a>    value<span class="op">=</span><span class="dv">6</span>,  <span class="co"># Start at final state</span></span>
<span id="cb1-310"><a href="#cb1-310" aria-hidden="true" tabindex="-1"></a>    label<span class="op">=</span><span class="st">"Algorithm Time Step (0=start, 6=complete MST)"</span>,</span>
<span id="cb1-311"><a href="#cb1-311" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-312"><a href="#cb1-312" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-313"><a href="#cb1-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-314"><a href="#cb1-314" aria-hidden="true" tabindex="-1"></a><span class="in">```python {.marimo}</span></span>
<span id="cb1-315"><a href="#cb1-315" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_power_grid_graph(use_unique_weights<span class="op">=</span><span class="va">True</span>):</span>
<span id="cb1-316"><a href="#cb1-316" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Create power grid graph with nodes and edges"""</span></span>
<span id="cb1-317"><a href="#cb1-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-318"><a href="#cb1-318" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Define nodes with positions</span></span>
<span id="cb1-319"><a href="#cb1-319" aria-hidden="true" tabindex="-1"></a>    nodes <span class="op">=</span> {</span>
<span id="cb1-320"><a href="#cb1-320" aria-hidden="true" tabindex="-1"></a>        <span class="st">"A"</span>: (<span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb1-321"><a href="#cb1-321" aria-hidden="true" tabindex="-1"></a>        <span class="st">"B"</span>: (<span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb1-322"><a href="#cb1-322" aria-hidden="true" tabindex="-1"></a>        <span class="st">"C"</span>: (<span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb1-323"><a href="#cb1-323" aria-hidden="true" tabindex="-1"></a>        <span class="st">"D"</span>: (<span class="dv">2</span>, <span class="fl">2.5</span>),</span>
<span id="cb1-324"><a href="#cb1-324" aria-hidden="true" tabindex="-1"></a>        <span class="st">"E"</span>: (<span class="dv">2</span>, <span class="fl">1.5</span>),</span>
<span id="cb1-325"><a href="#cb1-325" aria-hidden="true" tabindex="-1"></a>        <span class="st">"F"</span>: (<span class="dv">2</span>, <span class="fl">0.5</span>),</span>
<span id="cb1-326"><a href="#cb1-326" aria-hidden="true" tabindex="-1"></a>        <span class="st">"G"</span>: (<span class="dv">2</span>, <span class="op">-</span><span class="fl">0.5</span>),</span>
<span id="cb1-327"><a href="#cb1-327" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb1-328"><a href="#cb1-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-329"><a href="#cb1-329" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> use_unique_weights:</span>
<span id="cb1-330"><a href="#cb1-330" aria-hidden="true" tabindex="-1"></a>        <span class="co"># All weights are unique</span></span>
<span id="cb1-331"><a href="#cb1-331" aria-hidden="true" tabindex="-1"></a>        edges <span class="op">=</span> [</span>
<span id="cb1-332"><a href="#cb1-332" aria-hidden="true" tabindex="-1"></a>            (<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="dv">8</span>),</span>
<span id="cb1-333"><a href="#cb1-333" aria-hidden="true" tabindex="-1"></a>            (<span class="st">"A"</span>, <span class="st">"C"</span>, <span class="dv">12</span>),</span>
<span id="cb1-334"><a href="#cb1-334" aria-hidden="true" tabindex="-1"></a>            (<span class="st">"B"</span>, <span class="st">"D"</span>, <span class="dv">5</span>),</span>
<span id="cb1-335"><a href="#cb1-335" aria-hidden="true" tabindex="-1"></a>            (<span class="st">"B"</span>, <span class="st">"E"</span>, <span class="dv">7</span>),</span>
<span id="cb1-336"><a href="#cb1-336" aria-hidden="true" tabindex="-1"></a>            (<span class="st">"C"</span>, <span class="st">"F"</span>, <span class="dv">6</span>),</span>
<span id="cb1-337"><a href="#cb1-337" aria-hidden="true" tabindex="-1"></a>            (<span class="st">"C"</span>, <span class="st">"G"</span>, <span class="dv">4</span>),</span>
<span id="cb1-338"><a href="#cb1-338" aria-hidden="true" tabindex="-1"></a>            (<span class="st">"D"</span>, <span class="st">"E"</span>, <span class="dv">3</span>),</span>
<span id="cb1-339"><a href="#cb1-339" aria-hidden="true" tabindex="-1"></a>            (<span class="st">"E"</span>, <span class="st">"F"</span>, <span class="dv">9</span>),</span>
<span id="cb1-340"><a href="#cb1-340" aria-hidden="true" tabindex="-1"></a>            (<span class="st">"F"</span>, <span class="st">"G"</span>, <span class="dv">2</span>),</span>
<span id="cb1-341"><a href="#cb1-341" aria-hidden="true" tabindex="-1"></a>            (<span class="st">"D"</span>, <span class="st">"C"</span>, <span class="dv">11</span>),</span>
<span id="cb1-342"><a href="#cb1-342" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb1-343"><a href="#cb1-343" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb1-344"><a href="#cb1-344" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Some weights are the same - multiple MSTs possible</span></span>
<span id="cb1-345"><a href="#cb1-345" aria-hidden="true" tabindex="-1"></a>        edges <span class="op">=</span> [</span>
<span id="cb1-346"><a href="#cb1-346" aria-hidden="true" tabindex="-1"></a>            (<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="dv">8</span>),</span>
<span id="cb1-347"><a href="#cb1-347" aria-hidden="true" tabindex="-1"></a>            (<span class="st">"A"</span>, <span class="st">"C"</span>, <span class="dv">12</span>),</span>
<span id="cb1-348"><a href="#cb1-348" aria-hidden="true" tabindex="-1"></a>            (<span class="st">"B"</span>, <span class="st">"D"</span>, <span class="dv">5</span>),</span>
<span id="cb1-349"><a href="#cb1-349" aria-hidden="true" tabindex="-1"></a>            (<span class="st">"B"</span>, <span class="st">"E"</span>, <span class="dv">7</span>),</span>
<span id="cb1-350"><a href="#cb1-350" aria-hidden="true" tabindex="-1"></a>            (<span class="st">"C"</span>, <span class="st">"F"</span>, <span class="dv">6</span>),</span>
<span id="cb1-351"><a href="#cb1-351" aria-hidden="true" tabindex="-1"></a>            (<span class="st">"C"</span>, <span class="st">"G"</span>, <span class="dv">4</span>),</span>
<span id="cb1-352"><a href="#cb1-352" aria-hidden="true" tabindex="-1"></a>            (<span class="st">"D"</span>, <span class="st">"E"</span>, <span class="dv">3</span>),</span>
<span id="cb1-353"><a href="#cb1-353" aria-hidden="true" tabindex="-1"></a>            (<span class="st">"E"</span>, <span class="st">"F"</span>, <span class="dv">11</span>),</span>
<span id="cb1-354"><a href="#cb1-354" aria-hidden="true" tabindex="-1"></a>            (<span class="st">"F"</span>, <span class="st">"G"</span>, <span class="dv">2</span>),</span>
<span id="cb1-355"><a href="#cb1-355" aria-hidden="true" tabindex="-1"></a>            (<span class="st">"D"</span>, <span class="st">"C"</span>, <span class="dv">11</span>),</span>
<span id="cb1-356"><a href="#cb1-356" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb1-357"><a href="#cb1-357" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-358"><a href="#cb1-358" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> nodes, edges</span>
<span id="cb1-359"><a href="#cb1-359" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-360"><a href="#cb1-360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-361"><a href="#cb1-361" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the graph based on current setting</span></span>
<span id="cb1-362"><a href="#cb1-362" aria-hidden="true" tabindex="-1"></a>nodes, edges <span class="op">=</span> create_power_grid_graph(unique_weights.value)</span>
<span id="cb1-363"><a href="#cb1-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-364"><a href="#cb1-364" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> kruskal_algorithm(nodes_dict, edges_list):</span>
<span id="cb1-365"><a href="#cb1-365" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Kruskal's algorithm implementation without networkx"""</span></span>
<span id="cb1-366"><a href="#cb1-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-367"><a href="#cb1-367" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 1: Sort edges by weight (global perspective)</span></span>
<span id="cb1-368"><a href="#cb1-368" aria-hidden="true" tabindex="-1"></a>    sorted_edges <span class="op">=</span> <span class="bu">sorted</span>(edges_list, key<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="dv">2</span>])</span>
<span id="cb1-369"><a href="#cb1-369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-370"><a href="#cb1-370" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Initialize Union-Find data structure</span></span>
<span id="cb1-371"><a href="#cb1-371" aria-hidden="true" tabindex="-1"></a>    parent <span class="op">=</span> {}</span>
<span id="cb1-372"><a href="#cb1-372" aria-hidden="true" tabindex="-1"></a>    rank <span class="op">=</span> {}</span>
<span id="cb1-373"><a href="#cb1-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-374"><a href="#cb1-374" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Initialize all nodes in Union-Find</span></span>
<span id="cb1-375"><a href="#cb1-375" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> node <span class="kw">in</span> nodes_dict:</span>
<span id="cb1-376"><a href="#cb1-376" aria-hidden="true" tabindex="-1"></a>        parent[node] <span class="op">=</span> node</span>
<span id="cb1-377"><a href="#cb1-377" aria-hidden="true" tabindex="-1"></a>        rank[node] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb1-378"><a href="#cb1-378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-379"><a href="#cb1-379" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> find(x):</span>
<span id="cb1-380"><a href="#cb1-380" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> parent[x] <span class="op">!=</span> x:</span>
<span id="cb1-381"><a href="#cb1-381" aria-hidden="true" tabindex="-1"></a>            parent[x] <span class="op">=</span> find(parent[x])</span>
<span id="cb1-382"><a href="#cb1-382" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> parent[x]</span>
<span id="cb1-383"><a href="#cb1-383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-384"><a href="#cb1-384" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> union(x, y):</span>
<span id="cb1-385"><a href="#cb1-385" aria-hidden="true" tabindex="-1"></a>        px, py <span class="op">=</span> find(x), find(y)</span>
<span id="cb1-386"><a href="#cb1-386" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> px <span class="op">==</span> py:</span>
<span id="cb1-387"><a href="#cb1-387" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb1-388"><a href="#cb1-388" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> rank[px] <span class="op">&lt;</span> rank[py]:</span>
<span id="cb1-389"><a href="#cb1-389" aria-hidden="true" tabindex="-1"></a>            px, py <span class="op">=</span> py, px</span>
<span id="cb1-390"><a href="#cb1-390" aria-hidden="true" tabindex="-1"></a>        parent[py] <span class="op">=</span> px</span>
<span id="cb1-391"><a href="#cb1-391" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> rank[px] <span class="op">==</span> rank[py]:</span>
<span id="cb1-392"><a href="#cb1-392" aria-hidden="true" tabindex="-1"></a>            rank[px] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb1-393"><a href="#cb1-393" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb1-394"><a href="#cb1-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-395"><a href="#cb1-395" aria-hidden="true" tabindex="-1"></a>    mst_edges <span class="op">=</span> []</span>
<span id="cb1-396"><a href="#cb1-396" aria-hidden="true" tabindex="-1"></a>    steps <span class="op">=</span> []</span>
<span id="cb1-397"><a href="#cb1-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-398"><a href="#cb1-398" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> u, v, weight <span class="kw">in</span> sorted_edges:</span>
<span id="cb1-399"><a href="#cb1-399" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> union(u, v):</span>
<span id="cb1-400"><a href="#cb1-400" aria-hidden="true" tabindex="-1"></a>            mst_edges.append((u, v, weight))</span>
<span id="cb1-401"><a href="#cb1-401" aria-hidden="true" tabindex="-1"></a>            steps.append(</span>
<span id="cb1-402"><a href="#cb1-402" aria-hidden="true" tabindex="-1"></a>                {</span>
<span id="cb1-403"><a href="#cb1-403" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"edge"</span>: (u, v),</span>
<span id="cb1-404"><a href="#cb1-404" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"weight"</span>: weight,</span>
<span id="cb1-405"><a href="#cb1-405" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"action"</span>: <span class="st">"added"</span>,</span>
<span id="cb1-406"><a href="#cb1-406" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"reason"</span>: <span class="ss">f"Connects </span><span class="sc">{</span>u<span class="sc">}</span><span class="ss"> and </span><span class="sc">{</span>v<span class="sc">}</span><span class="ss"> without creating cycle"</span>,</span>
<span id="cb1-407"><a href="#cb1-407" aria-hidden="true" tabindex="-1"></a>                }</span>
<span id="cb1-408"><a href="#cb1-408" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb1-409"><a href="#cb1-409" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-410"><a href="#cb1-410" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Continue until we have a spanning tree OR all edges are processed</span></span>
<span id="cb1-411"><a href="#cb1-411" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">len</span>(mst_edges) <span class="op">==</span> <span class="bu">len</span>(nodes_dict) <span class="op">-</span> <span class="dv">1</span>:</span>
<span id="cb1-412"><a href="#cb1-412" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span></span>
<span id="cb1-413"><a href="#cb1-413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-414"><a href="#cb1-414" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> mst_edges, steps</span>
<span id="cb1-415"><a href="#cb1-415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-416"><a href="#cb1-416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-417"><a href="#cb1-417" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> prim_algorithm(nodes_dict, edges_list, start_node<span class="op">=</span><span class="st">"A"</span>):</span>
<span id="cb1-418"><a href="#cb1-418" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Prim's algorithm implementation without networkx"""</span></span>
<span id="cb1-419"><a href="#cb1-419" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-420"><a href="#cb1-420" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create adjacency list</span></span>
<span id="cb1-421"><a href="#cb1-421" aria-hidden="true" tabindex="-1"></a>    adj <span class="op">=</span> {node: [] <span class="cf">for</span> node <span class="kw">in</span> nodes_dict}</span>
<span id="cb1-422"><a href="#cb1-422" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> u, v, weight <span class="kw">in</span> edges_list:</span>
<span id="cb1-423"><a href="#cb1-423" aria-hidden="true" tabindex="-1"></a>        adj[u].append((v, weight))</span>
<span id="cb1-424"><a href="#cb1-424" aria-hidden="true" tabindex="-1"></a>        adj[v].append((u, weight))</span>
<span id="cb1-425"><a href="#cb1-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-426"><a href="#cb1-426" aria-hidden="true" tabindex="-1"></a>    visited <span class="op">=</span> {start_node}</span>
<span id="cb1-427"><a href="#cb1-427" aria-hidden="true" tabindex="-1"></a>    mst_edges <span class="op">=</span> []</span>
<span id="cb1-428"><a href="#cb1-428" aria-hidden="true" tabindex="-1"></a>    steps <span class="op">=</span> []</span>
<span id="cb1-429"><a href="#cb1-429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-430"><a href="#cb1-430" aria-hidden="true" tabindex="-1"></a>    steps.append(</span>
<span id="cb1-431"><a href="#cb1-431" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb1-432"><a href="#cb1-432" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: start_node,</span>
<span id="cb1-433"><a href="#cb1-433" aria-hidden="true" tabindex="-1"></a>            <span class="st">"action"</span>: <span class="st">"start"</span>,</span>
<span id="cb1-434"><a href="#cb1-434" aria-hidden="true" tabindex="-1"></a>            <span class="st">"reason"</span>: <span class="ss">f"Starting from </span><span class="sc">{</span>start_node<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb1-435"><a href="#cb1-435" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb1-436"><a href="#cb1-436" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb1-437"><a href="#cb1-437" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-438"><a href="#cb1-438" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="bu">len</span>(visited) <span class="op">&lt;</span> <span class="bu">len</span>(nodes_dict):</span>
<span id="cb1-439"><a href="#cb1-439" aria-hidden="true" tabindex="-1"></a>        min_weight <span class="op">=</span> <span class="bu">float</span>(<span class="st">"inf"</span>)</span>
<span id="cb1-440"><a href="#cb1-440" aria-hidden="true" tabindex="-1"></a>        min_edge <span class="op">=</span> <span class="va">None</span></span>
<span id="cb1-441"><a href="#cb1-441" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-442"><a href="#cb1-442" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Find cheapest edge from visited to unvisited nodes</span></span>
<span id="cb1-443"><a href="#cb1-443" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> node <span class="kw">in</span> visited:</span>
<span id="cb1-444"><a href="#cb1-444" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> neighbor, weight <span class="kw">in</span> adj[node]:</span>
<span id="cb1-445"><a href="#cb1-445" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> neighbor <span class="kw">not</span> <span class="kw">in</span> visited <span class="kw">and</span> weight <span class="op">&lt;</span> min_weight:</span>
<span id="cb1-446"><a href="#cb1-446" aria-hidden="true" tabindex="-1"></a>                    min_weight <span class="op">=</span> weight</span>
<span id="cb1-447"><a href="#cb1-447" aria-hidden="true" tabindex="-1"></a>                    min_edge <span class="op">=</span> (node, neighbor, weight)</span>
<span id="cb1-448"><a href="#cb1-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-449"><a href="#cb1-449" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> min_edge:</span>
<span id="cb1-450"><a href="#cb1-450" aria-hidden="true" tabindex="-1"></a>            u, v, weight <span class="op">=</span> min_edge</span>
<span id="cb1-451"><a href="#cb1-451" aria-hidden="true" tabindex="-1"></a>            visited.add(v)</span>
<span id="cb1-452"><a href="#cb1-452" aria-hidden="true" tabindex="-1"></a>            mst_edges.append((u, v, weight))</span>
<span id="cb1-453"><a href="#cb1-453" aria-hidden="true" tabindex="-1"></a>            steps.append(</span>
<span id="cb1-454"><a href="#cb1-454" aria-hidden="true" tabindex="-1"></a>                {</span>
<span id="cb1-455"><a href="#cb1-455" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"edge"</span>: (u, v),</span>
<span id="cb1-456"><a href="#cb1-456" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"weight"</span>: weight,</span>
<span id="cb1-457"><a href="#cb1-457" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"action"</span>: <span class="st">"added"</span>,</span>
<span id="cb1-458"><a href="#cb1-458" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"reason"</span>: <span class="ss">f"Cheapest connection from visited set to </span><span class="sc">{</span>v<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb1-459"><a href="#cb1-459" aria-hidden="true" tabindex="-1"></a>                }</span>
<span id="cb1-460"><a href="#cb1-460" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb1-461"><a href="#cb1-461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-462"><a href="#cb1-462" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> mst_edges, steps</span>
<span id="cb1-463"><a href="#cb1-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-464"><a href="#cb1-464" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-465"><a href="#cb1-465" aria-hidden="true" tabindex="-1"></a><span class="co"># Run both algorithms</span></span>
<span id="cb1-466"><a href="#cb1-466" aria-hidden="true" tabindex="-1"></a>kruskal_mst, kruskal_steps <span class="op">=</span> kruskal_algorithm(nodes, edges)</span>
<span id="cb1-467"><a href="#cb1-467" aria-hidden="true" tabindex="-1"></a>prim_mst, prim_steps <span class="op">=</span> prim_algorithm(nodes, edges)</span>
<span id="cb1-468"><a href="#cb1-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-469"><a href="#cb1-469" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total weights</span></span>
<span id="cb1-470"><a href="#cb1-470" aria-hidden="true" tabindex="-1"></a>kruskal_weight <span class="op">=</span> <span class="bu">sum</span>(w <span class="cf">for</span> _, _, w <span class="kw">in</span> kruskal_mst)</span>
<span id="cb1-471"><a href="#cb1-471" aria-hidden="true" tabindex="-1"></a>prim_weight <span class="op">=</span> <span class="bu">sum</span>(w <span class="cf">for</span> _, _, w <span class="kw">in</span> prim_mst)</span>
<span id="cb1-472"><a href="#cb1-472" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-473"><a href="#cb1-473" aria-hidden="true" tabindex="-1"></a><span class="co"># Display algorithm results with current step information</span></span>
<span id="cb1-474"><a href="#cb1-474" aria-hidden="true" tabindex="-1"></a>weight_match <span class="op">=</span> <span class="st">"✅ Same"</span> <span class="cf">if</span> kruskal_weight <span class="op">==</span> prim_weight <span class="cf">else</span> <span class="st">"❌ Different"</span></span>
<span id="cb1-475"><a href="#cb1-475" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-476"><a href="#cb1-476" aria-hidden="true" tabindex="-1"></a><span class="co"># Get current step information</span></span>
<span id="cb1-477"><a href="#cb1-477" aria-hidden="true" tabindex="-1"></a>current_step <span class="op">=</span> time_step.value</span>
<span id="cb1-478"><a href="#cb1-478" aria-hidden="true" tabindex="-1"></a>max_steps <span class="op">=</span> <span class="bu">len</span>([s <span class="cf">for</span> s <span class="kw">in</span> kruskal_steps <span class="cf">if</span> s[<span class="st">"action"</span>] <span class="op">==</span> <span class="st">"added"</span>])</span>
<span id="cb1-479"><a href="#cb1-479" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-480"><a href="#cb1-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-481"><a href="#cb1-481" aria-hidden="true" tabindex="-1"></a><span class="in">```python {.marimo}</span></span>
<span id="cb1-482"><a href="#cb1-482" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> visualize_both_algorithms():</span>
<span id="cb1-483"><a href="#cb1-483" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Create side-by-side visualization of both algorithms with time step control"""</span></span>
<span id="cb1-484"><a href="#cb1-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-485"><a href="#cb1-485" aria-hidden="true" tabindex="-1"></a>    fig, (ax1, ax2) <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">16</span>, <span class="dv">8</span>))</span>
<span id="cb1-486"><a href="#cb1-486" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-487"><a href="#cb1-487" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get edges to show up to current time step for each algorithm</span></span>
<span id="cb1-488"><a href="#cb1-488" aria-hidden="true" tabindex="-1"></a>    current_step <span class="op">=</span> time_step.value</span>
<span id="cb1-489"><a href="#cb1-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-490"><a href="#cb1-490" aria-hidden="true" tabindex="-1"></a>    <span class="co"># For Kruskal: edges added in order they appear in steps</span></span>
<span id="cb1-491"><a href="#cb1-491" aria-hidden="true" tabindex="-1"></a>    kruskal_edges_to_show <span class="op">=</span> []</span>
<span id="cb1-492"><a href="#cb1-492" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i, step <span class="kw">in</span> <span class="bu">enumerate</span>(kruskal_steps):</span>
<span id="cb1-493"><a href="#cb1-493" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> i <span class="op">&gt;=</span> current_step:</span>
<span id="cb1-494"><a href="#cb1-494" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span></span>
<span id="cb1-495"><a href="#cb1-495" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> step[<span class="st">"action"</span>] <span class="op">==</span> <span class="st">"added"</span>:</span>
<span id="cb1-496"><a href="#cb1-496" aria-hidden="true" tabindex="-1"></a>            u, v <span class="op">=</span> step[<span class="st">"edge"</span>]</span>
<span id="cb1-497"><a href="#cb1-497" aria-hidden="true" tabindex="-1"></a>            weight <span class="op">=</span> step[<span class="st">"weight"</span>]</span>
<span id="cb1-498"><a href="#cb1-498" aria-hidden="true" tabindex="-1"></a>            kruskal_edges_to_show.append((u, v, weight))</span>
<span id="cb1-499"><a href="#cb1-499" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-500"><a href="#cb1-500" aria-hidden="true" tabindex="-1"></a>    <span class="co"># For Prim: edges added in order they appear in steps</span></span>
<span id="cb1-501"><a href="#cb1-501" aria-hidden="true" tabindex="-1"></a>    prim_edges_to_show <span class="op">=</span> []</span>
<span id="cb1-502"><a href="#cb1-502" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i, step <span class="kw">in</span> <span class="bu">enumerate</span>(prim_steps[<span class="dv">1</span>:], <span class="dv">1</span>):  <span class="co"># Skip the 'start' step</span></span>
<span id="cb1-503"><a href="#cb1-503" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> i <span class="op">&gt;</span> current_step:</span>
<span id="cb1-504"><a href="#cb1-504" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span></span>
<span id="cb1-505"><a href="#cb1-505" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> step[<span class="st">"action"</span>] <span class="op">==</span> <span class="st">"added"</span>:</span>
<span id="cb1-506"><a href="#cb1-506" aria-hidden="true" tabindex="-1"></a>            u, v <span class="op">=</span> step[<span class="st">"edge"</span>]</span>
<span id="cb1-507"><a href="#cb1-507" aria-hidden="true" tabindex="-1"></a>            weight <span class="op">=</span> step[<span class="st">"weight"</span>]</span>
<span id="cb1-508"><a href="#cb1-508" aria-hidden="true" tabindex="-1"></a>            prim_edges_to_show.append((u, v, weight))</span>
<span id="cb1-509"><a href="#cb1-509" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-510"><a href="#cb1-510" aria-hidden="true" tabindex="-1"></a>    algorithms <span class="op">=</span> [</span>
<span id="cb1-511"><a href="#cb1-511" aria-hidden="true" tabindex="-1"></a>        (ax1, <span class="st">"Kruskal's Algorithm"</span>, kruskal_edges_to_show),</span>
<span id="cb1-512"><a href="#cb1-512" aria-hidden="true" tabindex="-1"></a>        (ax2, <span class="st">"Prim's Algorithm"</span>, prim_edges_to_show),</span>
<span id="cb1-513"><a href="#cb1-513" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb1-514"><a href="#cb1-514" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-515"><a href="#cb1-515" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> ax, title, edges_to_show <span class="kw">in</span> algorithms:</span>
<span id="cb1-516"><a href="#cb1-516" aria-hidden="true" tabindex="-1"></a>        ax.clear()</span>
<span id="cb1-517"><a href="#cb1-517" aria-hidden="true" tabindex="-1"></a>        ax.set_facecolor(<span class="st">"white"</span>)</span>
<span id="cb1-518"><a href="#cb1-518" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-519"><a href="#cb1-519" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Draw all possible edges - dashed for unconnected</span></span>
<span id="cb1-520"><a href="#cb1-520" aria-hidden="true" tabindex="-1"></a>        mst_edge_set <span class="op">=</span> <span class="bu">set</span>((u, v) <span class="cf">for</span> u, v, _ <span class="kw">in</span> edges_to_show) <span class="op">|</span> <span class="bu">set</span>(</span>
<span id="cb1-521"><a href="#cb1-521" aria-hidden="true" tabindex="-1"></a>            (v, u) <span class="cf">for</span> u, v, _ <span class="kw">in</span> edges_to_show</span>
<span id="cb1-522"><a href="#cb1-522" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb1-523"><a href="#cb1-523" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-524"><a href="#cb1-524" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> u, v, weight <span class="kw">in</span> edges:</span>
<span id="cb1-525"><a href="#cb1-525" aria-hidden="true" tabindex="-1"></a>            x1, y1 <span class="op">=</span> nodes[u]</span>
<span id="cb1-526"><a href="#cb1-526" aria-hidden="true" tabindex="-1"></a>            x2, y2 <span class="op">=</span> nodes[v]</span>
<span id="cb1-527"><a href="#cb1-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-528"><a href="#cb1-528" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> (u, v) <span class="kw">in</span> mst_edge_set <span class="kw">or</span> (v, u) <span class="kw">in</span> mst_edge_set:</span>
<span id="cb1-529"><a href="#cb1-529" aria-hidden="true" tabindex="-1"></a>                <span class="co"># MST edge - solid black line</span></span>
<span id="cb1-530"><a href="#cb1-530" aria-hidden="true" tabindex="-1"></a>                ax.plot(</span>
<span id="cb1-531"><a href="#cb1-531" aria-hidden="true" tabindex="-1"></a>                    [x1, x2],</span>
<span id="cb1-532"><a href="#cb1-532" aria-hidden="true" tabindex="-1"></a>                    [y1, y2],</span>
<span id="cb1-533"><a href="#cb1-533" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"black"</span>,</span>
<span id="cb1-534"><a href="#cb1-534" aria-hidden="true" tabindex="-1"></a>                    linewidth<span class="op">=</span><span class="dv">3</span>,</span>
<span id="cb1-535"><a href="#cb1-535" aria-hidden="true" tabindex="-1"></a>                    solid_capstyle<span class="op">=</span><span class="st">"round"</span>,</span>
<span id="cb1-536"><a href="#cb1-536" aria-hidden="true" tabindex="-1"></a>                )</span>
<span id="cb1-537"><a href="#cb1-537" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span>:</span>
<span id="cb1-538"><a href="#cb1-538" aria-hidden="true" tabindex="-1"></a>                <span class="co"># Non-MST edge - dashed grey line</span></span>
<span id="cb1-539"><a href="#cb1-539" aria-hidden="true" tabindex="-1"></a>                ax.plot(</span>
<span id="cb1-540"><a href="#cb1-540" aria-hidden="true" tabindex="-1"></a>                    [x1, x2],</span>
<span id="cb1-541"><a href="#cb1-541" aria-hidden="true" tabindex="-1"></a>                    [y1, y2],</span>
<span id="cb1-542"><a href="#cb1-542" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"grey"</span>,</span>
<span id="cb1-543"><a href="#cb1-543" aria-hidden="true" tabindex="-1"></a>                    linewidth<span class="op">=</span><span class="dv">2</span>,</span>
<span id="cb1-544"><a href="#cb1-544" aria-hidden="true" tabindex="-1"></a>                    linestyle<span class="op">=</span><span class="st">"--"</span>,</span>
<span id="cb1-545"><a href="#cb1-545" aria-hidden="true" tabindex="-1"></a>                    alpha<span class="op">=</span><span class="fl">0.7</span>,</span>
<span id="cb1-546"><a href="#cb1-546" aria-hidden="true" tabindex="-1"></a>                )</span>
<span id="cb1-547"><a href="#cb1-547" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-548"><a href="#cb1-548" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Add edge weight labels with larger font</span></span>
<span id="cb1-549"><a href="#cb1-549" aria-hidden="true" tabindex="-1"></a>            mid_x, mid_y <span class="op">=</span> (x1 <span class="op">+</span> x2) <span class="op">/</span> <span class="dv">2</span>, (y1 <span class="op">+</span> y2) <span class="op">/</span> <span class="dv">2</span></span>
<span id="cb1-550"><a href="#cb1-550" aria-hidden="true" tabindex="-1"></a>            ax.text(</span>
<span id="cb1-551"><a href="#cb1-551" aria-hidden="true" tabindex="-1"></a>                mid_x,</span>
<span id="cb1-552"><a href="#cb1-552" aria-hidden="true" tabindex="-1"></a>                mid_y,</span>
<span id="cb1-553"><a href="#cb1-553" aria-hidden="true" tabindex="-1"></a>                <span class="bu">str</span>(weight),</span>
<span id="cb1-554"><a href="#cb1-554" aria-hidden="true" tabindex="-1"></a>                fontsize<span class="op">=</span><span class="dv">20</span>,</span>
<span id="cb1-555"><a href="#cb1-555" aria-hidden="true" tabindex="-1"></a>                bbox<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb1-556"><a href="#cb1-556" aria-hidden="true" tabindex="-1"></a>                    boxstyle<span class="op">=</span><span class="st">"round,pad=0.2"</span>, facecolor<span class="op">=</span><span class="st">"white"</span>, alpha<span class="op">=</span><span class="fl">0.9</span></span>
<span id="cb1-557"><a href="#cb1-557" aria-hidden="true" tabindex="-1"></a>                ),</span>
<span id="cb1-558"><a href="#cb1-558" aria-hidden="true" tabindex="-1"></a>                ha<span class="op">=</span><span class="st">"center"</span>,</span>
<span id="cb1-559"><a href="#cb1-559" aria-hidden="true" tabindex="-1"></a>                va<span class="op">=</span><span class="st">"center"</span>,</span>
<span id="cb1-560"><a href="#cb1-560" aria-hidden="true" tabindex="-1"></a>                fontweight<span class="op">=</span><span class="st">"bold"</span>,</span>
<span id="cb1-561"><a href="#cb1-561" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb1-562"><a href="#cb1-562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-563"><a href="#cb1-563" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Draw nodes - color based on connection status</span></span>
<span id="cb1-564"><a href="#cb1-564" aria-hidden="true" tabindex="-1"></a>        connected_nodes <span class="op">=</span> <span class="bu">set</span>()</span>
<span id="cb1-565"><a href="#cb1-565" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="st">"Prim"</span> <span class="kw">in</span> title:</span>
<span id="cb1-566"><a href="#cb1-566" aria-hidden="true" tabindex="-1"></a>            <span class="co"># For Prim, start with node A always connected</span></span>
<span id="cb1-567"><a href="#cb1-567" aria-hidden="true" tabindex="-1"></a>            connected_nodes.add(<span class="st">"A"</span>)</span>
<span id="cb1-568"><a href="#cb1-568" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> u, v, _ <span class="kw">in</span> edges_to_show:</span>
<span id="cb1-569"><a href="#cb1-569" aria-hidden="true" tabindex="-1"></a>                connected_nodes.add(u)</span>
<span id="cb1-570"><a href="#cb1-570" aria-hidden="true" tabindex="-1"></a>                connected_nodes.add(v)</span>
<span id="cb1-571"><a href="#cb1-571" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb1-572"><a href="#cb1-572" aria-hidden="true" tabindex="-1"></a>            <span class="co"># For Kruskal, find all nodes in connected components</span></span>
<span id="cb1-573"><a href="#cb1-573" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> edges_to_show:</span>
<span id="cb1-574"><a href="#cb1-574" aria-hidden="true" tabindex="-1"></a>                <span class="co"># Build Union-Find to determine connected components</span></span>
<span id="cb1-575"><a href="#cb1-575" aria-hidden="true" tabindex="-1"></a>                parent <span class="op">=</span> {node: node <span class="cf">for</span> node <span class="kw">in</span> nodes}</span>
<span id="cb1-576"><a href="#cb1-576" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-577"><a href="#cb1-577" aria-hidden="true" tabindex="-1"></a>                <span class="kw">def</span> find_root(x):</span>
<span id="cb1-578"><a href="#cb1-578" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">if</span> parent[x] <span class="op">!=</span> x:</span>
<span id="cb1-579"><a href="#cb1-579" aria-hidden="true" tabindex="-1"></a>                        parent[x] <span class="op">=</span> find_root(parent[x])</span>
<span id="cb1-580"><a href="#cb1-580" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">return</span> parent[x]</span>
<span id="cb1-581"><a href="#cb1-581" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-582"><a href="#cb1-582" aria-hidden="true" tabindex="-1"></a>                <span class="kw">def</span> union_nodes(x, y):</span>
<span id="cb1-583"><a href="#cb1-583" aria-hidden="true" tabindex="-1"></a>                    px, py <span class="op">=</span> find_root(x), find_root(y)</span>
<span id="cb1-584"><a href="#cb1-584" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">if</span> px <span class="op">!=</span> py:</span>
<span id="cb1-585"><a href="#cb1-585" aria-hidden="true" tabindex="-1"></a>                        parent[py] <span class="op">=</span> px</span>
<span id="cb1-586"><a href="#cb1-586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-587"><a href="#cb1-587" aria-hidden="true" tabindex="-1"></a>                <span class="co"># Apply edges to build connected components</span></span>
<span id="cb1-588"><a href="#cb1-588" aria-hidden="true" tabindex="-1"></a>                <span class="cf">for</span> u, v, _ <span class="kw">in</span> edges_to_show:</span>
<span id="cb1-589"><a href="#cb1-589" aria-hidden="true" tabindex="-1"></a>                    union_nodes(u, v)</span>
<span id="cb1-590"><a href="#cb1-590" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-591"><a href="#cb1-591" aria-hidden="true" tabindex="-1"></a>                <span class="co"># Find all nodes connected to any component that has edges</span></span>
<span id="cb1-592"><a href="#cb1-592" aria-hidden="true" tabindex="-1"></a>                connected_roots <span class="op">=</span> <span class="bu">set</span>()</span>
<span id="cb1-593"><a href="#cb1-593" aria-hidden="true" tabindex="-1"></a>                <span class="cf">for</span> u, v, _ <span class="kw">in</span> edges_to_show:</span>
<span id="cb1-594"><a href="#cb1-594" aria-hidden="true" tabindex="-1"></a>                    connected_roots.add(find_root(u))</span>
<span id="cb1-595"><a href="#cb1-595" aria-hidden="true" tabindex="-1"></a>                    connected_roots.add(find_root(v))</span>
<span id="cb1-596"><a href="#cb1-596" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-597"><a href="#cb1-597" aria-hidden="true" tabindex="-1"></a>                <span class="cf">for</span> node <span class="kw">in</span> nodes:</span>
<span id="cb1-598"><a href="#cb1-598" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">if</span> find_root(node) <span class="kw">in</span> connected_roots:</span>
<span id="cb1-599"><a href="#cb1-599" aria-hidden="true" tabindex="-1"></a>                        connected_nodes.add(node)</span>
<span id="cb1-600"><a href="#cb1-600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-601"><a href="#cb1-601" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> node, (x, y) <span class="kw">in</span> nodes.items():</span>
<span id="cb1-602"><a href="#cb1-602" aria-hidden="true" tabindex="-1"></a>            color <span class="op">=</span> (</span>
<span id="cb1-603"><a href="#cb1-603" aria-hidden="true" tabindex="-1"></a>                <span class="st">"#f5cbcc"</span> <span class="cf">if</span> node <span class="kw">in</span> connected_nodes <span class="cf">else</span> <span class="st">"#d0e2f3"</span></span>
<span id="cb1-604"><a href="#cb1-604" aria-hidden="true" tabindex="-1"></a>            )  <span class="co"># light red : light blue</span></span>
<span id="cb1-605"><a href="#cb1-605" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Draw larger circle with black border</span></span>
<span id="cb1-606"><a href="#cb1-606" aria-hidden="true" tabindex="-1"></a>            circle <span class="op">=</span> plt.Circle((x, y), <span class="fl">0.15</span>, color<span class="op">=</span>color, zorder<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb1-607"><a href="#cb1-607" aria-hidden="true" tabindex="-1"></a>            ax.add_patch(circle)</span>
<span id="cb1-608"><a href="#cb1-608" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Add black border</span></span>
<span id="cb1-609"><a href="#cb1-609" aria-hidden="true" tabindex="-1"></a>            border_circle <span class="op">=</span> plt.Circle(</span>
<span id="cb1-610"><a href="#cb1-610" aria-hidden="true" tabindex="-1"></a>                (x, y),</span>
<span id="cb1-611"><a href="#cb1-611" aria-hidden="true" tabindex="-1"></a>                <span class="fl">0.15</span>,</span>
<span id="cb1-612"><a href="#cb1-612" aria-hidden="true" tabindex="-1"></a>                fill<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb1-613"><a href="#cb1-613" aria-hidden="true" tabindex="-1"></a>                edgecolor<span class="op">=</span><span class="st">"black"</span>,</span>
<span id="cb1-614"><a href="#cb1-614" aria-hidden="true" tabindex="-1"></a>                linewidth<span class="op">=</span><span class="dv">2</span>,</span>
<span id="cb1-615"><a href="#cb1-615" aria-hidden="true" tabindex="-1"></a>                zorder<span class="op">=</span><span class="dv">6</span>,</span>
<span id="cb1-616"><a href="#cb1-616" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb1-617"><a href="#cb1-617" aria-hidden="true" tabindex="-1"></a>            ax.add_patch(border_circle)</span>
<span id="cb1-618"><a href="#cb1-618" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Larger text</span></span>
<span id="cb1-619"><a href="#cb1-619" aria-hidden="true" tabindex="-1"></a>            ax.text(</span>
<span id="cb1-620"><a href="#cb1-620" aria-hidden="true" tabindex="-1"></a>                x,</span>
<span id="cb1-621"><a href="#cb1-621" aria-hidden="true" tabindex="-1"></a>                y,</span>
<span id="cb1-622"><a href="#cb1-622" aria-hidden="true" tabindex="-1"></a>                node,</span>
<span id="cb1-623"><a href="#cb1-623" aria-hidden="true" tabindex="-1"></a>                ha<span class="op">=</span><span class="st">"center"</span>,</span>
<span id="cb1-624"><a href="#cb1-624" aria-hidden="true" tabindex="-1"></a>                va<span class="op">=</span><span class="st">"center"</span>,</span>
<span id="cb1-625"><a href="#cb1-625" aria-hidden="true" tabindex="-1"></a>                fontsize<span class="op">=</span><span class="dv">20</span>,</span>
<span id="cb1-626"><a href="#cb1-626" aria-hidden="true" tabindex="-1"></a>                fontweight<span class="op">=</span><span class="st">"bold"</span>,</span>
<span id="cb1-627"><a href="#cb1-627" aria-hidden="true" tabindex="-1"></a>                zorder<span class="op">=</span><span class="dv">7</span>,</span>
<span id="cb1-628"><a href="#cb1-628" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb1-629"><a href="#cb1-629" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-630"><a href="#cb1-630" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Clean title</span></span>
<span id="cb1-631"><a href="#cb1-631" aria-hidden="true" tabindex="-1"></a>        ax.set_title(title, fontsize<span class="op">=</span><span class="dv">22</span>, fontweight<span class="op">=</span><span class="st">"bold"</span>, pad<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb1-632"><a href="#cb1-632" aria-hidden="true" tabindex="-1"></a>        ax.set_aspect(<span class="st">"equal"</span>)</span>
<span id="cb1-633"><a href="#cb1-633" aria-hidden="true" tabindex="-1"></a>        ax.axis(<span class="st">"off"</span>)</span>
<span id="cb1-634"><a href="#cb1-634" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-635"><a href="#cb1-635" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Set axis limits with padding</span></span>
<span id="cb1-636"><a href="#cb1-636" aria-hidden="true" tabindex="-1"></a>        x_coords <span class="op">=</span> [x <span class="cf">for</span> x, y <span class="kw">in</span> nodes.values()]</span>
<span id="cb1-637"><a href="#cb1-637" aria-hidden="true" tabindex="-1"></a>        y_coords <span class="op">=</span> [y <span class="cf">for</span> x, y <span class="kw">in</span> nodes.values()]</span>
<span id="cb1-638"><a href="#cb1-638" aria-hidden="true" tabindex="-1"></a>        ax.set_xlim(<span class="bu">min</span>(x_coords) <span class="op">-</span> <span class="fl">0.3</span>, <span class="bu">max</span>(x_coords) <span class="op">+</span> <span class="fl">0.3</span>)</span>
<span id="cb1-639"><a href="#cb1-639" aria-hidden="true" tabindex="-1"></a>        ax.set_ylim(<span class="bu">min</span>(y_coords) <span class="op">-</span> <span class="fl">0.3</span>, <span class="bu">max</span>(y_coords) <span class="op">+</span> <span class="fl">0.3</span>)</span>
<span id="cb1-640"><a href="#cb1-640" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-641"><a href="#cb1-641" aria-hidden="true" tabindex="-1"></a>    plt.tight_layout()</span>
<span id="cb1-642"><a href="#cb1-642" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> fig</span>
<span id="cb1-643"><a href="#cb1-643" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-644"><a href="#cb1-644" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-645"><a href="#cb1-645" aria-hidden="true" tabindex="-1"></a><span class="co"># Create and display the visualization</span></span>
<span id="cb1-646"><a href="#cb1-646" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> visualize_both_algorithms()</span>
<span id="cb1-647"><a href="#cb1-647" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-648"><a href="#cb1-648" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-649"><a href="#cb1-649" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-650"><a href="#cb1-650" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-651"><a href="#cb1-651" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!---</span></span>
<span id="cb1-652"><a href="#cb1-652" aria-hidden="true" tabindex="-1"></a><span class="co">Code for the percolation visualization</span></span>
<span id="cb1-653"><a href="#cb1-653" aria-hidden="true" tabindex="-1"></a><span class="co">---&gt;</span></span>
<span id="cb1-654"><a href="#cb1-654" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-655"><a href="#cb1-655" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-656"><a href="#cb1-656" aria-hidden="true" tabindex="-1"></a><span class="in">```python {.marimo}</span></span>
<span id="cb1-657"><a href="#cb1-657" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a slider to control the puddle probability</span></span>
<span id="cb1-658"><a href="#cb1-658" aria-hidden="true" tabindex="-1"></a>p_slider <span class="op">=</span> mo.ui.slider(</span>
<span id="cb1-659"><a href="#cb1-659" aria-hidden="true" tabindex="-1"></a>    start<span class="op">=</span><span class="fl">0.0</span>,</span>
<span id="cb1-660"><a href="#cb1-660" aria-hidden="true" tabindex="-1"></a>    stop<span class="op">=</span><span class="fl">1.0</span>,</span>
<span id="cb1-661"><a href="#cb1-661" aria-hidden="true" tabindex="-1"></a>    step<span class="op">=</span><span class="fl">0.01</span>,</span>
<span id="cb1-662"><a href="#cb1-662" aria-hidden="true" tabindex="-1"></a>    value<span class="op">=</span><span class="fl">0.5</span>,</span>
<span id="cb1-663"><a href="#cb1-663" aria-hidden="true" tabindex="-1"></a>    label<span class="op">=</span><span class="st">"Puddle Probability (p)"</span></span>
<span id="cb1-664"><a href="#cb1-664" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-665"><a href="#cb1-665" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-666"><a href="#cb1-666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-667"><a href="#cb1-667" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-668"><a href="#cb1-668" aria-hidden="true" tabindex="-1"></a><span class="in">```python {.marimo}</span></span>
<span id="cb1-669"><a href="#cb1-669" aria-hidden="true" tabindex="-1"></a>np.random.seed(<span class="dv">42</span>)  <span class="co"># For reproducible results during demo</span></span>
<span id="cb1-670"><a href="#cb1-670" aria-hidden="true" tabindex="-1"></a><span class="co"># Grid parameters</span></span>
<span id="cb1-671"><a href="#cb1-671" aria-hidden="true" tabindex="-1"></a>grid_size <span class="op">=</span> <span class="dv">50</span></span>
<span id="cb1-672"><a href="#cb1-672" aria-hidden="true" tabindex="-1"></a>S <span class="op">=</span> np.random.random((grid_size, grid_size))</span>
<span id="cb1-673"><a href="#cb1-673" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-674"><a href="#cb1-674" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> percolation_visualization():</span>
<span id="cb1-675"><a href="#cb1-675" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-676"><a href="#cb1-676" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Generate the percolation grid based on slider value</span></span>
<span id="cb1-677"><a href="#cb1-677" aria-hidden="true" tabindex="-1"></a>    np.random.seed(<span class="dv">42</span>)  <span class="co"># For reproducible results during demo</span></span>
<span id="cb1-678"><a href="#cb1-678" aria-hidden="true" tabindex="-1"></a>    grid <span class="op">=</span> S <span class="op">&lt;</span> p_slider.value</span>
<span id="cb1-679"><a href="#cb1-679" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-680"><a href="#cb1-680" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Find connected components (puddles that touch each other)</span></span>
<span id="cb1-681"><a href="#cb1-681" aria-hidden="true" tabindex="-1"></a>    labeled_array, num_features <span class="op">=</span> label(grid)</span>
<span id="cb1-682"><a href="#cb1-682" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-683"><a href="#cb1-683" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Find the largest connected component</span></span>
<span id="cb1-684"><a href="#cb1-684" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> num_features <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb1-685"><a href="#cb1-685" aria-hidden="true" tabindex="-1"></a>        sizes <span class="op">=</span> [(labeled_array <span class="op">==</span> i).<span class="bu">sum</span>() <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, num_features <span class="op">+</span> <span class="dv">1</span>)]</span>
<span id="cb1-686"><a href="#cb1-686" aria-hidden="true" tabindex="-1"></a>        largest_size <span class="op">=</span> <span class="bu">max</span>(sizes)</span>
<span id="cb1-687"><a href="#cb1-687" aria-hidden="true" tabindex="-1"></a>        largest_fraction <span class="op">=</span> largest_size <span class="op">/</span> (grid_size <span class="op">*</span> grid_size)</span>
<span id="cb1-688"><a href="#cb1-688" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb1-689"><a href="#cb1-689" aria-hidden="true" tabindex="-1"></a>        largest_size <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb1-690"><a href="#cb1-690" aria-hidden="true" tabindex="-1"></a>        largest_fraction <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb1-691"><a href="#cb1-691" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-692"><a href="#cb1-692" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create visualization</span></span>
<span id="cb1-693"><a href="#cb1-693" aria-hidden="true" tabindex="-1"></a>    plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>))</span>
<span id="cb1-694"><a href="#cb1-694" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-695"><a href="#cb1-695" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create a display grid that shows largest component in red</span></span>
<span id="cb1-696"><a href="#cb1-696" aria-hidden="true" tabindex="-1"></a>    display_grid <span class="op">=</span> np.zeros_like(grid, dtype<span class="op">=</span><span class="bu">int</span>)</span>
<span id="cb1-697"><a href="#cb1-697" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-698"><a href="#cb1-698" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Find the largest component</span></span>
<span id="cb1-699"><a href="#cb1-699" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> num_features <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb1-700"><a href="#cb1-700" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Find which label corresponds to the largest component</span></span>
<span id="cb1-701"><a href="#cb1-701" aria-hidden="true" tabindex="-1"></a>        largest_label <span class="op">=</span> np.argmax(sizes) <span class="op">+</span> <span class="dv">1</span>  <span class="co"># +1 because labels start from 1</span></span>
<span id="cb1-702"><a href="#cb1-702" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-703"><a href="#cb1-703" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Set display values: 0=white, 1=blue (small components), 2=red (largest component)</span></span>
<span id="cb1-704"><a href="#cb1-704" aria-hidden="true" tabindex="-1"></a>        display_grid[grid] <span class="op">=</span> <span class="dv">1</span>  <span class="co"># All puddles start as blue</span></span>
<span id="cb1-705"><a href="#cb1-705" aria-hidden="true" tabindex="-1"></a>        display_grid[labeled_array <span class="op">==</span> largest_label] <span class="op">=</span> <span class="dv">2</span>  <span class="co"># Largest component in red</span></span>
<span id="cb1-706"><a href="#cb1-706" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-707"><a href="#cb1-707" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create custom colormap: white for empty, blue for small components, red for largest</span></span>
<span id="cb1-708"><a href="#cb1-708" aria-hidden="true" tabindex="-1"></a>    colors <span class="op">=</span> [<span class="st">'white'</span>, <span class="st">'#4472C4'</span>, <span class="st">'#E74C3C'</span>]  <span class="co"># white, blue, red</span></span>
<span id="cb1-709"><a href="#cb1-709" aria-hidden="true" tabindex="-1"></a>    cmap <span class="op">=</span> ListedColormap(colors)</span>
<span id="cb1-710"><a href="#cb1-710" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-711"><a href="#cb1-711" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Plot the grid</span></span>
<span id="cb1-712"><a href="#cb1-712" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> plt.imshow(display_grid, cmap<span class="op">=</span>cmap, interpolation<span class="op">=</span><span class="st">'nearest'</span>)</span>
<span id="cb1-713"><a href="#cb1-713" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-714"><a href="#cb1-714" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Styling</span></span>
<span id="cb1-715"><a href="#cb1-715" aria-hidden="true" tabindex="-1"></a>    plt.title(<span class="ss">f'Percolation Grid (p = </span><span class="sc">{</span>p_slider<span class="sc">.</span>value<span class="sc">:.2f}</span><span class="ss">)</span><span class="ch">\n</span><span class="ss">'</span></span>
<span id="cb1-716"><a href="#cb1-716" aria-hidden="true" tabindex="-1"></a>              <span class="ss">f'Largest Component (Red): </span><span class="sc">{</span>largest_size<span class="sc">}</span><span class="ss"> squares '</span></span>
<span id="cb1-717"><a href="#cb1-717" aria-hidden="true" tabindex="-1"></a>              <span class="ss">f'(</span><span class="sc">{</span>largest_fraction<span class="sc">:.1%}</span><span class="ss"> of grid)'</span>,</span>
<span id="cb1-718"><a href="#cb1-718" aria-hidden="true" tabindex="-1"></a>              fontsize<span class="op">=</span><span class="dv">14</span>, pad<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb1-719"><a href="#cb1-719" aria-hidden="true" tabindex="-1"></a>    plt.xlabel(<span class="st">'Grid Position'</span>)</span>
<span id="cb1-720"><a href="#cb1-720" aria-hidden="true" tabindex="-1"></a>    plt.ylabel(<span class="st">'Grid Position'</span>)</span>
<span id="cb1-721"><a href="#cb1-721" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-722"><a href="#cb1-722" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add grid lines for clarity</span></span>
<span id="cb1-723"><a href="#cb1-723" aria-hidden="true" tabindex="-1"></a>    plt.xticks(np.arange(<span class="op">-</span><span class="fl">0.5</span>, grid_size, <span class="dv">10</span>), minor<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb1-724"><a href="#cb1-724" aria-hidden="true" tabindex="-1"></a>    plt.yticks(np.arange(<span class="op">-</span><span class="fl">0.5</span>, grid_size, <span class="dv">10</span>), minor<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb1-725"><a href="#cb1-725" aria-hidden="true" tabindex="-1"></a>    plt.grid(which<span class="op">=</span><span class="st">'minor'</span>, color<span class="op">=</span><span class="st">'gray'</span>, linestyle<span class="op">=</span><span class="st">'-'</span>, alpha<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb1-726"><a href="#cb1-726" aria-hidden="true" tabindex="-1"></a>    plt.tick_params(which<span class="op">=</span><span class="st">'minor'</span>, size<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb1-727"><a href="#cb1-727" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-728"><a href="#cb1-728" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add a legend</span></span>
<span id="cb1-729"><a href="#cb1-729" aria-hidden="true" tabindex="-1"></a>    <span class="im">from</span> matplotlib.patches <span class="im">import</span> Patch</span>
<span id="cb1-730"><a href="#cb1-730" aria-hidden="true" tabindex="-1"></a>    legend_elements <span class="op">=</span> [</span>
<span id="cb1-731"><a href="#cb1-731" aria-hidden="true" tabindex="-1"></a>        Patch(facecolor<span class="op">=</span><span class="st">'white'</span>, edgecolor<span class="op">=</span><span class="st">'black'</span>, label<span class="op">=</span><span class="st">'Empty'</span>),</span>
<span id="cb1-732"><a href="#cb1-732" aria-hidden="true" tabindex="-1"></a>        Patch(facecolor<span class="op">=</span><span class="st">'#4472C4'</span>, label<span class="op">=</span><span class="st">'Small Components'</span>),</span>
<span id="cb1-733"><a href="#cb1-733" aria-hidden="true" tabindex="-1"></a>        Patch(facecolor<span class="op">=</span><span class="st">'#E74C3C'</span>, label<span class="op">=</span><span class="st">'Largest Component'</span>)</span>
<span id="cb1-734"><a href="#cb1-734" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb1-735"><a href="#cb1-735" aria-hidden="true" tabindex="-1"></a>    plt.legend(handles<span class="op">=</span>legend_elements, loc<span class="op">=</span><span class="st">'upper right'</span>, bbox_to_anchor<span class="op">=</span>(<span class="fl">1.15</span>, <span class="dv">1</span>))</span>
<span id="cb1-736"><a href="#cb1-736" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-737"><a href="#cb1-737" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Return the plot</span></span>
<span id="cb1-738"><a href="#cb1-738" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> ax</span>
<span id="cb1-739"><a href="#cb1-739" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-740"><a href="#cb1-740" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-741"><a href="#cb1-741" aria-hidden="true" tabindex="-1"></a><span class="in">```python {.marimo}</span></span>
<span id="cb1-742"><a href="#cb1-742" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate data for the phase transition plot</span></span>
<span id="cb1-743"><a href="#cb1-743" aria-hidden="true" tabindex="-1"></a>prob_values <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">100</span>)</span>
<span id="cb1-744"><a href="#cb1-744" aria-hidden="true" tabindex="-1"></a>component_fractions <span class="op">=</span> []</span>
<span id="cb1-745"><a href="#cb1-745" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-746"><a href="#cb1-746" aria-hidden="true" tabindex="-1"></a><span class="co">#grid_size_phase = 50  # Use smaller grid for faster computation</span></span>
<span id="cb1-747"><a href="#cb1-747" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-748"><a href="#cb1-748" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate largest component size for different probabilities</span></span>
<span id="cb1-749"><a href="#cb1-749" aria-hidden="true" tabindex="-1"></a>np.random.seed(<span class="dv">42</span>)  <span class="co"># Fixed seed for consistent results</span></span>
<span id="cb1-750"><a href="#cb1-750" aria-hidden="true" tabindex="-1"></a><span class="co">#S = np.random.random((grid_size_phase, grid_size_phase))</span></span>
<span id="cb1-751"><a href="#cb1-751" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> prob <span class="kw">in</span> prob_values:</span>
<span id="cb1-752"><a href="#cb1-752" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Generate random grid</span></span>
<span id="cb1-753"><a href="#cb1-753" aria-hidden="true" tabindex="-1"></a>    phase_grid <span class="op">=</span> S <span class="op">&lt;</span> prob</span>
<span id="cb1-754"><a href="#cb1-754" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-755"><a href="#cb1-755" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Find connected components</span></span>
<span id="cb1-756"><a href="#cb1-756" aria-hidden="true" tabindex="-1"></a>    labeled_phase, num_phase <span class="op">=</span> label(phase_grid)</span>
<span id="cb1-757"><a href="#cb1-757" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-758"><a href="#cb1-758" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> num_phase <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb1-759"><a href="#cb1-759" aria-hidden="true" tabindex="-1"></a>        phase_sizes <span class="op">=</span> [(labeled_phase <span class="op">==</span> i).<span class="bu">sum</span>() <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, num_phase <span class="op">+</span> <span class="dv">1</span>)]</span>
<span id="cb1-760"><a href="#cb1-760" aria-hidden="true" tabindex="-1"></a>        largest_phase <span class="op">=</span> <span class="bu">max</span>(phase_sizes) <span class="op">/</span> (grid_size <span class="op">*</span> grid_size)</span>
<span id="cb1-761"><a href="#cb1-761" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb1-762"><a href="#cb1-762" aria-hidden="true" tabindex="-1"></a>        largest_phase <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb1-763"><a href="#cb1-763" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-764"><a href="#cb1-764" aria-hidden="true" tabindex="-1"></a>    component_fractions.append(largest_phase)</span>
<span id="cb1-765"><a href="#cb1-765" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-766"><a href="#cb1-766" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-767"><a href="#cb1-767" aria-hidden="true" tabindex="-1"></a><span class="in">```python {.marimo}</span></span>
<span id="cb1-768"><a href="#cb1-768" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> phase_transition_plot():</span>
<span id="cb1-769"><a href="#cb1-769" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create the phase transition plot</span></span>
<span id="cb1-770"><a href="#cb1-770" aria-hidden="true" tabindex="-1"></a>    plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">6</span>))</span>
<span id="cb1-771"><a href="#cb1-771" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-772"><a href="#cb1-772" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Plot the phase transition curve</span></span>
<span id="cb1-773"><a href="#cb1-773" aria-hidden="true" tabindex="-1"></a>    plt.plot(prob_values, component_fractions, <span class="st">'b-'</span>, linewidth<span class="op">=</span><span class="dv">2</span>,</span>
<span id="cb1-774"><a href="#cb1-774" aria-hidden="true" tabindex="-1"></a>             label<span class="op">=</span><span class="st">'Largest Component Size'</span>)</span>
<span id="cb1-775"><a href="#cb1-775" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-776"><a href="#cb1-776" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Highlight current probability</span></span>
<span id="cb1-777"><a href="#cb1-777" aria-hidden="true" tabindex="-1"></a>    current_idx <span class="op">=</span> <span class="bu">int</span>(p_slider.value <span class="op">*</span> <span class="dv">99</span>)  <span class="co"># Convert to index</span></span>
<span id="cb1-778"><a href="#cb1-778" aria-hidden="true" tabindex="-1"></a>    plt.plot(p_slider.value, component_fractions[current_idx],</span>
<span id="cb1-779"><a href="#cb1-779" aria-hidden="true" tabindex="-1"></a>             <span class="st">'ro'</span>, markersize<span class="op">=</span><span class="dv">10</span>, label<span class="op">=</span><span class="ss">f'Current p = </span><span class="sc">{</span>p_slider<span class="sc">.</span>value<span class="sc">:.2f}</span><span class="ss">'</span>)</span>
<span id="cb1-780"><a href="#cb1-780" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-781"><a href="#cb1-781" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Mark approximate critical point (for 2D lattice, pc ≈ 0.593)</span></span>
<span id="cb1-782"><a href="#cb1-782" aria-hidden="true" tabindex="-1"></a>    critical_p <span class="op">=</span> <span class="fl">0.593</span></span>
<span id="cb1-783"><a href="#cb1-783" aria-hidden="true" tabindex="-1"></a>    plt.axvline(x<span class="op">=</span>critical_p, color<span class="op">=</span><span class="st">'gray'</span>, linestyle<span class="op">=</span><span class="st">'--'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>,</span>
<span id="cb1-784"><a href="#cb1-784" aria-hidden="true" tabindex="-1"></a>                label<span class="op">=</span><span class="ss">f'Critical point (p_c ≈ </span><span class="sc">{</span>critical_p<span class="sc">}</span><span class="ss">)'</span>)</span>
<span id="cb1-785"><a href="#cb1-785" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-786"><a href="#cb1-786" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Styling</span></span>
<span id="cb1-787"><a href="#cb1-787" aria-hidden="true" tabindex="-1"></a>    plt.xlabel(<span class="st">'Probability (p)'</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb1-788"><a href="#cb1-788" aria-hidden="true" tabindex="-1"></a>    plt.ylabel(<span class="st">'Fraction of Grid in Largest Component'</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb1-789"><a href="#cb1-789" aria-hidden="true" tabindex="-1"></a>    plt.title(<span class="st">'Percolation Phase Transition'</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb1-790"><a href="#cb1-790" aria-hidden="true" tabindex="-1"></a>    plt.grid(<span class="va">True</span>, alpha<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb1-791"><a href="#cb1-791" aria-hidden="true" tabindex="-1"></a>    plt.legend(frameon<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb1-792"><a href="#cb1-792" aria-hidden="true" tabindex="-1"></a>    plt.xlim(<span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb1-793"><a href="#cb1-793" aria-hidden="true" tabindex="-1"></a>    plt.ylim(<span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb1-794"><a href="#cb1-794" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-795"><a href="#cb1-795" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add phase labels</span></span>
<span id="cb1-796"><a href="#cb1-796" aria-hidden="true" tabindex="-1"></a>    plt.text(<span class="fl">0.2</span>, <span class="fl">0.2</span>, <span class="st">'Disconnected</span><span class="ch">\n</span><span class="st">Phase'</span>, fontsize<span class="op">=</span><span class="dv">15</span>, ha<span class="op">=</span><span class="st">'center'</span>,</span>
<span id="cb1-797"><a href="#cb1-797" aria-hidden="true" tabindex="-1"></a>             bbox<span class="op">=</span><span class="bu">dict</span>(boxstyle<span class="op">=</span><span class="st">'round'</span>, facecolor<span class="op">=</span><span class="st">'lightblue'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>))</span>
<span id="cb1-798"><a href="#cb1-798" aria-hidden="true" tabindex="-1"></a>    plt.text(<span class="fl">0.8</span>, <span class="fl">0.2</span>, <span class="st">'Connected</span><span class="ch">\n</span><span class="st">Phase'</span>, fontsize<span class="op">=</span><span class="dv">15</span>, ha<span class="op">=</span><span class="st">'center'</span>,</span>
<span id="cb1-799"><a href="#cb1-799" aria-hidden="true" tabindex="-1"></a>             bbox<span class="op">=</span><span class="bu">dict</span>(boxstyle<span class="op">=</span><span class="st">'round'</span>, facecolor<span class="op">=</span><span class="st">'#f5cbcc'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>))</span>
<span id="cb1-800"><a href="#cb1-800" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-801"><a href="#cb1-801" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> plt.gca()</span>
<span id="cb1-802"><a href="#cb1-802" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-803"><a href="#cb1-803" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-804"><a href="#cb1-804" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-805"><a href="#cb1-805" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!--</span></span>
<span id="cb1-806"><a href="#cb1-806" aria-hidden="true" tabindex="-1"></a><span class="co">Code for the f_c plot</span></span>
<span id="cb1-807"><a href="#cb1-807" aria-hidden="true" tabindex="-1"></a><span class="co">--&gt;</span></span>
<span id="cb1-808"><a href="#cb1-808" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-809"><a href="#cb1-809" aria-hidden="true" tabindex="-1"></a><span class="in">```python {.marimo}</span></span>
<span id="cb1-810"><a href="#cb1-810" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> compute_fc_powerlaw(gamma, k_min, k_max):</span>
<span id="cb1-811"><a href="#cb1-811" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb1-812"><a href="#cb1-812" aria-hidden="true" tabindex="-1"></a><span class="co">    Compute the critical fraction f_c for a power-law degree distribution.</span></span>
<span id="cb1-813"><a href="#cb1-813" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-814"><a href="#cb1-814" aria-hidden="true" tabindex="-1"></a><span class="co">    Parameters</span></span>
<span id="cb1-815"><a href="#cb1-815" aria-hidden="true" tabindex="-1"></a><span class="co">    ----------</span></span>
<span id="cb1-816"><a href="#cb1-816" aria-hidden="true" tabindex="-1"></a><span class="co">    gamma : float</span></span>
<span id="cb1-817"><a href="#cb1-817" aria-hidden="true" tabindex="-1"></a><span class="co">        Exponent of the power-law degree distribution.</span></span>
<span id="cb1-818"><a href="#cb1-818" aria-hidden="true" tabindex="-1"></a><span class="co">    k_min : float</span></span>
<span id="cb1-819"><a href="#cb1-819" aria-hidden="true" tabindex="-1"></a><span class="co">        Minimum degree in the network.</span></span>
<span id="cb1-820"><a href="#cb1-820" aria-hidden="true" tabindex="-1"></a><span class="co">    k_max : float</span></span>
<span id="cb1-821"><a href="#cb1-821" aria-hidden="true" tabindex="-1"></a><span class="co">        Maximum degree in the network.</span></span>
<span id="cb1-822"><a href="#cb1-822" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-823"><a href="#cb1-823" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns</span></span>
<span id="cb1-824"><a href="#cb1-824" aria-hidden="true" tabindex="-1"></a><span class="co">    -------</span></span>
<span id="cb1-825"><a href="#cb1-825" aria-hidden="true" tabindex="-1"></a><span class="co">    f_c : float</span></span>
<span id="cb1-826"><a href="#cb1-826" aria-hidden="true" tabindex="-1"></a><span class="co">        Critical fraction of nodes that must be removed to break the network.</span></span>
<span id="cb1-827"><a href="#cb1-827" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb1-828"><a href="#cb1-828" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> gamma <span class="op">&gt;</span> <span class="dv">3</span>:</span>
<span id="cb1-829"><a href="#cb1-829" aria-hidden="true" tabindex="-1"></a>        denom <span class="op">=</span> (gamma <span class="op">-</span> <span class="dv">2</span>) <span class="op">/</span> (gamma <span class="op">-</span> <span class="dv">3</span>) <span class="op">*</span> k_min <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb1-830"><a href="#cb1-830" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> denom <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb1-831"><a href="#cb1-831" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="fl">1.0</span></span>
<span id="cb1-832"><a href="#cb1-832" aria-hidden="true" tabindex="-1"></a>        f_c <span class="op">=</span> <span class="dv">1</span> <span class="op">-</span> <span class="dv">1</span> <span class="op">/</span> denom</span>
<span id="cb1-833"><a href="#cb1-833" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="dv">2</span> <span class="op">&lt;</span> gamma <span class="op">&lt;</span> <span class="dv">3</span>:</span>
<span id="cb1-834"><a href="#cb1-834" aria-hidden="true" tabindex="-1"></a>        denom <span class="op">=</span> (gamma <span class="op">-</span> <span class="dv">2</span>) <span class="op">/</span> (<span class="dv">3</span><span class="op">-</span>gamma) <span class="op">*</span> (k_min <span class="op">**</span> (gamma <span class="op">-</span> <span class="dv">2</span>)) <span class="op">*</span> (k_max <span class="op">**</span> (<span class="dv">3</span> <span class="op">-</span> gamma)) <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb1-835"><a href="#cb1-835" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> denom <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb1-836"><a href="#cb1-836" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="fl">1.0</span></span>
<span id="cb1-837"><a href="#cb1-837" aria-hidden="true" tabindex="-1"></a>        f_c <span class="op">=</span> <span class="dv">1</span> <span class="op">-</span> <span class="dv">1</span> <span class="op">/</span> denom</span>
<span id="cb1-838"><a href="#cb1-838" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb1-839"><a href="#cb1-839" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"gamma must be &gt; 2 for a giant component to exist."</span>)</span>
<span id="cb1-840"><a href="#cb1-840" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> f_c</span>
<span id="cb1-841"><a href="#cb1-841" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-842"><a href="#cb1-842" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-843"><a href="#cb1-843" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-844"><a href="#cb1-844" aria-hidden="true" tabindex="-1"></a><span class="in">```python {.marimo}</span></span>
<span id="cb1-845"><a href="#cb1-845" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> altair <span class="im">as</span> alt</span>
<span id="cb1-846"><a href="#cb1-846" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-847"><a href="#cb1-847" aria-hidden="true" tabindex="-1"></a>kmax_values <span class="op">=</span> np.arange(<span class="dv">50</span>, <span class="dv">1000</span>, <span class="dv">20</span>)</span>
<span id="cb1-848"><a href="#cb1-848" aria-hidden="true" tabindex="-1"></a>gammas <span class="op">=</span> [<span class="fl">2.1</span>, <span class="fl">2.5</span>, <span class="fl">2.9</span>]</span>
<span id="cb1-849"><a href="#cb1-849" aria-hidden="true" tabindex="-1"></a>gamma_labels <span class="op">=</span> {<span class="fl">2.1</span>: <span class="st">"gamma = 2.1"</span>, <span class="fl">2.5</span>: <span class="st">"gamma = 2.5"</span>, <span class="fl">2.9</span>: <span class="st">"gamma = 2.9"</span>}</span>
<span id="cb1-850"><a href="#cb1-850" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> {<span class="fl">2.1</span>: <span class="st">"red"</span>, <span class="fl">2.5</span>: <span class="st">"blue"</span>, <span class="fl">2.9</span>: <span class="st">"orange"</span>}</span>
<span id="cb1-851"><a href="#cb1-851" aria-hidden="true" tabindex="-1"></a>linestyles <span class="op">=</span> {<span class="fl">2.1</span>: <span class="st">"solid"</span>, <span class="fl">2.5</span>: <span class="st">"dashed"</span>, <span class="fl">2.9</span>: <span class="st">"dashed"</span>}</span>
<span id="cb1-852"><a href="#cb1-852" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-853"><a href="#cb1-853" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare data for Altair</span></span>
<span id="cb1-854"><a href="#cb1-854" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> []</span>
<span id="cb1-855"><a href="#cb1-855" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> gamma <span class="kw">in</span> gammas:</span>
<span id="cb1-856"><a href="#cb1-856" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> kmax <span class="kw">in</span> kmax_values:</span>
<span id="cb1-857"><a href="#cb1-857" aria-hidden="true" tabindex="-1"></a>        fc <span class="op">=</span> compute_fc_powerlaw(gamma, <span class="dv">1</span>, kmax)</span>
<span id="cb1-858"><a href="#cb1-858" aria-hidden="true" tabindex="-1"></a>        data.append({</span>
<span id="cb1-859"><a href="#cb1-859" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Maximum degree"</span>: kmax,</span>
<span id="cb1-860"><a href="#cb1-860" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Critical fraction"</span>: fc,</span>
<span id="cb1-861"><a href="#cb1-861" aria-hidden="true" tabindex="-1"></a>            <span class="st">"gamma"</span>: gamma_labels[gamma],</span>
<span id="cb1-862"><a href="#cb1-862" aria-hidden="true" tabindex="-1"></a>            <span class="st">"color"</span>: colors[gamma],</span>
<span id="cb1-863"><a href="#cb1-863" aria-hidden="true" tabindex="-1"></a>            <span class="st">"linestyle"</span>: linestyles[gamma]</span>
<span id="cb1-864"><a href="#cb1-864" aria-hidden="true" tabindex="-1"></a>        })</span>
<span id="cb1-865"><a href="#cb1-865" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-866"><a href="#cb1-866" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb1-867"><a href="#cb1-867" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-868"><a href="#cb1-868" aria-hidden="true" tabindex="-1"></a><span class="co"># Altair plot</span></span>
<span id="cb1-869"><a href="#cb1-869" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-870"><a href="#cb1-870" aria-hidden="true" tabindex="-1"></a><span class="co"># Find the minimum y value (critical fraction) in the data</span></span>
<span id="cb1-871"><a href="#cb1-871" aria-hidden="true" tabindex="-1"></a>min_fc <span class="op">=</span> df[<span class="st">"Critical fraction"</span>].<span class="bu">min</span>()</span>
<span id="cb1-872"><a href="#cb1-872" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-873"><a href="#cb1-873" aria-hidden="true" tabindex="-1"></a>chart_fc <span class="op">=</span> alt.Chart(df).mark_line().encode(</span>
<span id="cb1-874"><a href="#cb1-874" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(</span>
<span id="cb1-875"><a href="#cb1-875" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Maximum degree:Q"</span>,</span>
<span id="cb1-876"><a href="#cb1-876" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span><span class="st">"Maximum degree"</span>,</span>
<span id="cb1-877"><a href="#cb1-877" aria-hidden="true" tabindex="-1"></a>        axis<span class="op">=</span>alt.Axis(titleFontSize<span class="op">=</span><span class="dv">18</span>, labelFontSize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb1-878"><a href="#cb1-878" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb1-879"><a href="#cb1-879" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(</span>
<span id="cb1-880"><a href="#cb1-880" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Critical fraction:Q"</span>,</span>
<span id="cb1-881"><a href="#cb1-881" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span><span class="st">"$f_c$"</span>,</span>
<span id="cb1-882"><a href="#cb1-882" aria-hidden="true" tabindex="-1"></a>        scale<span class="op">=</span>alt.Scale(domain<span class="op">=</span>[min_fc, <span class="fl">1.0</span>]),</span>
<span id="cb1-883"><a href="#cb1-883" aria-hidden="true" tabindex="-1"></a>        axis<span class="op">=</span>alt.Axis(titleFontSize<span class="op">=</span><span class="dv">18</span>, labelFontSize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb1-884"><a href="#cb1-884" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb1-885"><a href="#cb1-885" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span>alt.Color(</span>
<span id="cb1-886"><a href="#cb1-886" aria-hidden="true" tabindex="-1"></a>        <span class="st">"gamma:N"</span>,</span>
<span id="cb1-887"><a href="#cb1-887" aria-hidden="true" tabindex="-1"></a>        scale<span class="op">=</span>alt.Scale(domain<span class="op">=</span><span class="bu">list</span>(gamma_labels.values()), <span class="bu">range</span><span class="op">=</span>[colors[g] <span class="cf">for</span> g <span class="kw">in</span> gammas]),</span>
<span id="cb1-888"><a href="#cb1-888" aria-hidden="true" tabindex="-1"></a>        legend<span class="op">=</span>alt.Legend(title<span class="op">=</span><span class="st">"gamma"</span>, titleFontSize<span class="op">=</span><span class="dv">16</span>, labelFontSize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb1-889"><a href="#cb1-889" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb1-890"><a href="#cb1-890" aria-hidden="true" tabindex="-1"></a>    strokeDash<span class="op">=</span>alt.StrokeDash(</span>
<span id="cb1-891"><a href="#cb1-891" aria-hidden="true" tabindex="-1"></a>        <span class="st">"gamma:N"</span>,</span>
<span id="cb1-892"><a href="#cb1-892" aria-hidden="true" tabindex="-1"></a>        scale<span class="op">=</span>alt.Scale(domain<span class="op">=</span><span class="bu">list</span>(gamma_labels.values()), <span class="bu">range</span><span class="op">=</span>[[], [<span class="dv">5</span>,<span class="dv">5</span>], [<span class="dv">5</span>,<span class="dv">5</span>]]),</span>
<span id="cb1-893"><a href="#cb1-893" aria-hidden="true" tabindex="-1"></a>        legend<span class="op">=</span><span class="va">None</span></span>
<span id="cb1-894"><a href="#cb1-894" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb1-895"><a href="#cb1-895" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb1-896"><a href="#cb1-896" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">300</span>,</span>
<span id="cb1-897"><a href="#cb1-897" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">300</span>,</span>
<span id="cb1-898"><a href="#cb1-898" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span>alt.TitleParams(</span>
<span id="cb1-899"><a href="#cb1-899" aria-hidden="true" tabindex="-1"></a>        text<span class="op">=</span><span class="st">"Critical Fraction (k_min = 1)"</span>,</span>
<span id="cb1-900"><a href="#cb1-900" aria-hidden="true" tabindex="-1"></a>        fontSize<span class="op">=</span><span class="dv">20</span></span>
<span id="cb1-901"><a href="#cb1-901" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb1-902"><a href="#cb1-902" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-903"><a href="#cb1-903" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-904"><a href="#cb1-904" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-905"><a href="#cb1-905" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-906"><a href="#cb1-906" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-907"><a href="#cb1-907" aria-hidden="true" tabindex="-1"></a><span class="fu">## References</span></span>
<span id="cb1-908"><a href="#cb1-908" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-909"><a href="#cb1-909" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>**Borůvka, O.** (1926). O jistém problému minimálním <span class="co">[</span><span class="ot">About a certain minimal problem</span><span class="co">]</span>. *Práce Moravské Přírodovědecké Společnosti*, 3, 37-58. <span class="co">[</span><span class="ot">Original work on minimum spanning trees</span><span class="co">]</span></span>
<span id="cb1-910"><a href="#cb1-910" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-911"><a href="#cb1-911" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>**Molloy, M., &amp; Reed, B.** (1995). A critical point for random graphs with a given degree sequence. *Random Structures &amp; Algorithms*, 6(2-3), 161-180. <span class="co">[</span><span class="ot">Molloy-Reed criterion</span><span class="co">]</span></span>
<span id="cb1-912"><a href="#cb1-912" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-913"><a href="#cb1-913" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>**Albert, R., Jeong, H., &amp; Barabási, A. L.** (2000). Error and attack tolerance of complex networks. *Nature*, 406(6794), 378-382. <span class="co">[</span><span class="ot">Seminal paper on network robustness and the "Achilles' heel" property</span><span class="co">]</span></span>
<span id="cb1-914"><a href="#cb1-914" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-915"><a href="#cb1-915" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>**Cohen, R., Erez, K., ben-Avraham, D., &amp; Havlin, S.** (2000). Resilience of the Internet to random breakdowns. *Physical Review Letters*, 85(21), 4626-4629. <span class="co">[</span><span class="ot">Mathematical framework for random failures</span><span class="co">]</span></span>
<span id="cb1-916"><a href="#cb1-916" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-917"><a href="#cb1-917" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span>**Cohen, R., Erez, K., ben-Avraham, D., &amp; Havlin, S.** (2001). Breakdown of the Internet under intentional attack. *Physical Review Letters*, 86(16), 3682-3685. <span class="co">[</span><span class="ot">Mathematical analysis of targeted attacks</span><span class="co">]</span></span>
<span id="cb1-918"><a href="#cb1-918" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-919"><a href="#cb1-919" aria-hidden="true" tabindex="-1"></a><span class="ss">6. </span>**Callaway, D. S., Newman, M. E., Strogatz, S. H., &amp; Watts, D. J.** (2000). Network robustness and fragility: Percolation on random graphs. *Physical Review Letters*, 85(25), 5468-5471. <span class="co">[</span><span class="ot">Percolation theory approach to network robustness</span><span class="co">]</span></span>
<span id="cb1-920"><a href="#cb1-920" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-921"><a href="#cb1-921" aria-hidden="true" tabindex="-1"></a><span class="ss">7. </span>**Cohen, R., &amp; Havlin, S.** (2010). *Complex Networks: Structure, Robustness and Function*. Cambridge University Press. <span class="co">[</span><span class="ot">Comprehensive treatment of network robustness theory</span><span class="co">]</span></span>
<span id="cb1-922"><a href="#cb1-922" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-923"><a href="#cb1-923" aria-hidden="true" tabindex="-1"></a><span class="ss">8. </span>**Newman, M. E. J.** (2018). *Networks*. Oxford University Press. <span class="co">[</span><span class="ot">Modern textbook covering network robustness and percolation</span><span class="co">]</span></span></code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright 2024, Sadamori Kojaku</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions"><ul><li><a href="https://github.com/skojaku/adv-net-sci/edit/main/m03-robustness/01-concepts.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/skojaku/adv-net-sci/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/skojaku/adv-net-sci">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>