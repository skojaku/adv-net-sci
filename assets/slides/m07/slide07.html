<!DOCTYPE html>
<html lang="en"><head>
<script src="slide07_files/libs/clipboard/clipboard.min.js"></script>
<script src="slide07_files/libs/quarto-html/tabby.min.js"></script>
<script src="slide07_files/libs/quarto-html/popper.min.js"></script>
<script src="slide07_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="slide07_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="slide07_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="slide07_files/libs/quarto-html/quarto-syntax-highlighting-5b7483c97dc30dc8d012982105b21dc6.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.32">

  <title>slide07</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="slide07_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="slide07_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #d3d7c1; background-color: #201f1f; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #d3d7c1; } /* Normal */
    code span.al { color: #e85848; background-color: #451e1a; font-weight: bold; } /* Alert */
    code span.an { color: #ad7fa8; } /* Annotation */
    code span.at { color: #ad7fa8; } /* Attribute */
    code span.bn { color: #edd400; } /* BaseN */
    code span.bu { color: #729fcf; } /* BuiltIn */
    code span.cf { color: #ffffff; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #ce5c00; } /* Char */
    code span.cn { color: #edd400; font-weight: bold; } /* Constant */
    code span.co { color: #30a100; } /* Comment */
    code span.cv { color: #ad7fa8; } /* CommentVar */
    code span.do { color: #4e9a06; } /* Documentation */
    code span.dt { color: #508ed8; } /* DataType */
    code span.dv { color: #edd400; } /* DecVal */
    code span.er { color: #e85848; text-decoration: underline; } /* Error */
    code span.ex { color: #508ed8; font-weight: bold; } /* Extension */
    code span.fl { color: #ce5c00; } /* Float */
    code span.fu { color: #729fcf; font-weight: bold; } /* Function */
    code span.im { color: #ad7fa8; } /* Import */
    code span.in { color: #c0a25f; } /* Information */
    code span.kw { color: #ffffff; font-weight: bold; } /* Keyword */
    code span.op { color: #eeeeec; } /* Operator */
    code span.ot { color: #edd400; } /* Other */
    code span.pp { color: #ad7fa8; } /* Preprocessor */
    code span.re { color: #508ed8; background-color: #1c2c3f; } /* RegionMarker */
    code span.sc { color: #ce5c00; } /* SpecialChar */
    code span.ss { color: #fce94f; } /* SpecialString */
    code span.st { color: #edd400; } /* String */
    code span.va { color: #ce5c00; } /* Variable */
    code span.vs { color: #c4a000; } /* VerbatimString */
    code span.wa { color: #e85848; } /* Warning */
  </style>
  <link rel="stylesheet" href="slide07_files/libs/revealjs/dist/theme/quarto-957d86545142dc8dea817fafa96611aa.css">
  <link rel="stylesheet" href="css/style.css">
  <link href="slide07_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="slide07_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="slide07_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="slide07_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="slide07_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="slide07_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section class="slide level2">

<p>Check list</p>
<ul class="task-list">
<li><label><input type="checkbox">Microphone turned on</label></li>
<li><label><input type="checkbox">Zoom room open</label></li>
<li><label><input type="checkbox">Recording on</label></li>
<li><label><input type="checkbox">Mouse cursor visible</label></li>
<li><label><input type="checkbox">Sound Volume on</label></li>
</ul>
</section>
<section>
<section id="advanced-topics-in-network-science" class="title-slide slide level1 center">
<h1>Advanced Topics in Network Science</h1>
<p>Lecture 07: Random Walks Sadamori Kojaku</p>
</section>
<section id="what-to-learn" class="slide level2">
<h2>What to Learn 📚</h2>
<ul>
<li>🎲 Random walks as a powerful tool in network analysis</li>
<li>🧮 Characterization of random walks in networks</li>
<li>🌟 Steady state distribution, and dynamic behavior</li>
<li>🔗 Connection to centrality measures and community detection</li>
</ul>
</section>
<section id="have-you-ever-played-this-game" class="slide level2">
<h2>Have you ever played this game? 🎮</h2>

<img data-src="https://livedoor.blogimg.jp/yoursong1982/imgs/6/d/6d6f0b43.jpg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="ladder-lottery-game" class="slide level2">
<h2>Ladder Lottery Game 🪜</h2>
<div class="columns">
<div class="column">
<ul>
<li>Choose a line.</li>
<li>Move along the line, cross the horizontal lines if you hit them.</li>
<li>Stop at the end of the line.</li>
<li>You’ll win if you hit a treasure at the end of the line.</li>
</ul>
<p>Suppose you know where is the treasure is located. Think a strategy to maximize your winning probability 🤔.</p>
<p><a href="https://skojaku.github.io/adv-net-sci/assets/vis/amida-kuji.html">Interactive demo 👾</a></p>
</div><div class="column">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://upload.wikimedia.org/wikipedia/commons/6/64/Amidakuji_2022-05-10.gif" class="quarto-figure quarto-figure-center" style="width:50.0%"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://s7.orientaltrading.com/is/image/OrientalTrading/FXBanner_808/16-x-20-classic-carnival-red-white-and-blue-wood-disk-drop-game~12_4067.jpg" class="quarto-figure quarto-figure-center" style="width:50.0%"></p>
</figure>
</div>
</div></div>
</section>
<section id="answer" class="slide level2">
<h2>Answer</h2>
<ul>
<li>Choose the line above the treasure.</li>
</ul>
</section>
<section id="why" class="slide level2">
<h2>Why?</h2>
<ul>
<li>Suppose that there is no horizontal line. You’ll win if you choose the line above the treasure.</li>
<li>Now, consider adding few horizontal lines. You’ll only move other lines few times, and you’ll end up with being on the line centered around the treasure with high probability.</li>
<li>The chance of winning “diffuses” as the number of horizontal lines increases, with limit close to uniform.</li>
</ul>
</section>
<section id="this-is-a-network" class="slide level2">
<h2>This is a network!</h2>
</section>
<section id="random-walks-in-networks" class="slide level2">
<h2>Random Walks in Networks 🌐</h2>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li>🚶‍♀️ Simple process: Start at a node, randomly move to neighbors</li>
<li>🏙️ Analogy: Drunk person walking in a city</li>
<li>Interestingly, this random process captures many important properties of networks</li>
<li>Unifies different concepts in network science, e.g., centrality, community structure</li>
</ul>
</div><div class="column" style="width:40%;">
<p><img data-src="../../lecture-note/figs/random-walk.png"></p>
</div></div>
</section>
<section id="interactive-demo-random-walk" class="slide level2">
<h2>Interactive Demo: Random Walk</h2>
<p><a href="https://skojaku.github.io/adv-net-sci/assets/vis/random-walks/index.html?">Random Walk Simulator</a></p>
<ol type="1">
<li>When the random walker makes many steps, where does it tend to visit most frequently?</li>
<li>When the walker makes only a few steps, where does it tend to visit?</li>
<li>Does the behavior of the walker inform us about centrality of the nodes?</li>
<li>Does the behavior of the walker inform us about communities in the network?</li>
</ol>
</section>
<section id="pen-and-paper-and-a-bit-of-coding-exercises" class="slide level2">
<h2>Pen and Paper (and a bit of coding) Exercises ✍️</h2>
<p><a href="https://skojaku.github.io/adv-net-sci/m07-random-walks/pen-and-paper/exercise.pdf">Pen and Paper Exercise (and a bit of coding)</a></p>
</section></section>
<section>
<section id="mathematical-foundations-of-random-walks" class="title-slide slide level1 center">
<h1>Mathematical Foundations of Random Walks 🧮</h1>

</section>
<section id="transition-probability-matrix" class="slide level2">
<h2>Transition Probability Matrix 📊</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Transition probability</p>
<p><span class="math display">\[
P_{ij} = \frac{A_{ij}}{k_i}
\]</span></p>
<p>where <span class="math inline">\(A_{ij}\)</span>: Adjacency matrix element, and <span class="math inline">\(k_i\)</span>: Degree of node <span class="math inline">\(i\)</span>.</p>
<p>In matrix form</p>
<p><span class="math display">\[
\mathbf{P} = \mathbf{D}^{-1}\mathbf{A}
\]</span></p>
<p>where <span class="math inline">\(\mathbf{D}\)</span>: Diagonal matrix of node degrees.</p>
</div><div class="column" style="width:50%;">
<p><img data-src="https://miro.medium.com/v2/resize:fit:970/1*UJCtt-ZviWVb6zEKEwgXQA.png"></p>
</div></div>
</section>
<section id="stationary-distribution" class="slide level2">
<h2>Stationary Distribution 📈</h2>
<ul>
<li><p>Let us consider a random walk on an undirected network starting from a node. After sufficiently many steps, where will the walker be?</p></li>
<li><p>Let <span class="math inline">\(x_i(t)\)</span> be the probability that a random walker is at node <span class="math inline">\(i\)</span> at time <span class="math inline">\(t\)</span>.</p></li>
<li><p>After many steps, <span class="math inline">\(\lim_{t\to\infty} x_i(t) = \pi_i\)</span>, which is <em>time invariant</em>, <span class="math inline">\(\pi_i\)</span> is called the stationary distribution</p></li>
<li><p>At stationary state,</p>
<p><span class="math display">\[
  {\bf \pi} = {\bf \pi P}
  \]</span></p>
<p>What is the solution?</p></li>
</ul>
</section>
<section id="stationary-distribution-1" class="slide level2">
<h2>Stationary Distribution</h2>
<p>This is the eigenvalue problem.</p>
<p><span class="math display">\[
{\bf \pi} = {\bf \pi P}
\]</span></p>
<p>One of the <strong>left</strong>-eigenvector of <span class="math inline">\({\bf P}\)</span> is the stationary distribution</p>
<p><strong>Question</strong>: - There are <span class="math inline">\(N\)</span> left-eigenvectors for a network with <span class="math inline">\(N\)</span> nodes. Which one represents the stationary distribution?</p>
</section>
<section id="coding-exercise" class="slide level2">
<h2>Coding Exercise:</h2>
<p>Create a karate-club graph.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href=""></a><span class="im">import</span> igraph <span class="im">as</span> ig</span>
<span id="cb1-2"><a href=""></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href=""></a></span>
<span id="cb1-4"><a href=""></a>g <span class="op">=</span> ig.Graph.Famous(<span class="st">"Zachary"</span>) <span class="co"># Load the Zachary's karate club network</span></span>
<span id="cb1-5"><a href=""></a>A <span class="op">=</span> g.get_adjacency_sparse() <span class="co"># Get the adjacency matrix</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Task 1</strong>: Create a line plot of the probability distribution of the random walker over the nodes as a function of the number of steps. Create the plot for walkers starting from node 0, 32, or 6.</p>
<p><strong>Task 2</strong>: Compute the stationary distribution using the eigenvector problem <span class="math inline">\({\bf \pi} = {\bf \pi P}\)</span>. You may want to use <code>np.linalg.eig</code> to compute the (left) eigenvectors and eigenvalues of the matrix <span class="math inline">\({\bf P}\)</span>.</p>
<p><strong>Task 3</strong>: Compare the stationary distribution with the degree distribution.</p>
</section></section>
<section>
<section id="transient-state" class="title-slide slide level1 center">
<h1>Transient state</h1>

</section>
<section id="transient-state-1" class="slide level2">
<h2>Transient State</h2>
<div class="columns">
<div class="column" style="width:55%;">
<p>Transient state captures the local structure around the starting node.</p>
<ul>
<li>e.g., community structure, cycles, degree assortativity, etc.</li>
</ul>
<p>When does the transient state end?</p>
<p>👉 <strong>Mixing Time</strong></p>
<ul>
<li><span class="math inline">\(t_{\text{mix}} = \min\{t : \max_{{\bf x}(0)} \|{\bf x}(t) - {\bf \pi}\|_{1} \leq \epsilon\}\)</span></li>
</ul>
<p>Time to reach the stationary distribution within a certain tolerance <span class="math inline">\(\epsilon\)</span>.</p>
</div><div class="column" style="width:45%;">
<div id="d0935d7f" class="cell" data-execution_count="1">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="slide07_files/figure-revealjs/cell-2-output-1.png"></p>
</figure>
</div>
</div>
</div>
</div></div>
</section>
<section id="mixing-time" class="slide level2">
<h2>Mixing Time</h2>
<p>Random walk distribution <span class="math inline">\({\bf x}(t)\)</span> at time <span class="math inline">\(t\)</span> is given by</p>
<p><span class="math display">\[
  {\bf x}(t) = {\bf x}(0) \mathbf{P}^t.
\]</span></p>
<p>where</p>
<ul>
<li><span class="math inline">\({\bf x}(0)\)</span>: Initial state vector</li>
<li><span class="math inline">\({\bf x}(t)\)</span>: State vector at time <span class="math inline">\(t\)</span></li>
</ul>
<p>The mixing time depends on the initial state <span class="math inline">\({\bf x}(0)\)</span> and <span class="math inline">\({\bf P}^t\)</span>.</p>
<p>The network structure is encapsulated in <span class="math inline">\({\bf P}\)</span>. But this does not tell us what structure in <span class="math inline">\({\bf P}\)</span> affects the mixing time. 🤔</p>
</section>
<section id="whats-your-expectation" class="slide level2">
<h2>What’s your expectation?</h2>
<p>What network structure affects the mixing time, and in what way?</p>
<p>How does this structure show up in the transition probability matrix <span class="math inline">\({\bf P}\)</span>?</p>
<p><span class="math display">\[
  {\bf x}(t) = {\bf x}(0) \mathbf{P}^t.
\]</span></p>
</section></section>
<section>
<section id="lets-arm-ourselves-with-some-matrix-algebra" class="title-slide slide level1 center">
<h1>Let’s arm ourselves with some matrix algebra 🧰</h1>

</section>
<section id="diagonalizability" class="slide level2">
<h2>Diagonalizability</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Diagonalizable matrix</strong>: A matrix <span class="math inline">\(\mathbf{S}\)</span> is diagonalizable if <span class="math inline">\({\bf S}\)</span> can be represented as <span class="math inline">\(\mathbf{S} = \mathbf{Q}\mathbf{\Lambda}\mathbf{Q}^{-1}\)</span>, where <span class="math inline">\(\mathbf{Q}\)</span> is an invertible matrix and <span class="math inline">\(\mathbf{\Lambda}\)</span> is a diagonal matrix of eigenvalues.</p>
</div><div class="column" style="width:50%;">
<p><img data-src="https://skojaku.github.io/adv-net-sci/figs/diagonalizable.jpg"></p>
</div></div>
<p><strong>Exercise</strong>: Diagonalizabilty helps us to compute a power of a matrix easily. Compute the power <span class="math inline">\({\bf S}^2\)</span> of diagonalizable matrix <span class="math inline">\({\bf S} = \mathbf{Q}\mathbf{\Lambda}\mathbf{Q}^{-1}\)</span>.</p>
</section>
<section id="power-of-diagonalizable-matrix" class="slide level2">
<h2>Power of Diagonalizable Matrix</h2>
<ul>
<li><p><span class="math inline">\({\bf S}^2 = \mathbf{Q}\mathbf{\Lambda}\mathbf{Q}^{-1} \mathbf{Q}\mathbf{\Lambda}\mathbf{Q}^{-1} = \mathbf{Q}\mathbf{\Lambda}^2\mathbf{Q}^{-1}\)</span></p></li>
<li><p>In general, <span class="math inline">\({\bf S}^t = \mathbf{Q}\mathbf{\Lambda}^t\mathbf{Q}^{-1}\)</span></p></li>
</ul>

<img data-src="./diagonalizable-squared.jpg" class="r-stretch"></section>
<section class="slide level2">

<p>Is the transition matrix diagonalizable? Yes 🙂!</p>
<p>Let’s introduce a new matrix <span class="math inline">\(\mathbf{\bar A}\)</span> called <em>the normalized adjacency matrix</em>.</p>
<p><span class="math display">\[
\mathbf{\bar A} = \mathbf{D}^{-\frac{1}{2}} \mathbf{A} \mathbf{D}^{-\frac{1}{2}}
\]</span></p>
<p><span class="math inline">\({\bf D}\)</span> is a <em>diagonal matrix</em> of node degrees, i.e.,</p>
<p><span class="math display">\[
\mathbf{D} = \begin{pmatrix}
k_1 &amp; 0 &amp; \cdots &amp; 0 \\
0 &amp; k_2 &amp; \cdots &amp; 0 \\
\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\
0 &amp; 0 &amp; \cdots &amp; k_N
\end{pmatrix}
\]</span></p>
</section>
<section class="slide level2">

<p>The transition matrix <span class="math inline">\(\mathbf{P}\)</span> can be rewritten as <span class="math display">\[
  \begin{aligned}
  \mathbf{P} &amp;= \mathbf{D}^{-1} \mathbf{A} \\
  &amp; = \mathbf{D}^{-\frac{1}{2}} \left( \mathbf{D}^{-1/2} \mathbf{A} \mathbf{D}^{-1/2} \right) \mathbf{D}^{\frac{1}{2}} \\
  &amp;= \mathbf{D}^{-\frac{1}{2}} \mathbf{\bar A} \mathbf{D}^{\frac{1}{2}}
  \end{aligned}
\]</span></p>
<div class="columns">
<div class="column" style="width:50%;">
<p>Matrix <span class="math inline">\(\mathbf{\bar A}\)</span> is symmetric (since the network is undirected) and therefore diagonalizable:</p>
<p><span class="math display">\[
\mathbf{\bar A} = \mathbf{Q} \mathbf{\Lambda} \mathbf{Q}^{\top},
\]</span></p>
</div><div class="column" style="width:50%;">
<p><img data-src="https://skojaku.github.io/adv-net-sci/figs/diagonalizable.jpg"></p>
</div></div>
<p>where <span class="math inline">\(\mathbf{\Lambda}\)</span> is a diagonal matrix of eigenvalues, and <span class="math inline">\(\mathbf{Q}\)</span> is a matrix of eigenvectors of <span class="math inline">\(\mathbf{\bar A}\)</span>.</p>
</section>
<section class="slide level2">

<p>Let’s express <span class="math inline">\(\mathbf{P}^2\)</span> using <span class="math inline">\(\mathbf{D}\)</span>, <span class="math inline">\(\mathbf{Q}\)</span>, and <span class="math inline">\(\mathbf{\Lambda}\)</span>.</p>
<p><span class="math display">\[
\begin{aligned}
\mathbf{P}^2 &amp;= \left( \mathbf{D}^{-\frac{1}{2}} {\bf \overline A} \mathbf{D}^{\frac{1}{2}} \right)^2 \\
&amp;= \mathbf{D}^{-\frac{1}{2}} \mathbf{\overline A} \mathbf{D}^{\frac{1}{2}} \mathbf{D}^{-\frac{1}{2}} \mathbf{\overline A} \mathbf{D}^{\frac{1}{2}} \\
&amp; = \mathbf{D}^{-\frac{1}{2}} {\bf \overline A}^2 \mathbf{D}^{\frac{1}{2}} \\
&amp;= \underbrace{\mathbf{D}^{-\frac{1}{2}} \mathbf{Q}}_{{\bf Q}_L} {\bf \Lambda}^2 \underbrace{\mathbf{Q}^\top \mathbf{D}^{\frac{1}{2}}}_{{\bf Q}^\top _R}\\
\end{aligned}
\]</span></p>
<p>where we defined:</p>
<p><span class="math display">\[
{\bf Q}_L = \mathbf{D}^{-\frac{1}{2}} \mathbf{Q}, \quad {\bf Q} _R = \mathbf{D}^{\frac{1}{2}} \mathbf{Q}
\]</span></p>
<p><strong>Question</strong>: What would you get by computing the product <span class="math inline">\({\bf Q}_L ^\top {\bf Q}_R\)</span>?</p>
</section>
<section id="transition-matrix-is-diagonalizable" class="slide level2">
<h2>Transition matrix is diagonalizable</h2>
<p><span class="math display">\[
{\bf Q}_L ^\top {\bf Q}_R = \mathbf{I}
\]</span></p>
<p>So the transition matrix <span class="math inline">\(\mathbf{P}\)</span> is diagonalizable 🙂!</p>
<p><span class="math display">\[
\mathbf{P} = {\bf Q}_L \mathbf{\Lambda} \mathbf{Q}_R
\]</span></p>
<p>where</p>
<p><span class="math display">\[
{\bf Q}_L = \mathbf{D}^{-\frac{1}{2}} \mathbf{Q}, \quad {\bf Q} _R = \mathbf{D}^{\frac{1}{2}} \mathbf{Q}
\]</span></p>
<p>with <span class="math inline">\(\mathbf{Q}_R \mathbf{Q}_L^{-1} = \mathbf{I}\)</span>. This means that</p>
<p><span class="math display">\[
{\bf P}^t = {\bf Q}_L \mathbf{\Lambda}^t \mathbf{Q}_R
\]</span></p>
</section>
<section id="mixing-time-1" class="slide level2">
<h2>Mixing Time</h2>
<p>Let’s put <span class="math inline">\({\bf P}^t = {\bf Q}_L \mathbf{\Lambda}^t \mathbf{Q}_R\)</span> into the random walk equation:</p>
<p><span class="math display">\[
\begin{aligned}
{\bf x}(t) &amp;= {\bf x}(0) \mathbf{P}^t \\
&amp;= {\bf x}(0) \mathbf{Q}_L \mathbf{\Lambda}^t \mathbf{Q}_R
\end{aligned}
\]</span></p>
<p>In element-wise, we have</p>
<p><span class="math display">\[
\begin{pmatrix}
x_1(t) \\
x_2(t) \\
\vdots \\
x_N(t)
\end{pmatrix}
=
\sum_{\ell=1}^N
\left[
\lambda_\ell^t
\langle\mathbf{q}^{(R)}_{\ell},  \mathbf{x}(0) \rangle
\begin{pmatrix}
q^{(L)}_{\ell 1} \\
q^{(L)}_{\ell 2} \\
\vdots \\
q^{(L)}_{\ell N}
\end{pmatrix}
\right]
\]</span></p>
</section>
<section class="slide level2">


<img data-src="https://skojaku.github.io/adv-net-sci/figs/diagonalizable-sum.jpg" class="r-stretch"></section>
<section id="mixing-time-2" class="slide level2">
<h2>Mixing Time</h2>
<p><span class="math display">\[
\begin{pmatrix}
x_1(t) \\
x_2(t) \\
\vdots \\
x_N(t)
\end{pmatrix}
=
\sum_{\ell=1}^N
\left[
\color{red}{\lambda_\ell^t}
\langle\mathbf{q}^{(R)}_{\ell},  \mathbf{x}(0) \rangle
\begin{pmatrix}
q^{(L)}_{\ell 1} \\
q^{(L)}_{\ell 2} \\
\vdots \\
q^{(L)}_{\ell N}
\end{pmatrix}
\right]
\]</span></p>
<ul>
<li><span class="math inline">\(\lambda_i \leq 1\)</span> (the blue balls) with equality holds for the largest eigenvalue <span class="math inline">\(\lambda_1 = 1\)</span>.</li>
<li>When <span class="math inline">\(t \rightarrow \infty\)</span>, only the largest eigenvalue <span class="math inline">\(\lambda_1\)</span> survives</li>
<li>Other eigenvalues <span class="math inline">\(\lambda_i\)</span> decay exponentially as <span class="math inline">\(t\)</span> increases</li>
<li><span class="red-text">The second largest eigenvalue <span class="math inline">\(\lambda_2\)</span> most significantly affects the mixing time</span>.</li>
</ul>
</section>
<section id="mixing-time-and-relaxation-time" class="slide level2">
<h2>Mixing Time and Relaxation Time</h2>
<p>The relaxation time <span class="math inline">\(\tau\)</span> is given by</p>
<p><span class="math display">\[
\tau = \frac{1}{1-\lambda_2}
\]</span></p>
<p>where <span class="math inline">\(\lambda_2\)</span> is the second largest eigenvalue of the normalized adjacency matrix <span class="math inline">\(\mathbf{\bar A}\)</span>.</p>
<p>Relaxation time <span class="math inline">\(\tau\)</span> is a convenient reference for the mixing time, as it bounds the mixing time.</p>
<p><span class="math display">\[
t_{\text{mix}} &lt; \tau \log \left( \frac{1}{\epsilon \min_{i} \pi_i} \right)
\]</span></p>
</section>
<section id="coding-exercise-1" class="slide level2">
<h2>Coding Exercise</h2>
<p><strong>Task 1</strong>: Construct the adjacency matrices of two graphs as follows:</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-fig-width="4" data-fig-height="3.5" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class=""><p></p>
<div>
<svg width="384" height="336" viewbox="0.00 0.00 454.86 204.43" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none; display: block; margin: auto auto auto auto">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 200.43)">
<title>G1</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-200.43 450.86,-200.43 450.86,4 -4,4"></polygon>
<!-- 1 -->
<g id="node1" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="107.21" cy="-178.43" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="107.21" y="-174.23" font-family="Times,serif" font-size="14.00">1</text>
</g>
<!-- 2 -->
<g id="node2" class="node">
<title>2</title>
<ellipse fill="none" stroke="black" cx="27" cy="-98.21" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="27" y="-94.01" font-family="Times,serif" font-size="14.00">2</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge1" class="edge">
<title>1-&gt;2</title>
<path fill="none" stroke="black" d="M92.13,-163.34C77.79,-149 56.34,-127.55 42.02,-113.23"></path>
</g>
<!-- 3 -->
<g id="node3" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="107.21" cy="-18" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="107.21" y="-13.8" font-family="Times,serif" font-size="14.00">3</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge2" class="edge">
<title>1-&gt;3</title>
<path fill="none" stroke="black" d="M107.21,-160.34C107.21,-129.53 107.21,-67.21 107.21,-36.27"></path>
</g>
<!-- 4 -->
<g id="node4" class="node">
<title>4</title>
<ellipse fill="none" stroke="black" cx="187.43" cy="-98.21" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="187.43" y="-94.01" font-family="Times,serif" font-size="14.00">4</text>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge3" class="edge">
<title>1-&gt;4</title>
<path fill="none" stroke="black" d="M122.3,-163.34C136.64,-149 158.09,-127.55 172.41,-113.23"></path>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge4" class="edge">
<title>2-&gt;3</title>
<path fill="none" stroke="black" d="M42.09,-83.13C56.43,-68.79 77.88,-47.34 92.19,-33.02"></path>
</g>
<!-- 2&#45;&gt;4 -->
<g id="edge5" class="edge">
<title>2-&gt;4</title>
<path fill="none" stroke="black" d="M54.21,-98.21C83.8,-98.21 130.81,-98.21 160.35,-98.21"></path>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge6" class="edge">
<title>3-&gt;4</title>
<path fill="none" stroke="black" d="M122.3,-33.09C136.64,-47.43 158.09,-68.88 172.41,-83.19"></path>
</g>
<!-- 5 -->
<g id="node5" class="node">
<title>5</title>
<ellipse fill="none" stroke="black" cx="259.43" cy="-98.21" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="259.43" y="-94.01" font-family="Times,serif" font-size="14.00">5</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge13" class="edge">
<title>4-&gt;5</title>
<path fill="none" stroke="black" d="M214.65,-98.21C220.38,-98.21 226.43,-98.21 232.17,-98.21"></path>
</g>
<!-- 6 -->
<g id="node6" class="node">
<title>6</title>
<ellipse fill="none" stroke="black" cx="339.64" cy="-18" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="339.64" y="-13.8" font-family="Times,serif" font-size="14.00">6</text>
</g>
<!-- 5&#45;&gt;6 -->
<g id="edge7" class="edge">
<title>5-&gt;6</title>
<path fill="none" stroke="black" d="M274.52,-83.13C288.86,-68.79 310.3,-47.34 324.62,-33.02"></path>
</g>
<!-- 7 -->
<g id="node7" class="node">
<title>7</title>
<ellipse fill="none" stroke="black" cx="419.86" cy="-98.21" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="419.86" y="-94.01" font-family="Times,serif" font-size="14.00">7</text>
</g>
<!-- 5&#45;&gt;7 -->
<g id="edge8" class="edge">
<title>5-&gt;7</title>
<path fill="none" stroke="black" d="M286.64,-98.21C316.23,-98.21 363.24,-98.21 392.78,-98.21"></path>
</g>
<!-- 8 -->
<g id="node8" class="node">
<title>8</title>
<ellipse fill="none" stroke="black" cx="339.64" cy="-178.43" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="339.64" y="-174.23" font-family="Times,serif" font-size="14.00">8</text>
</g>
<!-- 5&#45;&gt;8 -->
<g id="edge9" class="edge">
<title>5-&gt;8</title>
<path fill="none" stroke="black" d="M274.52,-113.3C288.86,-127.64 310.3,-149.09 324.62,-163.41"></path>
</g>
<!-- 6&#45;&gt;7 -->
<g id="edge10" class="edge">
<title>6-&gt;7</title>
<path fill="none" stroke="black" d="M354.73,-33.09C369.07,-47.43 390.52,-68.88 404.84,-83.19"></path>
</g>
<!-- 6&#45;&gt;8 -->
<g id="edge11" class="edge">
<title>6-&gt;8</title>
<path fill="none" stroke="black" d="M339.64,-36.09C339.64,-66.9 339.64,-129.22 339.64,-160.16"></path>
</g>
<!-- 7&#45;&gt;8 -->
<g id="edge12" class="edge">
<title>7-&gt;8</title>
<path fill="none" stroke="black" d="M404.77,-113.3C390.43,-127.64 368.98,-149.09 354.66,-163.41"></path>
</g>
</g>
</svg>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-fig-width="4" data-fig-height="3.5" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class=""><p></p>
<div>
<svg width="384" height="336" viewbox="0.00 0.00 310.00 172.80" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none; display: block; margin: auto auto auto auto">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 168.8)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-168.8 306,-168.8 306,4 -4,4"></polygon>
<g id="clust1" class="cluster">
<title>cluster_2</title>
<path fill="none" stroke="black" d="M20,-8C20,-8 282,-8 282,-8 288,-8 294,-14 294,-20 294,-20 294,-144.8 294,-144.8 294,-150.8 288,-156.8 282,-156.8 282,-156.8 20,-156.8 20,-156.8 14,-156.8 8,-150.8 8,-144.8 8,-144.8 8,-20 8,-20 8,-14 14,-8 20,-8"></path>
<text text-anchor="middle" x="151" y="-140.2" font-family="Times,serif" font-size="14.00">Bipartite</text>
</g>
<!-- 9 -->
<g id="node1" class="node">
<title>9</title>
<ellipse fill="none" stroke="black" cx="259" cy="-106" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="259" y="-101.8" font-family="Times,serif" font-size="14.00">9</text>
</g>
<!-- 13 -->
<g id="node5" class="node">
<title>13</title>
<ellipse fill="none" stroke="black" cx="43" cy="-34" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="43" y="-29.8" font-family="Times,serif" font-size="14.00">13</text>
</g>
<!-- 9&#45;&gt;13 -->
<g id="edge1" class="edge">
<title>9-&gt;13</title>
<path fill="none" stroke="black" d="M237.97,-94.23C233.13,-91.98 227.95,-89.77 223,-88 160.87,-65.81 141.13,-74.19 79,-52 74.05,-50.23 68.87,-48.02 64.03,-45.77"></path>
</g>
<!-- 14 -->
<g id="node6" class="node">
<title>14</title>
<ellipse fill="none" stroke="black" cx="115" cy="-34" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="115" y="-29.8" font-family="Times,serif" font-size="14.00">14</text>
</g>
<!-- 9&#45;&gt;14 -->
<g id="edge2" class="edge">
<title>9-&gt;14</title>
<path fill="none" stroke="black" d="M237.75,-94.67C210.53,-81.44 163.6,-58.63 136.33,-45.37"></path>
</g>
<!-- 15 -->
<g id="node7" class="node">
<title>15</title>
<ellipse fill="none" stroke="black" cx="187" cy="-34" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="187" y="-29.8" font-family="Times,serif" font-size="14.00">15</text>
</g>
<!-- 9&#45;&gt;15 -->
<g id="edge3" class="edge">
<title>9-&gt;15</title>
<path fill="none" stroke="black" d="M244.43,-90.83C232.02,-78.77 214.27,-61.51 201.8,-49.38"></path>
</g>
<!-- 16 -->
<g id="node8" class="node">
<title>16</title>
<ellipse fill="none" stroke="black" cx="259" cy="-34" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="259" y="-29.8" font-family="Times,serif" font-size="14.00">16</text>
</g>
<!-- 9&#45;&gt;16 -->
<g id="edge4" class="edge">
<title>9-&gt;16</title>
<path fill="none" stroke="black" d="M259,-87.7C259,-76.85 259,-62.92 259,-52.1"></path>
</g>
<!-- 10 -->
<g id="node2" class="node">
<title>10</title>
<ellipse fill="none" stroke="black" cx="187" cy="-106" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="187" y="-101.8" font-family="Times,serif" font-size="14.00">10</text>
</g>
<!-- 10&#45;&gt;13 -->
<g id="edge5" class="edge">
<title>10-&gt;13</title>
<path fill="none" stroke="black" d="M165.75,-94.67C138.53,-81.44 91.6,-58.63 64.33,-45.37"></path>
</g>
<!-- 10&#45;&gt;14 -->
<g id="edge6" class="edge">
<title>10-&gt;14</title>
<path fill="none" stroke="black" d="M172.43,-90.83C160.02,-78.77 142.27,-61.51 129.8,-49.38"></path>
</g>
<!-- 10&#45;&gt;15 -->
<g id="edge7" class="edge">
<title>10-&gt;15</title>
<path fill="none" stroke="black" d="M187,-87.7C187,-76.85 187,-62.92 187,-52.1"></path>
</g>
<!-- 10&#45;&gt;16 -->
<g id="edge8" class="edge">
<title>10-&gt;16</title>
<path fill="none" stroke="black" d="M201.57,-90.83C213.98,-78.77 231.73,-61.51 244.2,-49.38"></path>
</g>
<!-- 11 -->
<g id="node3" class="node">
<title>11</title>
<ellipse fill="none" stroke="black" cx="115" cy="-106" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="115" y="-101.8" font-family="Times,serif" font-size="14.00">11</text>
</g>
<!-- 11&#45;&gt;13 -->
<g id="edge9" class="edge">
<title>11-&gt;13</title>
<path fill="none" stroke="black" d="M100.43,-90.83C88.02,-78.77 70.27,-61.51 57.8,-49.38"></path>
</g>
<!-- 11&#45;&gt;14 -->
<g id="edge10" class="edge">
<title>11-&gt;14</title>
<path fill="none" stroke="black" d="M115,-87.7C115,-76.85 115,-62.92 115,-52.1"></path>
</g>
<!-- 11&#45;&gt;15 -->
<g id="edge11" class="edge">
<title>11-&gt;15</title>
<path fill="none" stroke="black" d="M129.57,-90.83C141.98,-78.77 159.73,-61.51 172.2,-49.38"></path>
</g>
<!-- 11&#45;&gt;16 -->
<g id="edge12" class="edge">
<title>11-&gt;16</title>
<path fill="none" stroke="black" d="M136.25,-94.67C163.47,-81.44 210.4,-58.63 237.67,-45.37"></path>
</g>
<!-- 12 -->
<g id="node4" class="node">
<title>12</title>
<ellipse fill="none" stroke="black" cx="43" cy="-106" rx="27" ry="18"></ellipse>
<text text-anchor="middle" x="43" y="-101.8" font-family="Times,serif" font-size="14.00">12</text>
</g>
<!-- 12&#45;&gt;13 -->
<g id="edge13" class="edge">
<title>12-&gt;13</title>
<path fill="none" stroke="black" d="M43,-87.7C43,-76.85 43,-62.92 43,-52.1"></path>
</g>
<!-- 12&#45;&gt;14 -->
<g id="edge14" class="edge">
<title>12-&gt;14</title>
<path fill="none" stroke="black" d="M57.57,-90.83C69.98,-78.77 87.73,-61.51 100.2,-49.38"></path>
</g>
<!-- 12&#45;&gt;15 -->
<g id="edge15" class="edge">
<title>12-&gt;15</title>
<path fill="none" stroke="black" d="M64.25,-94.67C91.47,-81.44 138.4,-58.63 165.67,-45.37"></path>
</g>
<!-- 12&#45;&gt;16 -->
<g id="edge16" class="edge">
<title>12-&gt;16</title>
<path fill="none" stroke="black" d="M64.03,-94.23C68.87,-91.98 74.05,-89.77 79,-88 141.13,-65.81 160.87,-74.19 223,-52 227.95,-50.23 233.13,-48.02 237.97,-45.77"></path>
</g>
</g>
</svg>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</div></div>
<p><strong>Task 2</strong>: Compute the normalized adjacency matrix <span class="math inline">\({\bf \overline A} = \mathbf{D}^{-\frac{1}{2}} \mathbf{A} \mathbf{D}^{-\frac{1}{2}}\)</span>, where <span class="math inline">\(\mathbf{D}\)</span> is the degree diagonal matrix.</p>
<p><strong>Task 3</strong>: Compute the relaxation time <span class="math inline">\(\tau = \frac{1}{1-\lambda_2}\)</span> using the second largest eigenvalue <span class="math inline">\(\lambda_2\)</span> of the normalized adjacency matrix.</p>
</section>
<section id="relationship-between-random-walks-modularity-and-centrality" class="slide level2">
<h2>Relationship between Random Walks, Modularity, and Centrality 🌟</h2>
<p>https://skojaku.github.io/adv-net-sci/m07-random-walks/unifying-centrality-and-communities.html</p>

</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="slide07_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="slide07_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="slide07_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="slide07_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="slide07_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="slide07_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="slide07_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="slide07_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="slide07_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="slide07_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="slide07_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>